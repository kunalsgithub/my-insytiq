var D5=Object.defineProperty;var LP=n=>{throw TypeError(n)};var R5=(n,e,t)=>e in n?D5(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ao=(n,e,t)=>R5(n,typeof e!="symbol"?e+"":e,t),i0=(n,e,t)=>e.has(n)||LP("Cannot "+t);var se=(n,e,t)=>(i0(n,e,"read from private field"),t?t.call(n):e.get(n)),st=(n,e,t)=>e.has(n)?LP("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),He=(n,e,t,i)=>(i0(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),Ln=(n,e,t)=>(i0(n,e,"access private method"),t);var lp=(n,e,t,i)=>({set _(r){He(n,e,r,t)},get _(){return se(n,e,i)}});function qD(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var M5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var QD={exports:{}},_y={},ZD={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gf=Symbol.for("react.element"),N5=Symbol.for("react.portal"),O5=Symbol.for("react.fragment"),j5=Symbol.for("react.strict_mode"),L5=Symbol.for("react.profiler"),F5=Symbol.for("react.provider"),V5=Symbol.for("react.context"),B5=Symbol.for("react.forward_ref"),U5=Symbol.for("react.suspense"),$5=Symbol.for("react.memo"),z5=Symbol.for("react.lazy"),FP=Symbol.iterator;function H5(n){return n===null||typeof n!="object"?null:(n=FP&&n[FP]||n["@@iterator"],typeof n=="function"?n:null)}var JD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eR=Object.assign,tR={};function xc(n,e,t){this.props=n,this.context=e,this.refs=tR,this.updater=t||JD}xc.prototype.isReactComponent={};xc.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};xc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function nR(){}nR.prototype=xc.prototype;function Tx(n,e,t){this.props=n,this.context=e,this.refs=tR,this.updater=t||JD}var Ex=Tx.prototype=new nR;Ex.constructor=Tx;eR(Ex,xc.prototype);Ex.isPureReactComponent=!0;var VP=Array.isArray,iR=Object.prototype.hasOwnProperty,Px={current:null},rR={key:!0,ref:!0,__self:!0,__source:!0};function sR(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)iR.call(e,i)&&!rR.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:gf,type:n,key:s,ref:o,props:r,_owner:Px.current}}function W5(n,e){return{$$typeof:gf,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Sx(n){return typeof n=="object"&&n!==null&&n.$$typeof===gf}function G5(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var BP=/\/+/g;function r0(n,e){return typeof n=="object"&&n!==null&&n.key!=null?G5(""+n.key):e.toString(36)}function sm(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case gf:case N5:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+r0(o,0):i,VP(r)?(t="",n!=null&&(t=n.replace(BP,"$&/")+"/"),sm(r,e,t,"",function(u){return u})):r!=null&&(Sx(r)&&(r=W5(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(BP,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",VP(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+r0(s,a);o+=sm(s,e,t,l,r)}else if(l=H5(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+r0(s,a++),o+=sm(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function up(n,e,t){if(n==null)return n;var i=[],r=0;return sm(n,i,"","",function(s){return e.call(t,s,r++)}),i}function Y5(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var si={current:null},om={transition:null},X5={ReactCurrentDispatcher:si,ReactCurrentBatchConfig:om,ReactCurrentOwner:Px};function oR(){throw Error("act(...) is not supported in production builds of React.")}Xe.Children={map:up,forEach:function(n,e,t){up(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return up(n,function(){e++}),e},toArray:function(n){return up(n,function(e){return e})||[]},only:function(n){if(!Sx(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Xe.Component=xc;Xe.Fragment=O5;Xe.Profiler=L5;Xe.PureComponent=Tx;Xe.StrictMode=j5;Xe.Suspense=U5;Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X5;Xe.act=oR;Xe.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=eR({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Px.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)iR.call(e,l)&&!rR.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:gf,type:n.type,key:r,ref:s,props:i,_owner:o}};Xe.createContext=function(n){return n={$$typeof:V5,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:F5,_context:n},n.Consumer=n};Xe.createElement=sR;Xe.createFactory=function(n){var e=sR.bind(null,n);return e.type=n,e};Xe.createRef=function(){return{current:null}};Xe.forwardRef=function(n){return{$$typeof:B5,render:n}};Xe.isValidElement=Sx;Xe.lazy=function(n){return{$$typeof:z5,_payload:{_status:-1,_result:n},_init:Y5}};Xe.memo=function(n,e){return{$$typeof:$5,type:n,compare:e===void 0?null:e}};Xe.startTransition=function(n){var e=om.transition;om.transition={};try{n()}finally{om.transition=e}};Xe.unstable_act=oR;Xe.useCallback=function(n,e){return si.current.useCallback(n,e)};Xe.useContext=function(n){return si.current.useContext(n)};Xe.useDebugValue=function(){};Xe.useDeferredValue=function(n){return si.current.useDeferredValue(n)};Xe.useEffect=function(n,e){return si.current.useEffect(n,e)};Xe.useId=function(){return si.current.useId()};Xe.useImperativeHandle=function(n,e,t){return si.current.useImperativeHandle(n,e,t)};Xe.useInsertionEffect=function(n,e){return si.current.useInsertionEffect(n,e)};Xe.useLayoutEffect=function(n,e){return si.current.useLayoutEffect(n,e)};Xe.useMemo=function(n,e){return si.current.useMemo(n,e)};Xe.useReducer=function(n,e,t){return si.current.useReducer(n,e,t)};Xe.useRef=function(n){return si.current.useRef(n)};Xe.useState=function(n){return si.current.useState(n)};Xe.useSyncExternalStore=function(n,e,t){return si.current.useSyncExternalStore(n,e,t)};Xe.useTransition=function(){return si.current.useTransition()};Xe.version="18.3.1";ZD.exports=Xe;var w=ZD.exports;const te=xx(w),rd=qD({__proto__:null,default:te},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K5=w,q5=Symbol.for("react.element"),Q5=Symbol.for("react.fragment"),Z5=Object.prototype.hasOwnProperty,J5=K5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eU={key:!0,ref:!0,__self:!0,__source:!0};function aR(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)Z5.call(e,i)&&!eU.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:q5,type:n,key:s,ref:o,props:r,_owner:J5.current}}_y.Fragment=Q5;_y.jsx=aR;_y.jsxs=aR;QD.exports=_y;var p=QD.exports,lR={exports:{}},Li={},uR={exports:{}},cR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,j){var L=F.length;F.push(j);e:for(;0<L;){var B=L-1>>>1,z=F[B];if(0<r(z,j))F[B]=j,F[L]=z,L=B;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var j=F[0],L=F.pop();if(L!==j){F[0]=L;e:for(var B=0,z=F.length,$=z>>>1;B<$;){var oe=2*(B+1)-1,K=F[oe],ne=oe+1,le=F[ne];if(0>r(K,L))ne<z&&0>r(le,K)?(F[B]=le,F[ne]=L,B=ne):(F[B]=K,F[oe]=L,B=oe);else if(ne<z&&0>r(le,L))F[B]=le,F[ne]=L,B=ne;else break e}}return j}function r(F,j){var L=F.sortIndex-j.sortIndex;return L!==0?L:F.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,y=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(F){for(var j=t(u);j!==null;){if(j.callback===null)i(u);else if(j.startTime<=F)i(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=t(u)}}function P(F){if(g=!1,x(F),!y)if(t(l)!==null)y=!0,ee(k);else{var j=t(u);j!==null&&H(P,j.startTime-F)}}function k(F,j){y=!1,g&&(g=!1,v(T),T=-1),f=!0;var L=d;try{for(x(j),h=t(l);h!==null&&(!(h.expirationTime>j)||F&&!D());){var B=h.callback;if(typeof B=="function"){h.callback=null,d=h.priorityLevel;var z=B(h.expirationTime<=j);j=n.unstable_now(),typeof z=="function"?h.callback=z:h===t(l)&&i(l),x(j)}else i(l);h=t(l)}if(h!==null)var $=!0;else{var oe=t(u);oe!==null&&H(P,oe.startTime-j),$=!1}return $}finally{h=null,d=L,f=!1}}var M=!1,A=null,T=-1,E=5,C=-1;function D(){return!(n.unstable_now()-C<E)}function N(){if(A!==null){var F=n.unstable_now();C=F;var j=!0;try{j=A(!0,F)}finally{j?R():(M=!1,A=null)}}else M=!1}var R;if(typeof b=="function")R=function(){b(N)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,q=V.port2;V.port1.onmessage=N,R=function(){q.postMessage(null)}}else R=function(){_(N,0)};function ee(F){A=F,M||(M=!0,R())}function H(F,j){T=_(function(){F(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){y||f||(y=!0,ee(k))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(F){switch(d){case 1:case 2:case 3:var j=3;break;default:j=d}var L=d;d=j;try{return F()}finally{d=L}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,j){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var L=d;d=F;try{return j()}finally{d=L}},n.unstable_scheduleCallback=function(F,j,L){var B=n.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?B+L:B):L=B,F){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=L+z,F={id:c++,callback:j,priorityLevel:F,startTime:L,expirationTime:z,sortIndex:-1},L>B?(F.sortIndex=L,e(u,F),t(l)===null&&F===t(u)&&(g?(v(T),T=-1):g=!0,H(P,L-B))):(F.sortIndex=z,e(l,F),y||f||(y=!0,ee(k))),F},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(F){var j=d;return function(){var L=d;d=j;try{return F.apply(this,arguments)}finally{d=L}}}})(cR);uR.exports=cR;var tU=uR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nU=w,Oi=tU;function ue(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hR=new Set,sd={};function Il(n,e){Yu(n,e),Yu(n+"Capture",e)}function Yu(n,e){for(sd[n]=e,n=0;n<e.length;n++)hR.add(e[n])}var js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fb=Object.prototype.hasOwnProperty,iU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,UP={},$P={};function rU(n){return Fb.call($P,n)?!0:Fb.call(UP,n)?!1:iU.test(n)?$P[n]=!0:(UP[n]=!0,!1)}function sU(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function oU(n,e,t,i){if(e===null||typeof e>"u"||sU(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function oi(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Dn[n]=new oi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Dn[e]=new oi(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Dn[n]=new oi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Dn[n]=new oi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Dn[n]=new oi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Dn[n]=new oi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Dn[n]=new oi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Dn[n]=new oi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Dn[n]=new oi(n,5,!1,n.toLowerCase(),null,!1,!1)});var Cx=/[\-:]([a-z])/g;function Ax(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Cx,Ax);Dn[e]=new oi(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Cx,Ax);Dn[e]=new oi(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Cx,Ax);Dn[e]=new oi(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Dn[n]=new oi(n,1,!1,n.toLowerCase(),null,!1,!1)});Dn.xlinkHref=new oi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Dn[n]=new oi(n,1,!1,n.toLowerCase(),null,!0,!0)});function kx(n,e,t,i){var r=Dn.hasOwnProperty(e)?Dn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oU(e,t,r,i)&&(t=null),i||r===null?rU(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Js=nU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cp=Symbol.for("react.element"),tu=Symbol.for("react.portal"),nu=Symbol.for("react.fragment"),Ix=Symbol.for("react.strict_mode"),Vb=Symbol.for("react.profiler"),dR=Symbol.for("react.provider"),fR=Symbol.for("react.context"),Dx=Symbol.for("react.forward_ref"),Bb=Symbol.for("react.suspense"),Ub=Symbol.for("react.suspense_list"),Rx=Symbol.for("react.memo"),yo=Symbol.for("react.lazy"),pR=Symbol.for("react.offscreen"),zP=Symbol.iterator;function th(n){return n===null||typeof n!="object"?null:(n=zP&&n[zP]||n["@@iterator"],typeof n=="function"?n:null)}var Dt=Object.assign,s0;function mh(n){if(s0===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);s0=e&&e[1]||""}return`
`+s0+n}var o0=!1;function a0(n,e){if(!n||o0)return"";o0=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){i=u}n.call(e.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{o0=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?mh(n):""}function aU(n){switch(n.tag){case 5:return mh(n.type);case 16:return mh("Lazy");case 13:return mh("Suspense");case 19:return mh("SuspenseList");case 0:case 2:case 15:return n=a0(n.type,!1),n;case 11:return n=a0(n.type.render,!1),n;case 1:return n=a0(n.type,!0),n;default:return""}}function $b(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case nu:return"Fragment";case tu:return"Portal";case Vb:return"Profiler";case Ix:return"StrictMode";case Bb:return"Suspense";case Ub:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case fR:return(n.displayName||"Context")+".Consumer";case dR:return(n._context.displayName||"Context")+".Provider";case Dx:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Rx:return e=n.displayName||null,e!==null?e:$b(n.type)||"Memo";case yo:e=n._payload,n=n._init;try{return $b(n(e))}catch{}}return null}function lU(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $b(e);case 8:return e===Ix?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ta(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function mR(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uU(n){var e=mR(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function hp(n){n._valueTracker||(n._valueTracker=uU(n))}function gR(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=mR(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Bm(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function zb(n,e){var t=e.checked;return Dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function HP(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=ta(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yR(n,e){e=e.checked,e!=null&&kx(n,"checked",e,!1)}function Hb(n,e){yR(n,e);var t=ta(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Wb(n,e.type,t):e.hasOwnProperty("defaultValue")&&Wb(n,e.type,ta(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function WP(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Wb(n,e,t){(e!=="number"||Bm(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var gh=Array.isArray;function wu(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+ta(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function Gb(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ue(91));return Dt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function GP(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(ue(92));if(gh(t)){if(1<t.length)throw Error(ue(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:ta(t)}}function vR(n,e){var t=ta(e.value),i=ta(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function YP(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function bR(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yb(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?bR(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var dp,_R=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(dp=dp||document.createElement("div"),dp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dp.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function od(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Rh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cU=["Webkit","ms","Moz","O"];Object.keys(Rh).forEach(function(n){cU.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Rh[e]=Rh[n]})});function wR(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Rh.hasOwnProperty(n)&&Rh[n]?(""+e).trim():e+"px"}function xR(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=wR(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var hU=Dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xb(n,e){if(e){if(hU[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ue(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ue(62))}}function Kb(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qb=null;function Mx(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Qb=null,xu=null,Tu=null;function XP(n){if(n=bf(n)){if(typeof Qb!="function")throw Error(ue(280));var e=n.stateNode;e&&(e=Py(e),Qb(n.stateNode,n.type,e))}}function TR(n){xu?Tu?Tu.push(n):Tu=[n]:xu=n}function ER(){if(xu){var n=xu,e=Tu;if(Tu=xu=null,XP(n),e)for(n=0;n<e.length;n++)XP(e[n])}}function PR(n,e){return n(e)}function SR(){}var l0=!1;function CR(n,e,t){if(l0)return n(e,t);l0=!0;try{return PR(n,e,t)}finally{l0=!1,(xu!==null||Tu!==null)&&(SR(),ER())}}function ad(n,e){var t=n.stateNode;if(t===null)return null;var i=Py(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(ue(231,e,typeof t));return t}var Zb=!1;if(js)try{var nh={};Object.defineProperty(nh,"passive",{get:function(){Zb=!0}}),window.addEventListener("test",nh,nh),window.removeEventListener("test",nh,nh)}catch{Zb=!1}function dU(n,e,t,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(c){this.onError(c)}}var Mh=!1,Um=null,$m=!1,Jb=null,fU={onError:function(n){Mh=!0,Um=n}};function pU(n,e,t,i,r,s,o,a,l){Mh=!1,Um=null,dU.apply(fU,arguments)}function mU(n,e,t,i,r,s,o,a,l){if(pU.apply(this,arguments),Mh){if(Mh){var u=Um;Mh=!1,Um=null}else throw Error(ue(198));$m||($m=!0,Jb=u)}}function Dl(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function AR(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function KP(n){if(Dl(n)!==n)throw Error(ue(188))}function gU(n){var e=n.alternate;if(!e){if(e=Dl(n),e===null)throw Error(ue(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return KP(r),n;if(s===i)return KP(r),e;s=s.sibling}throw Error(ue(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(ue(189))}}if(t.alternate!==i)throw Error(ue(190))}if(t.tag!==3)throw Error(ue(188));return t.stateNode.current===t?n:e}function kR(n){return n=gU(n),n!==null?IR(n):null}function IR(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=IR(n);if(e!==null)return e;n=n.sibling}return null}var DR=Oi.unstable_scheduleCallback,qP=Oi.unstable_cancelCallback,yU=Oi.unstable_shouldYield,vU=Oi.unstable_requestPaint,Wt=Oi.unstable_now,bU=Oi.unstable_getCurrentPriorityLevel,Nx=Oi.unstable_ImmediatePriority,RR=Oi.unstable_UserBlockingPriority,zm=Oi.unstable_NormalPriority,_U=Oi.unstable_LowPriority,MR=Oi.unstable_IdlePriority,wy=null,Xr=null;function wU(n){if(Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(wy,n,void 0,(n.current.flags&128)===128)}catch{}}var Er=Math.clz32?Math.clz32:EU,xU=Math.log,TU=Math.LN2;function EU(n){return n>>>=0,n===0?32:31-(xU(n)/TU|0)|0}var fp=64,pp=4194304;function yh(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Hm(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=yh(a):(s&=o,s!==0&&(i=yh(s)))}else o=t&~r,o!==0?i=yh(o):s!==0&&(i=yh(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Er(e),r=1<<t,i|=n[t],e&=~r;return i}function PU(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SU(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Er(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=PU(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function e_(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function NR(){var n=fp;return fp<<=1,!(fp&4194240)&&(fp=64),n}function u0(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function yf(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Er(e),n[e]=t}function CU(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Er(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function Ox(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Er(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var dt=0;function OR(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var jR,jx,LR,FR,VR,t_=!1,mp=[],Uo=null,$o=null,zo=null,ld=new Map,ud=new Map,xo=[],AU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function QP(n,e){switch(n){case"focusin":case"focusout":Uo=null;break;case"dragenter":case"dragleave":$o=null;break;case"mouseover":case"mouseout":zo=null;break;case"pointerover":case"pointerout":ld.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ud.delete(e.pointerId)}}function ih(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=bf(e),e!==null&&jx(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function kU(n,e,t,i,r){switch(e){case"focusin":return Uo=ih(Uo,n,e,t,i,r),!0;case"dragenter":return $o=ih($o,n,e,t,i,r),!0;case"mouseover":return zo=ih(zo,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return ld.set(s,ih(ld.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,ud.set(s,ih(ud.get(s)||null,n,e,t,i,r)),!0}return!1}function BR(n){var e=$a(n.target);if(e!==null){var t=Dl(e);if(t!==null){if(e=t.tag,e===13){if(e=AR(t),e!==null){n.blockedOn=e,VR(n.priority,function(){LR(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function am(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=n_(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);qb=i,t.target.dispatchEvent(i),qb=null}else return e=bf(t),e!==null&&jx(e),n.blockedOn=t,!1;e.shift()}return!0}function ZP(n,e,t){am(n)&&t.delete(e)}function IU(){t_=!1,Uo!==null&&am(Uo)&&(Uo=null),$o!==null&&am($o)&&($o=null),zo!==null&&am(zo)&&(zo=null),ld.forEach(ZP),ud.forEach(ZP)}function rh(n,e){n.blockedOn===e&&(n.blockedOn=null,t_||(t_=!0,Oi.unstable_scheduleCallback(Oi.unstable_NormalPriority,IU)))}function cd(n){function e(r){return rh(r,n)}if(0<mp.length){rh(mp[0],n);for(var t=1;t<mp.length;t++){var i=mp[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Uo!==null&&rh(Uo,n),$o!==null&&rh($o,n),zo!==null&&rh(zo,n),ld.forEach(e),ud.forEach(e),t=0;t<xo.length;t++)i=xo[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<xo.length&&(t=xo[0],t.blockedOn===null);)BR(t),t.blockedOn===null&&xo.shift()}var Eu=Js.ReactCurrentBatchConfig,Wm=!0;function DU(n,e,t,i){var r=dt,s=Eu.transition;Eu.transition=null;try{dt=1,Lx(n,e,t,i)}finally{dt=r,Eu.transition=s}}function RU(n,e,t,i){var r=dt,s=Eu.transition;Eu.transition=null;try{dt=4,Lx(n,e,t,i)}finally{dt=r,Eu.transition=s}}function Lx(n,e,t,i){if(Wm){var r=n_(n,e,t,i);if(r===null)b0(n,e,i,Gm,t),QP(n,i);else if(kU(r,n,e,t,i))i.stopPropagation();else if(QP(n,i),e&4&&-1<AU.indexOf(n)){for(;r!==null;){var s=bf(r);if(s!==null&&jR(s),s=n_(n,e,t,i),s===null&&b0(n,e,i,Gm,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else b0(n,e,i,null,t)}}var Gm=null;function n_(n,e,t,i){if(Gm=null,n=Mx(i),n=$a(n),n!==null)if(e=Dl(n),e===null)n=null;else if(t=e.tag,t===13){if(n=AR(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Gm=n,null}function UR(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bU()){case Nx:return 1;case RR:return 4;case zm:case _U:return 16;case MR:return 536870912;default:return 16}default:return 16}}var Mo=null,Fx=null,lm=null;function $R(){if(lm)return lm;var n,e=Fx,t=e.length,i,r="value"in Mo?Mo.value:Mo.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return lm=r.slice(n,1<i?1-i:void 0)}function um(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function gp(){return!0}function JP(){return!1}function Fi(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gp:JP,this.isPropagationStopped=JP,this}return Dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=gp)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=gp)},persist:function(){},isPersistent:gp}),e}var Tc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vx=Fi(Tc),vf=Dt({},Tc,{view:0,detail:0}),MU=Fi(vf),c0,h0,sh,xy=Dt({},vf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bx,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==sh&&(sh&&n.type==="mousemove"?(c0=n.screenX-sh.screenX,h0=n.screenY-sh.screenY):h0=c0=0,sh=n),c0)},movementY:function(n){return"movementY"in n?n.movementY:h0}}),eS=Fi(xy),NU=Dt({},xy,{dataTransfer:0}),OU=Fi(NU),jU=Dt({},vf,{relatedTarget:0}),d0=Fi(jU),LU=Dt({},Tc,{animationName:0,elapsedTime:0,pseudoElement:0}),FU=Fi(LU),VU=Dt({},Tc,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),BU=Fi(VU),UU=Dt({},Tc,{data:0}),tS=Fi(UU),$U={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WU(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=HU[n])?!!e[n]:!1}function Bx(){return WU}var GU=Dt({},vf,{key:function(n){if(n.key){var e=$U[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=um(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?zU[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bx,charCode:function(n){return n.type==="keypress"?um(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?um(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),YU=Fi(GU),XU=Dt({},xy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nS=Fi(XU),KU=Dt({},vf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bx}),qU=Fi(KU),QU=Dt({},Tc,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZU=Fi(QU),JU=Dt({},xy,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),e3=Fi(JU),t3=[9,13,27,32],Ux=js&&"CompositionEvent"in window,Nh=null;js&&"documentMode"in document&&(Nh=document.documentMode);var n3=js&&"TextEvent"in window&&!Nh,zR=js&&(!Ux||Nh&&8<Nh&&11>=Nh),iS=" ",rS=!1;function HR(n,e){switch(n){case"keyup":return t3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WR(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var iu=!1;function i3(n,e){switch(n){case"compositionend":return WR(e);case"keypress":return e.which!==32?null:(rS=!0,iS);case"textInput":return n=e.data,n===iS&&rS?null:n;default:return null}}function r3(n,e){if(iu)return n==="compositionend"||!Ux&&HR(n,e)?(n=$R(),lm=Fx=Mo=null,iu=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zR&&e.locale!=="ko"?null:e.data;default:return null}}var s3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sS(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!s3[n.type]:e==="textarea"}function GR(n,e,t,i){TR(i),e=Ym(e,"onChange"),0<e.length&&(t=new Vx("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Oh=null,hd=null;function o3(n){i2(n,0)}function Ty(n){var e=ou(n);if(gR(e))return n}function a3(n,e){if(n==="change")return e}var YR=!1;if(js){var f0;if(js){var p0="oninput"in document;if(!p0){var oS=document.createElement("div");oS.setAttribute("oninput","return;"),p0=typeof oS.oninput=="function"}f0=p0}else f0=!1;YR=f0&&(!document.documentMode||9<document.documentMode)}function aS(){Oh&&(Oh.detachEvent("onpropertychange",XR),hd=Oh=null)}function XR(n){if(n.propertyName==="value"&&Ty(hd)){var e=[];GR(e,hd,n,Mx(n)),CR(o3,e)}}function l3(n,e,t){n==="focusin"?(aS(),Oh=e,hd=t,Oh.attachEvent("onpropertychange",XR)):n==="focusout"&&aS()}function u3(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ty(hd)}function c3(n,e){if(n==="click")return Ty(e)}function h3(n,e){if(n==="input"||n==="change")return Ty(e)}function d3(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Ir=typeof Object.is=="function"?Object.is:d3;function dd(n,e){if(Ir(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!Fb.call(e,r)||!Ir(n[r],e[r]))return!1}return!0}function lS(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function uS(n,e){var t=lS(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=lS(t)}}function KR(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?KR(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function qR(){for(var n=window,e=Bm();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Bm(n.document)}return e}function $x(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function f3(n){var e=qR(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&KR(t.ownerDocument.documentElement,t)){if(i!==null&&$x(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=uS(t,s);var o=uS(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var p3=js&&"documentMode"in document&&11>=document.documentMode,ru=null,i_=null,jh=null,r_=!1;function cS(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;r_||ru==null||ru!==Bm(i)||(i=ru,"selectionStart"in i&&$x(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),jh&&dd(jh,i)||(jh=i,i=Ym(i_,"onSelect"),0<i.length&&(e=new Vx("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=ru)))}function yp(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var su={animationend:yp("Animation","AnimationEnd"),animationiteration:yp("Animation","AnimationIteration"),animationstart:yp("Animation","AnimationStart"),transitionend:yp("Transition","TransitionEnd")},m0={},QR={};js&&(QR=document.createElement("div").style,"AnimationEvent"in window||(delete su.animationend.animation,delete su.animationiteration.animation,delete su.animationstart.animation),"TransitionEvent"in window||delete su.transitionend.transition);function Ey(n){if(m0[n])return m0[n];if(!su[n])return n;var e=su[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in QR)return m0[n]=e[t];return n}var ZR=Ey("animationend"),JR=Ey("animationiteration"),e2=Ey("animationstart"),t2=Ey("transitionend"),n2=new Map,hS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ba(n,e){n2.set(n,e),Il(e,[n])}for(var g0=0;g0<hS.length;g0++){var y0=hS[g0],m3=y0.toLowerCase(),g3=y0[0].toUpperCase()+y0.slice(1);ba(m3,"on"+g3)}ba(ZR,"onAnimationEnd");ba(JR,"onAnimationIteration");ba(e2,"onAnimationStart");ba("dblclick","onDoubleClick");ba("focusin","onFocus");ba("focusout","onBlur");ba(t2,"onTransitionEnd");Yu("onMouseEnter",["mouseout","mouseover"]);Yu("onMouseLeave",["mouseout","mouseover"]);Yu("onPointerEnter",["pointerout","pointerover"]);Yu("onPointerLeave",["pointerout","pointerover"]);Il("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Il("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Il("onBeforeInput",["compositionend","keypress","textInput","paste"]);Il("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Il("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Il("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y3=new Set("cancel close invalid load scroll toggle".split(" ").concat(vh));function dS(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,mU(i,e,void 0,n),n.currentTarget=null}function i2(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;dS(r,a,u),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;dS(r,a,u),s=l}}}if($m)throw n=Jb,$m=!1,Jb=null,n}function wt(n,e){var t=e[u_];t===void 0&&(t=e[u_]=new Set);var i=n+"__bubble";t.has(i)||(r2(e,n,2,!1),t.add(i))}function v0(n,e,t){var i=0;e&&(i|=4),r2(t,n,i,e)}var vp="_reactListening"+Math.random().toString(36).slice(2);function fd(n){if(!n[vp]){n[vp]=!0,hR.forEach(function(t){t!=="selectionchange"&&(y3.has(t)||v0(t,!1,n),v0(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[vp]||(e[vp]=!0,v0("selectionchange",!1,e))}}function r2(n,e,t,i){switch(UR(e)){case 1:var r=DU;break;case 4:r=RU;break;default:r=Lx}t=r.bind(null,e,t,n),r=void 0,!Zb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function b0(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=$a(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}CR(function(){var u=s,c=Mx(t),h=[];e:{var d=n2.get(n);if(d!==void 0){var f=Vx,y=n;switch(n){case"keypress":if(um(t)===0)break e;case"keydown":case"keyup":f=YU;break;case"focusin":y="focus",f=d0;break;case"focusout":y="blur",f=d0;break;case"beforeblur":case"afterblur":f=d0;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=eS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=OU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=qU;break;case ZR:case JR:case e2:f=FU;break;case t2:f=ZU;break;case"scroll":f=MU;break;case"wheel":f=e3;break;case"copy":case"cut":case"paste":f=BU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=nS}var g=(e&4)!==0,_=!g&&n==="scroll",v=g?d!==null?d+"Capture":null:d;g=[];for(var b=u,x;b!==null;){x=b;var P=x.stateNode;if(x.tag===5&&P!==null&&(x=P,v!==null&&(P=ad(b,v),P!=null&&g.push(pd(b,P,x)))),_)break;b=b.return}0<g.length&&(d=new f(d,y,null,t,c),h.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=n==="mouseover"||n==="pointerover",f=n==="mouseout"||n==="pointerout",d&&t!==qb&&(y=t.relatedTarget||t.fromElement)&&($a(y)||y[Ls]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(y=t.relatedTarget||t.toElement,f=u,y=y?$a(y):null,y!==null&&(_=Dl(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(f=null,y=u),f!==y)){if(g=eS,P="onMouseLeave",v="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(g=nS,P="onPointerLeave",v="onPointerEnter",b="pointer"),_=f==null?d:ou(f),x=y==null?d:ou(y),d=new g(P,b+"leave",f,t,c),d.target=_,d.relatedTarget=x,P=null,$a(c)===u&&(g=new g(v,b+"enter",y,t,c),g.target=x,g.relatedTarget=_,P=g),_=P,f&&y)t:{for(g=f,v=y,b=0,x=g;x;x=zl(x))b++;for(x=0,P=v;P;P=zl(P))x++;for(;0<b-x;)g=zl(g),b--;for(;0<x-b;)v=zl(v),x--;for(;b--;){if(g===v||v!==null&&g===v.alternate)break t;g=zl(g),v=zl(v)}g=null}else g=null;f!==null&&fS(h,d,f,g,!1),y!==null&&_!==null&&fS(h,_,y,g,!0)}}e:{if(d=u?ou(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var k=a3;else if(sS(d))if(YR)k=h3;else{k=u3;var M=l3}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=c3);if(k&&(k=k(n,u))){GR(h,k,t,c);break e}M&&M(n,d,u),n==="focusout"&&(M=d._wrapperState)&&M.controlled&&d.type==="number"&&Wb(d,"number",d.value)}switch(M=u?ou(u):window,n){case"focusin":(sS(M)||M.contentEditable==="true")&&(ru=M,i_=u,jh=null);break;case"focusout":jh=i_=ru=null;break;case"mousedown":r_=!0;break;case"contextmenu":case"mouseup":case"dragend":r_=!1,cS(h,t,c);break;case"selectionchange":if(p3)break;case"keydown":case"keyup":cS(h,t,c)}var A;if(Ux)e:{switch(n){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else iu?HR(n,t)&&(T="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(T="onCompositionStart");T&&(zR&&t.locale!=="ko"&&(iu||T!=="onCompositionStart"?T==="onCompositionEnd"&&iu&&(A=$R()):(Mo=c,Fx="value"in Mo?Mo.value:Mo.textContent,iu=!0)),M=Ym(u,T),0<M.length&&(T=new tS(T,n,null,t,c),h.push({event:T,listeners:M}),A?T.data=A:(A=WR(t),A!==null&&(T.data=A)))),(A=n3?i3(n,t):r3(n,t))&&(u=Ym(u,"onBeforeInput"),0<u.length&&(c=new tS("onBeforeInput","beforeinput",null,t,c),h.push({event:c,listeners:u}),c.data=A))}i2(h,e)})}function pd(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Ym(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=ad(n,t),s!=null&&i.unshift(pd(n,s,r)),s=ad(n,e),s!=null&&i.push(pd(n,s,r))),n=n.return}return i}function zl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function fS(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=ad(t,s),l!=null&&o.unshift(pd(t,l,a))):r||(l=ad(t,s),l!=null&&o.push(pd(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var v3=/\r\n?/g,b3=/\u0000|\uFFFD/g;function pS(n){return(typeof n=="string"?n:""+n).replace(v3,`
`).replace(b3,"")}function bp(n,e,t){if(e=pS(e),pS(n)!==e&&t)throw Error(ue(425))}function Xm(){}var s_=null,o_=null;function a_(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var l_=typeof setTimeout=="function"?setTimeout:void 0,_3=typeof clearTimeout=="function"?clearTimeout:void 0,mS=typeof Promise=="function"?Promise:void 0,w3=typeof queueMicrotask=="function"?queueMicrotask:typeof mS<"u"?function(n){return mS.resolve(null).then(n).catch(x3)}:l_;function x3(n){setTimeout(function(){throw n})}function _0(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),cd(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);cd(e)}function Ho(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function gS(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Ec=Math.random().toString(36).slice(2),Wr="__reactFiber$"+Ec,md="__reactProps$"+Ec,Ls="__reactContainer$"+Ec,u_="__reactEvents$"+Ec,T3="__reactListeners$"+Ec,E3="__reactHandles$"+Ec;function $a(n){var e=n[Wr];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ls]||t[Wr]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=gS(n);n!==null;){if(t=n[Wr])return t;n=gS(n)}return e}n=t,t=n.parentNode}return null}function bf(n){return n=n[Wr]||n[Ls],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ou(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(ue(33))}function Py(n){return n[md]||null}var c_=[],au=-1;function _a(n){return{current:n}}function Tt(n){0>au||(n.current=c_[au],c_[au]=null,au--)}function yt(n,e){au++,c_[au]=n.current,n.current=e}var na={},Xn=_a(na),vi=_a(!1),hl=na;function Xu(n,e){var t=n.type.contextTypes;if(!t)return na;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function bi(n){return n=n.childContextTypes,n!=null}function Km(){Tt(vi),Tt(Xn)}function yS(n,e,t){if(Xn.current!==na)throw Error(ue(168));yt(Xn,e),yt(vi,t)}function s2(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(ue(108,lU(n)||"Unknown",r));return Dt({},t,i)}function qm(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||na,hl=Xn.current,yt(Xn,n),yt(vi,vi.current),!0}function vS(n,e,t){var i=n.stateNode;if(!i)throw Error(ue(169));t?(n=s2(n,e,hl),i.__reactInternalMemoizedMergedChildContext=n,Tt(vi),Tt(Xn),yt(Xn,n)):Tt(vi),yt(vi,t)}var Es=null,Sy=!1,w0=!1;function o2(n){Es===null?Es=[n]:Es.push(n)}function P3(n){Sy=!0,o2(n)}function wa(){if(!w0&&Es!==null){w0=!0;var n=0,e=dt;try{var t=Es;for(dt=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Es=null,Sy=!1}catch(r){throw Es!==null&&(Es=Es.slice(n+1)),DR(Nx,wa),r}finally{dt=e,w0=!1}}return null}var lu=[],uu=0,Qm=null,Zm=0,Wi=[],Gi=0,dl=null,Ss=1,Cs="";function Na(n,e){lu[uu++]=Zm,lu[uu++]=Qm,Qm=n,Zm=e}function a2(n,e,t){Wi[Gi++]=Ss,Wi[Gi++]=Cs,Wi[Gi++]=dl,dl=n;var i=Ss;n=Cs;var r=32-Er(i)-1;i&=~(1<<r),t+=1;var s=32-Er(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Ss=1<<32-Er(e)+r|t<<r|i,Cs=s+n}else Ss=1<<s|t<<r|i,Cs=n}function zx(n){n.return!==null&&(Na(n,1),a2(n,1,0))}function Hx(n){for(;n===Qm;)Qm=lu[--uu],lu[uu]=null,Zm=lu[--uu],lu[uu]=null;for(;n===dl;)dl=Wi[--Gi],Wi[Gi]=null,Cs=Wi[--Gi],Wi[Gi]=null,Ss=Wi[--Gi],Wi[Gi]=null}var Mi=null,Ri=null,Et=!1,yr=null;function l2(n,e){var t=Ki(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function bS(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Mi=n,Ri=Ho(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Mi=n,Ri=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=dl!==null?{id:Ss,overflow:Cs}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ki(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Mi=n,Ri=null,!0):!1;default:return!1}}function h_(n){return(n.mode&1)!==0&&(n.flags&128)===0}function d_(n){if(Et){var e=Ri;if(e){var t=e;if(!bS(n,e)){if(h_(n))throw Error(ue(418));e=Ho(t.nextSibling);var i=Mi;e&&bS(n,e)?l2(i,t):(n.flags=n.flags&-4097|2,Et=!1,Mi=n)}}else{if(h_(n))throw Error(ue(418));n.flags=n.flags&-4097|2,Et=!1,Mi=n}}}function _S(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Mi=n}function _p(n){if(n!==Mi)return!1;if(!Et)return _S(n),Et=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!a_(n.type,n.memoizedProps)),e&&(e=Ri)){if(h_(n))throw u2(),Error(ue(418));for(;e;)l2(n,e),e=Ho(e.nextSibling)}if(_S(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(ue(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Ri=Ho(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Ri=null}}else Ri=Mi?Ho(n.stateNode.nextSibling):null;return!0}function u2(){for(var n=Ri;n;)n=Ho(n.nextSibling)}function Ku(){Ri=Mi=null,Et=!1}function Wx(n){yr===null?yr=[n]:yr.push(n)}var S3=Js.ReactCurrentBatchConfig;function oh(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(ue(309));var i=t.stateNode}if(!i)throw Error(ue(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(ue(284));if(!t._owner)throw Error(ue(290,n))}return n}function wp(n,e){throw n=Object.prototype.toString.call(e),Error(ue(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function wS(n){var e=n._init;return e(n._payload)}function c2(n){function e(v,b){if(n){var x=v.deletions;x===null?(v.deletions=[b],v.flags|=16):x.push(b)}}function t(v,b){if(!n)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function i(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function r(v,b){return v=Xo(v,b),v.index=0,v.sibling=null,v}function s(v,b,x){return v.index=x,n?(x=v.alternate,x!==null?(x=x.index,x<b?(v.flags|=2,b):x):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return n&&v.alternate===null&&(v.flags|=2),v}function a(v,b,x,P){return b===null||b.tag!==6?(b=A0(x,v.mode,P),b.return=v,b):(b=r(b,x),b.return=v,b)}function l(v,b,x,P){var k=x.type;return k===nu?c(v,b,x.props.children,P,x.key):b!==null&&(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===yo&&wS(k)===b.type)?(P=r(b,x.props),P.ref=oh(v,b,x),P.return=v,P):(P=gm(x.type,x.key,x.props,null,v.mode,P),P.ref=oh(v,b,x),P.return=v,P)}function u(v,b,x,P){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=k0(x,v.mode,P),b.return=v,b):(b=r(b,x.children||[]),b.return=v,b)}function c(v,b,x,P,k){return b===null||b.tag!==7?(b=rl(x,v.mode,P,k),b.return=v,b):(b=r(b,x),b.return=v,b)}function h(v,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=A0(""+b,v.mode,x),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case cp:return x=gm(b.type,b.key,b.props,null,v.mode,x),x.ref=oh(v,null,b),x.return=v,x;case tu:return b=k0(b,v.mode,x),b.return=v,b;case yo:var P=b._init;return h(v,P(b._payload),x)}if(gh(b)||th(b))return b=rl(b,v.mode,x,null),b.return=v,b;wp(v,b)}return null}function d(v,b,x,P){var k=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:a(v,b,""+x,P);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case cp:return x.key===k?l(v,b,x,P):null;case tu:return x.key===k?u(v,b,x,P):null;case yo:return k=x._init,d(v,b,k(x._payload),P)}if(gh(x)||th(x))return k!==null?null:c(v,b,x,P,null);wp(v,x)}return null}function f(v,b,x,P,k){if(typeof P=="string"&&P!==""||typeof P=="number")return v=v.get(x)||null,a(b,v,""+P,k);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case cp:return v=v.get(P.key===null?x:P.key)||null,l(b,v,P,k);case tu:return v=v.get(P.key===null?x:P.key)||null,u(b,v,P,k);case yo:var M=P._init;return f(v,b,x,M(P._payload),k)}if(gh(P)||th(P))return v=v.get(x)||null,c(b,v,P,k,null);wp(b,P)}return null}function y(v,b,x,P){for(var k=null,M=null,A=b,T=b=0,E=null;A!==null&&T<x.length;T++){A.index>T?(E=A,A=null):E=A.sibling;var C=d(v,A,x[T],P);if(C===null){A===null&&(A=E);break}n&&A&&C.alternate===null&&e(v,A),b=s(C,b,T),M===null?k=C:M.sibling=C,M=C,A=E}if(T===x.length)return t(v,A),Et&&Na(v,T),k;if(A===null){for(;T<x.length;T++)A=h(v,x[T],P),A!==null&&(b=s(A,b,T),M===null?k=A:M.sibling=A,M=A);return Et&&Na(v,T),k}for(A=i(v,A);T<x.length;T++)E=f(A,v,T,x[T],P),E!==null&&(n&&E.alternate!==null&&A.delete(E.key===null?T:E.key),b=s(E,b,T),M===null?k=E:M.sibling=E,M=E);return n&&A.forEach(function(D){return e(v,D)}),Et&&Na(v,T),k}function g(v,b,x,P){var k=th(x);if(typeof k!="function")throw Error(ue(150));if(x=k.call(x),x==null)throw Error(ue(151));for(var M=k=null,A=b,T=b=0,E=null,C=x.next();A!==null&&!C.done;T++,C=x.next()){A.index>T?(E=A,A=null):E=A.sibling;var D=d(v,A,C.value,P);if(D===null){A===null&&(A=E);break}n&&A&&D.alternate===null&&e(v,A),b=s(D,b,T),M===null?k=D:M.sibling=D,M=D,A=E}if(C.done)return t(v,A),Et&&Na(v,T),k;if(A===null){for(;!C.done;T++,C=x.next())C=h(v,C.value,P),C!==null&&(b=s(C,b,T),M===null?k=C:M.sibling=C,M=C);return Et&&Na(v,T),k}for(A=i(v,A);!C.done;T++,C=x.next())C=f(A,v,T,C.value,P),C!==null&&(n&&C.alternate!==null&&A.delete(C.key===null?T:C.key),b=s(C,b,T),M===null?k=C:M.sibling=C,M=C);return n&&A.forEach(function(N){return e(v,N)}),Et&&Na(v,T),k}function _(v,b,x,P){if(typeof x=="object"&&x!==null&&x.type===nu&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case cp:e:{for(var k=x.key,M=b;M!==null;){if(M.key===k){if(k=x.type,k===nu){if(M.tag===7){t(v,M.sibling),b=r(M,x.props.children),b.return=v,v=b;break e}}else if(M.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===yo&&wS(k)===M.type){t(v,M.sibling),b=r(M,x.props),b.ref=oh(v,M,x),b.return=v,v=b;break e}t(v,M);break}else e(v,M);M=M.sibling}x.type===nu?(b=rl(x.props.children,v.mode,P,x.key),b.return=v,v=b):(P=gm(x.type,x.key,x.props,null,v.mode,P),P.ref=oh(v,b,x),P.return=v,v=P)}return o(v);case tu:e:{for(M=x.key;b!==null;){if(b.key===M)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){t(v,b.sibling),b=r(b,x.children||[]),b.return=v,v=b;break e}else{t(v,b);break}else e(v,b);b=b.sibling}b=k0(x,v.mode,P),b.return=v,v=b}return o(v);case yo:return M=x._init,_(v,b,M(x._payload),P)}if(gh(x))return y(v,b,x,P);if(th(x))return g(v,b,x,P);wp(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(t(v,b.sibling),b=r(b,x),b.return=v,v=b):(t(v,b),b=A0(x,v.mode,P),b.return=v,v=b),o(v)):t(v,b)}return _}var qu=c2(!0),h2=c2(!1),Jm=_a(null),eg=null,cu=null,Gx=null;function Yx(){Gx=cu=eg=null}function Xx(n){var e=Jm.current;Tt(Jm),n._currentValue=e}function f_(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Pu(n,e){eg=n,Gx=cu=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(pi=!0),n.firstContext=null)}function rr(n){var e=n._currentValue;if(Gx!==n)if(n={context:n,memoizedValue:e,next:null},cu===null){if(eg===null)throw Error(ue(308));cu=n,eg.dependencies={lanes:0,firstContext:n}}else cu=cu.next=n;return e}var za=null;function Kx(n){za===null?za=[n]:za.push(n)}function d2(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,Kx(e)):(t.next=r.next,r.next=t),e.interleaved=t,Fs(n,i)}function Fs(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var vo=!1;function qx(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function f2(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Rs(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Wo(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Je&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Fs(n,t)}return r=i.interleaved,r===null?(e.next=e,Kx(i)):(e.next=r.next,r.next=e),i.interleaved=e,Fs(n,t)}function cm(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Ox(n,t)}}function xS(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function tg(n,e,t,i){var r=n.updateQueue;vo=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=n.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((i&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,g=a;switch(d=e,f=t,g.tag){case 1:if(y=g.payload,typeof y=="function"){h=y.call(f,h,d);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,d=typeof y=="function"?y.call(f,h,d):y,d==null)break e;h=Dt({},h,d);break e;case 2:vo=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,d=r.effects,d===null?r.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;d=a,a=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(!0);if(c===null&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);pl|=o,n.lanes=o,n.memoizedState=h}}function TS(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(ue(191,r));r.call(i)}}}var _f={},Kr=_a(_f),gd=_a(_f),yd=_a(_f);function Ha(n){if(n===_f)throw Error(ue(174));return n}function Qx(n,e){switch(yt(yd,e),yt(gd,n),yt(Kr,_f),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yb(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Yb(e,n)}Tt(Kr),yt(Kr,e)}function Qu(){Tt(Kr),Tt(gd),Tt(yd)}function p2(n){Ha(yd.current);var e=Ha(Kr.current),t=Yb(e,n.type);e!==t&&(yt(gd,n),yt(Kr,t))}function Zx(n){gd.current===n&&(Tt(Kr),Tt(gd))}var Pt=_a(0);function ng(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var x0=[];function Jx(){for(var n=0;n<x0.length;n++)x0[n]._workInProgressVersionPrimary=null;x0.length=0}var hm=Js.ReactCurrentDispatcher,T0=Js.ReactCurrentBatchConfig,fl=0,kt=null,sn=null,gn=null,ig=!1,Lh=!1,vd=0,C3=0;function Fn(){throw Error(ue(321))}function e1(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Ir(n[t],e[t]))return!1;return!0}function t1(n,e,t,i,r,s){if(fl=s,kt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hm.current=n===null||n.memoizedState===null?D3:R3,n=t(i,r),Lh){s=0;do{if(Lh=!1,vd=0,25<=s)throw Error(ue(301));s+=1,gn=sn=null,e.updateQueue=null,hm.current=M3,n=t(i,r)}while(Lh)}if(hm.current=rg,e=sn!==null&&sn.next!==null,fl=0,gn=sn=kt=null,ig=!1,e)throw Error(ue(300));return n}function n1(){var n=vd!==0;return vd=0,n}function Vr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?kt.memoizedState=gn=n:gn=gn.next=n,gn}function sr(){if(sn===null){var n=kt.alternate;n=n!==null?n.memoizedState:null}else n=sn.next;var e=gn===null?kt.memoizedState:gn.next;if(e!==null)gn=e,sn=n;else{if(n===null)throw Error(ue(310));sn=n,n={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},gn===null?kt.memoizedState=gn=n:gn=gn.next=n}return gn}function bd(n,e){return typeof e=="function"?e(n):e}function E0(n){var e=sr(),t=e.queue;if(t===null)throw Error(ue(311));t.lastRenderedReducer=n;var i=sn,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((fl&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,kt.lanes|=c,pl|=c}u=u.next}while(u!==null&&u!==s);l===null?o=i:l.next=a,Ir(i,e.memoizedState)||(pi=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,kt.lanes|=s,pl|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function P0(n){var e=sr(),t=e.queue;if(t===null)throw Error(ue(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);Ir(s,e.memoizedState)||(pi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function m2(){}function g2(n,e){var t=kt,i=sr(),r=e(),s=!Ir(i.memoizedState,r);if(s&&(i.memoizedState=r,pi=!0),i=i.queue,i1(b2.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||gn!==null&&gn.memoizedState.tag&1){if(t.flags|=2048,_d(9,v2.bind(null,t,i,r,e),void 0,null),bn===null)throw Error(ue(349));fl&30||y2(t,e,r)}return r}function y2(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=kt.updateQueue,e===null?(e={lastEffect:null,stores:null},kt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function v2(n,e,t,i){e.value=t,e.getSnapshot=i,_2(e)&&w2(n)}function b2(n,e,t){return t(function(){_2(e)&&w2(n)})}function _2(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Ir(n,t)}catch{return!0}}function w2(n){var e=Fs(n,1);e!==null&&Pr(e,n,1,-1)}function ES(n){var e=Vr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bd,lastRenderedState:n},e.queue=n,n=n.dispatch=I3.bind(null,kt,n),[e.memoizedState,n]}function _d(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=kt.updateQueue,e===null?(e={lastEffect:null,stores:null},kt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function x2(){return sr().memoizedState}function dm(n,e,t,i){var r=Vr();kt.flags|=n,r.memoizedState=_d(1|e,t,void 0,i===void 0?null:i)}function Cy(n,e,t,i){var r=sr();i=i===void 0?null:i;var s=void 0;if(sn!==null){var o=sn.memoizedState;if(s=o.destroy,i!==null&&e1(i,o.deps)){r.memoizedState=_d(e,t,s,i);return}}kt.flags|=n,r.memoizedState=_d(1|e,t,s,i)}function PS(n,e){return dm(8390656,8,n,e)}function i1(n,e){return Cy(2048,8,n,e)}function T2(n,e){return Cy(4,2,n,e)}function E2(n,e){return Cy(4,4,n,e)}function P2(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function S2(n,e,t){return t=t!=null?t.concat([n]):null,Cy(4,4,P2.bind(null,e,n),t)}function r1(){}function C2(n,e){var t=sr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&e1(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function A2(n,e){var t=sr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&e1(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function k2(n,e,t){return fl&21?(Ir(t,e)||(t=NR(),kt.lanes|=t,pl|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,pi=!0),n.memoizedState=t)}function A3(n,e){var t=dt;dt=t!==0&&4>t?t:4,n(!0);var i=T0.transition;T0.transition={};try{n(!1),e()}finally{dt=t,T0.transition=i}}function I2(){return sr().memoizedState}function k3(n,e,t){var i=Yo(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},D2(n))R2(e,t);else if(t=d2(n,e,t,i),t!==null){var r=ni();Pr(t,n,i,r),M2(t,e,i)}}function I3(n,e,t){var i=Yo(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(D2(n))R2(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,Ir(a,o)){var l=e.interleaved;l===null?(r.next=r,Kx(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=d2(n,e,r,i),t!==null&&(r=ni(),Pr(t,n,i,r),M2(t,e,i))}}function D2(n){var e=n.alternate;return n===kt||e!==null&&e===kt}function R2(n,e){Lh=ig=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function M2(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Ox(n,t)}}var rg={readContext:rr,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useInsertionEffect:Fn,useLayoutEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useMutableSource:Fn,useSyncExternalStore:Fn,useId:Fn,unstable_isNewReconciler:!1},D3={readContext:rr,useCallback:function(n,e){return Vr().memoizedState=[n,e===void 0?null:e],n},useContext:rr,useEffect:PS,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,dm(4194308,4,P2.bind(null,e,n),t)},useLayoutEffect:function(n,e){return dm(4194308,4,n,e)},useInsertionEffect:function(n,e){return dm(4,2,n,e)},useMemo:function(n,e){var t=Vr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Vr();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=k3.bind(null,kt,n),[i.memoizedState,n]},useRef:function(n){var e=Vr();return n={current:n},e.memoizedState=n},useState:ES,useDebugValue:r1,useDeferredValue:function(n){return Vr().memoizedState=n},useTransition:function(){var n=ES(!1),e=n[0];return n=A3.bind(null,n[1]),Vr().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=kt,r=Vr();if(Et){if(t===void 0)throw Error(ue(407));t=t()}else{if(t=e(),bn===null)throw Error(ue(349));fl&30||y2(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,PS(b2.bind(null,i,s,n),[n]),i.flags|=2048,_d(9,v2.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Vr(),e=bn.identifierPrefix;if(Et){var t=Cs,i=Ss;t=(i&~(1<<32-Er(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=vd++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=C3++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},R3={readContext:rr,useCallback:C2,useContext:rr,useEffect:i1,useImperativeHandle:S2,useInsertionEffect:T2,useLayoutEffect:E2,useMemo:A2,useReducer:E0,useRef:x2,useState:function(){return E0(bd)},useDebugValue:r1,useDeferredValue:function(n){var e=sr();return k2(e,sn.memoizedState,n)},useTransition:function(){var n=E0(bd)[0],e=sr().memoizedState;return[n,e]},useMutableSource:m2,useSyncExternalStore:g2,useId:I2,unstable_isNewReconciler:!1},M3={readContext:rr,useCallback:C2,useContext:rr,useEffect:i1,useImperativeHandle:S2,useInsertionEffect:T2,useLayoutEffect:E2,useMemo:A2,useReducer:P0,useRef:x2,useState:function(){return P0(bd)},useDebugValue:r1,useDeferredValue:function(n){var e=sr();return sn===null?e.memoizedState=n:k2(e,sn.memoizedState,n)},useTransition:function(){var n=P0(bd)[0],e=sr().memoizedState;return[n,e]},useMutableSource:m2,useSyncExternalStore:g2,useId:I2,unstable_isNewReconciler:!1};function fr(n,e){if(n&&n.defaultProps){e=Dt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function p_(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:Dt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Ay={isMounted:function(n){return(n=n._reactInternals)?Dl(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=ni(),r=Yo(n),s=Rs(i,r);s.payload=e,t!=null&&(s.callback=t),e=Wo(n,s,r),e!==null&&(Pr(e,n,r,i),cm(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=ni(),r=Yo(n),s=Rs(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Wo(n,s,r),e!==null&&(Pr(e,n,r,i),cm(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=ni(),i=Yo(n),r=Rs(t,i);r.tag=2,e!=null&&(r.callback=e),e=Wo(n,r,i),e!==null&&(Pr(e,n,i,t),cm(e,n,i))}};function SS(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!dd(t,i)||!dd(r,s):!0}function N2(n,e,t){var i=!1,r=na,s=e.contextType;return typeof s=="object"&&s!==null?s=rr(s):(r=bi(e)?hl:Xn.current,i=e.contextTypes,s=(i=i!=null)?Xu(n,r):na),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ay,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function CS(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&Ay.enqueueReplaceState(e,e.state,null)}function m_(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},qx(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=rr(s):(s=bi(e)?hl:Xn.current,r.context=Xu(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(p_(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Ay.enqueueReplaceState(r,r.state,null),tg(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Zu(n,e){try{var t="",i=e;do t+=aU(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function S0(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function g_(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var N3=typeof WeakMap=="function"?WeakMap:Map;function O2(n,e,t){t=Rs(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){og||(og=!0,S_=i),g_(n,e)},t}function j2(n,e,t){t=Rs(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){g_(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){g_(n,e),typeof i!="function"&&(Go===null?Go=new Set([this]):Go.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function AS(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new N3;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=X3.bind(null,n,e,t),e.then(n,n))}function kS(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function IS(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Rs(-1,1),e.tag=2,Wo(t,e,1))),t.lanes|=1),n)}var O3=Js.ReactCurrentOwner,pi=!1;function Zn(n,e,t,i){e.child=n===null?h2(e,null,t,i):qu(e,n.child,t,i)}function DS(n,e,t,i,r){t=t.render;var s=e.ref;return Pu(e,r),i=t1(n,e,t,i,s,r),t=n1(),n!==null&&!pi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Vs(n,e,r)):(Et&&t&&zx(e),e.flags|=1,Zn(n,e,i,r),e.child)}function RS(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!d1(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,L2(n,e,s,i,r)):(n=gm(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:dd,t(o,i)&&n.ref===e.ref)return Vs(n,e,r)}return e.flags|=1,n=Xo(s,i),n.ref=e.ref,n.return=e,e.child=n}function L2(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(dd(s,i)&&n.ref===e.ref)if(pi=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(pi=!0);else return e.lanes=n.lanes,Vs(n,e,r)}return y_(n,e,t,i,r)}function F2(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(du,Ii),Ii|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,yt(du,Ii),Ii|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,yt(du,Ii),Ii|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,yt(du,Ii),Ii|=i;return Zn(n,e,r,t),e.child}function V2(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function y_(n,e,t,i,r){var s=bi(t)?hl:Xn.current;return s=Xu(e,s),Pu(e,r),t=t1(n,e,t,i,s,r),i=n1(),n!==null&&!pi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Vs(n,e,r)):(Et&&i&&zx(e),e.flags|=1,Zn(n,e,t,r),e.child)}function MS(n,e,t,i,r){if(bi(t)){var s=!0;qm(e)}else s=!1;if(Pu(e,r),e.stateNode===null)fm(n,e),N2(e,t,i),m_(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=rr(u):(u=bi(t)?hl:Xn.current,u=Xu(e,u));var c=t.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&CS(e,o,i,u),vo=!1;var d=e.memoizedState;o.state=d,tg(e,i,o,r),l=e.memoizedState,a!==i||d!==l||vi.current||vo?(typeof c=="function"&&(p_(e,t,c,i),l=e.memoizedState),(a=vo||SS(e,t,a,i,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,f2(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:fr(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=rr(l):(l=bi(t)?hl:Xn.current,l=Xu(e,l));var f=t.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&CS(e,o,i,l),vo=!1,d=e.memoizedState,o.state=d,tg(e,i,o,r);var y=e.memoizedState;a!==h||d!==y||vi.current||vo?(typeof f=="function"&&(p_(e,t,f,i),y=e.memoizedState),(u=vo||SS(e,t,u,i,d,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),o.props=i,o.state=y,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),i=!1)}return v_(n,e,t,i,s,r)}function v_(n,e,t,i,r,s){V2(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&vS(e,t,!1),Vs(n,e,s);i=e.stateNode,O3.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=qu(e,n.child,null,s),e.child=qu(e,null,a,s)):Zn(n,e,a,s),e.memoizedState=i.state,r&&vS(e,t,!0),e.child}function B2(n){var e=n.stateNode;e.pendingContext?yS(n,e.pendingContext,e.pendingContext!==e.context):e.context&&yS(n,e.context,!1),Qx(n,e.containerInfo)}function NS(n,e,t,i,r){return Ku(),Wx(r),e.flags|=256,Zn(n,e,t,i),e.child}var b_={dehydrated:null,treeContext:null,retryLane:0};function __(n){return{baseLanes:n,cachePool:null,transitions:null}}function U2(n,e,t){var i=e.pendingProps,r=Pt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),yt(Pt,r&1),n===null)return d_(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Dy(o,i,0,null),n=rl(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=__(t),e.memoizedState=b_,n):s1(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return j3(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Xo(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Xo(a,s):(s=rl(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?__(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=b_,i}return s=n.child,n=s.sibling,i=Xo(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function s1(n,e){return e=Dy({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function xp(n,e,t,i){return i!==null&&Wx(i),qu(e,n.child,null,t),n=s1(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function j3(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=S0(Error(ue(422))),xp(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Dy({mode:"visible",children:i.children},r,0,null),s=rl(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&qu(e,n.child,null,o),e.child.memoizedState=__(o),e.memoizedState=b_,s);if(!(e.mode&1))return xp(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(ue(419)),i=S0(s,i,void 0),xp(n,e,o,i)}if(a=(o&n.childLanes)!==0,pi||a){if(i=bn,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Fs(n,r),Pr(i,n,r,-1))}return h1(),i=S0(Error(ue(421))),xp(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=K3.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,Ri=Ho(r.nextSibling),Mi=e,Et=!0,yr=null,n!==null&&(Wi[Gi++]=Ss,Wi[Gi++]=Cs,Wi[Gi++]=dl,Ss=n.id,Cs=n.overflow,dl=e),e=s1(e,i.children),e.flags|=4096,e)}function OS(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),f_(n.return,e,t)}function C0(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function $2(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Zn(n,e,i.children,t),i=Pt.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&OS(n,t,e);else if(n.tag===19)OS(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(yt(Pt,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&ng(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),C0(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&ng(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}C0(e,!0,t,null,s);break;case"together":C0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function fm(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Vs(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),pl|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(ue(153));if(e.child!==null){for(n=e.child,t=Xo(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Xo(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function L3(n,e,t){switch(e.tag){case 3:B2(e),Ku();break;case 5:p2(e);break;case 1:bi(e.type)&&qm(e);break;case 4:Qx(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;yt(Jm,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(yt(Pt,Pt.current&1),e.flags|=128,null):t&e.child.childLanes?U2(n,e,t):(yt(Pt,Pt.current&1),n=Vs(n,e,t),n!==null?n.sibling:null);yt(Pt,Pt.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return $2(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),yt(Pt,Pt.current),i)break;return null;case 22:case 23:return e.lanes=0,F2(n,e,t)}return Vs(n,e,t)}var z2,w_,H2,W2;z2=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};w_=function(){};H2=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Ha(Kr.current);var s=null;switch(t){case"input":r=zb(n,r),i=zb(n,i),s=[];break;case"select":r=Dt({},r,{value:void 0}),i=Dt({},i,{value:void 0}),s=[];break;case"textarea":r=Gb(n,r),i=Gb(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Xm)}Xb(t,i);var o;t=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(sd.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(sd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&wt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};W2=function(n,e,t,i){t!==i&&(e.flags|=4)};function ah(n,e){if(!Et)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Vn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function F3(n,e,t){var i=e.pendingProps;switch(Hx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(e),null;case 1:return bi(e.type)&&Km(),Vn(e),null;case 3:return i=e.stateNode,Qu(),Tt(vi),Tt(Xn),Jx(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(_p(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yr!==null&&(k_(yr),yr=null))),w_(n,e),Vn(e),null;case 5:Zx(e);var r=Ha(yd.current);if(t=e.type,n!==null&&e.stateNode!=null)H2(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(ue(166));return Vn(e),null}if(n=Ha(Kr.current),_p(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[Wr]=e,i[md]=s,n=(e.mode&1)!==0,t){case"dialog":wt("cancel",i),wt("close",i);break;case"iframe":case"object":case"embed":wt("load",i);break;case"video":case"audio":for(r=0;r<vh.length;r++)wt(vh[r],i);break;case"source":wt("error",i);break;case"img":case"image":case"link":wt("error",i),wt("load",i);break;case"details":wt("toggle",i);break;case"input":HP(i,s),wt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},wt("invalid",i);break;case"textarea":GP(i,s),wt("invalid",i)}Xb(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&bp(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&bp(i.textContent,a,n),r=["children",""+a]):sd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&wt("scroll",i)}switch(t){case"input":hp(i),WP(i,s,!0);break;case"textarea":hp(i),YP(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Xm)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=bR(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[Wr]=e,n[md]=i,z2(n,e,!1,!1),e.stateNode=n;e:{switch(o=Kb(t,i),t){case"dialog":wt("cancel",n),wt("close",n),r=i;break;case"iframe":case"object":case"embed":wt("load",n),r=i;break;case"video":case"audio":for(r=0;r<vh.length;r++)wt(vh[r],n);r=i;break;case"source":wt("error",n),r=i;break;case"img":case"image":case"link":wt("error",n),wt("load",n),r=i;break;case"details":wt("toggle",n),r=i;break;case"input":HP(n,i),r=zb(n,i),wt("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=Dt({},i,{value:void 0}),wt("invalid",n);break;case"textarea":GP(n,i),r=Gb(n,i),wt("invalid",n);break;default:r=i}Xb(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?xR(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&_R(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&od(n,l):typeof l=="number"&&od(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(sd.hasOwnProperty(s)?l!=null&&s==="onScroll"&&wt("scroll",n):l!=null&&kx(n,s,l,o))}switch(t){case"input":hp(n),WP(n,i,!1);break;case"textarea":hp(n),YP(n);break;case"option":i.value!=null&&n.setAttribute("value",""+ta(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?wu(n,!!i.multiple,s,!1):i.defaultValue!=null&&wu(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Xm)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vn(e),null;case 6:if(n&&e.stateNode!=null)W2(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(ue(166));if(t=Ha(yd.current),Ha(Kr.current),_p(e)){if(i=e.stateNode,t=e.memoizedProps,i[Wr]=e,(s=i.nodeValue!==t)&&(n=Mi,n!==null))switch(n.tag){case 3:bp(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&bp(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Wr]=e,e.stateNode=i}return Vn(e),null;case 13:if(Tt(Pt),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Et&&Ri!==null&&e.mode&1&&!(e.flags&128))u2(),Ku(),e.flags|=98560,s=!1;else if(s=_p(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(ue(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ue(317));s[Wr]=e}else Ku(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vn(e),s=!1}else yr!==null&&(k_(yr),yr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||Pt.current&1?an===0&&(an=3):h1())),e.updateQueue!==null&&(e.flags|=4),Vn(e),null);case 4:return Qu(),w_(n,e),n===null&&fd(e.stateNode.containerInfo),Vn(e),null;case 10:return Xx(e.type._context),Vn(e),null;case 17:return bi(e.type)&&Km(),Vn(e),null;case 19:if(Tt(Pt),s=e.memoizedState,s===null)return Vn(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)ah(s,!1);else{if(an!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=ng(n),o!==null){for(e.flags|=128,ah(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return yt(Pt,Pt.current&1|2),e.child}n=n.sibling}s.tail!==null&&Wt()>Ju&&(e.flags|=128,i=!0,ah(s,!1),e.lanes=4194304)}else{if(!i)if(n=ng(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),ah(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Et)return Vn(e),null}else 2*Wt()-s.renderingStartTime>Ju&&t!==1073741824&&(e.flags|=128,i=!0,ah(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Wt(),e.sibling=null,t=Pt.current,yt(Pt,i?t&1|2:t&1),e):(Vn(e),null);case 22:case 23:return c1(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ii&1073741824&&(Vn(e),e.subtreeFlags&6&&(e.flags|=8192)):Vn(e),null;case 24:return null;case 25:return null}throw Error(ue(156,e.tag))}function V3(n,e){switch(Hx(e),e.tag){case 1:return bi(e.type)&&Km(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Qu(),Tt(vi),Tt(Xn),Jx(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Zx(e),null;case 13:if(Tt(Pt),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(ue(340));Ku()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Tt(Pt),null;case 4:return Qu(),null;case 10:return Xx(e.type._context),null;case 22:case 23:return c1(),null;case 24:return null;default:return null}}var Tp=!1,Hn=!1,B3=typeof WeakSet=="function"?WeakSet:Set,be=null;function hu(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Lt(n,e,i)}else t.current=null}function x_(n,e,t){try{t()}catch(i){Lt(n,e,i)}}var jS=!1;function U3(n,e){if(s_=Wm,n=qR(),$x(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=n,d=null;t:for(;;){for(var f;h!==t||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===n)break t;if(d===t&&++u===r&&(a=o),d===s&&++c===i&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(o_={focusedElem:n,selectionRange:t},Wm=!1,be=e;be!==null;)if(e=be,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,be=n;else for(;be!==null;){e=be;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,_=y.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:fr(e.type,g),_);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(P){Lt(e,e.return,P)}if(n=e.sibling,n!==null){n.return=e.return,be=n;break}be=e.return}return y=jS,jS=!1,y}function Fh(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&x_(e,t,s)}r=r.next}while(r!==i)}}function ky(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function T_(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function G2(n){var e=n.alternate;e!==null&&(n.alternate=null,G2(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Wr],delete e[md],delete e[u_],delete e[T3],delete e[E3])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Y2(n){return n.tag===5||n.tag===3||n.tag===4}function LS(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Y2(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function E_(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Xm));else if(i!==4&&(n=n.child,n!==null))for(E_(n,e,t),n=n.sibling;n!==null;)E_(n,e,t),n=n.sibling}function P_(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(P_(n,e,t),n=n.sibling;n!==null;)P_(n,e,t),n=n.sibling}var En=null,gr=!1;function lo(n,e,t){for(t=t.child;t!==null;)X2(n,e,t),t=t.sibling}function X2(n,e,t){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(wy,t)}catch{}switch(t.tag){case 5:Hn||hu(t,e);case 6:var i=En,r=gr;En=null,lo(n,e,t),En=i,gr=r,En!==null&&(gr?(n=En,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):En.removeChild(t.stateNode));break;case 18:En!==null&&(gr?(n=En,t=t.stateNode,n.nodeType===8?_0(n.parentNode,t):n.nodeType===1&&_0(n,t),cd(n)):_0(En,t.stateNode));break;case 4:i=En,r=gr,En=t.stateNode.containerInfo,gr=!0,lo(n,e,t),En=i,gr=r;break;case 0:case 11:case 14:case 15:if(!Hn&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&x_(t,e,o),r=r.next}while(r!==i)}lo(n,e,t);break;case 1:if(!Hn&&(hu(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){Lt(t,e,a)}lo(n,e,t);break;case 21:lo(n,e,t);break;case 22:t.mode&1?(Hn=(i=Hn)||t.memoizedState!==null,lo(n,e,t),Hn=i):lo(n,e,t);break;default:lo(n,e,t)}}function FS(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new B3),e.forEach(function(i){var r=q3.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function cr(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:En=a.stateNode,gr=!1;break e;case 3:En=a.stateNode.containerInfo,gr=!0;break e;case 4:En=a.stateNode.containerInfo,gr=!0;break e}a=a.return}if(En===null)throw Error(ue(160));X2(s,o,r),En=null,gr=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){Lt(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)K2(e,n),e=e.sibling}function K2(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(cr(e,n),jr(n),i&4){try{Fh(3,n,n.return),ky(3,n)}catch(g){Lt(n,n.return,g)}try{Fh(5,n,n.return)}catch(g){Lt(n,n.return,g)}}break;case 1:cr(e,n),jr(n),i&512&&t!==null&&hu(t,t.return);break;case 5:if(cr(e,n),jr(n),i&512&&t!==null&&hu(t,t.return),n.flags&32){var r=n.stateNode;try{od(r,"")}catch(g){Lt(n,n.return,g)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&yR(r,s),Kb(a,o);var u=Kb(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?xR(r,h):c==="dangerouslySetInnerHTML"?_R(r,h):c==="children"?od(r,h):kx(r,c,h,u)}switch(a){case"input":Hb(r,s);break;case"textarea":vR(r,s);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?wu(r,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?wu(r,!!s.multiple,s.defaultValue,!0):wu(r,!!s.multiple,s.multiple?[]:"",!1))}r[md]=s}catch(g){Lt(n,n.return,g)}}break;case 6:if(cr(e,n),jr(n),i&4){if(n.stateNode===null)throw Error(ue(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(g){Lt(n,n.return,g)}}break;case 3:if(cr(e,n),jr(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{cd(e.containerInfo)}catch(g){Lt(n,n.return,g)}break;case 4:cr(e,n),jr(n);break;case 13:cr(e,n),jr(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(l1=Wt())),i&4&&FS(n);break;case 22:if(c=t!==null&&t.memoizedState!==null,n.mode&1?(Hn=(u=Hn)||c,cr(e,n),Hn=u):cr(e,n),jr(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!c&&n.mode&1)for(be=n,c=n.child;c!==null;){for(h=be=c;be!==null;){switch(d=be,f=d.child,d.tag){case 0:case 11:case 14:case 15:Fh(4,d,d.return);break;case 1:hu(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){i=d,t=d.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){Lt(i,t,g)}}break;case 5:hu(d,d.return);break;case 22:if(d.memoizedState!==null){BS(h);continue}}f!==null?(f.return=d,be=f):BS(h)}c=c.sibling}e:for(c=null,h=n;;){if(h.tag===5){if(c===null){c=h;try{r=h.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=wR("display",o))}catch(g){Lt(n,n.return,g)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Lt(n,n.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:cr(e,n),jr(n),i&4&&FS(n);break;case 21:break;default:cr(e,n),jr(n)}}function jr(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(Y2(t)){var i=t;break e}t=t.return}throw Error(ue(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(od(r,""),i.flags&=-33);var s=LS(n);P_(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=LS(n);E_(n,a,o);break;default:throw Error(ue(161))}}catch(l){Lt(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function $3(n,e,t){be=n,q2(n)}function q2(n,e,t){for(var i=(n.mode&1)!==0;be!==null;){var r=be,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Tp;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Hn;a=Tp;var u=Hn;if(Tp=o,(Hn=l)&&!u)for(be=r;be!==null;)o=be,l=o.child,o.tag===22&&o.memoizedState!==null?US(r):l!==null?(l.return=o,be=l):US(r);for(;s!==null;)be=s,q2(s),s=s.sibling;be=r,Tp=a,Hn=u}VS(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,be=s):VS(n)}}function VS(n){for(;be!==null;){var e=be;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Hn||ky(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Hn)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:fr(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&TS(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}TS(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&cd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}Hn||e.flags&512&&T_(e)}catch(d){Lt(e,e.return,d)}}if(e===n){be=null;break}if(t=e.sibling,t!==null){t.return=e.return,be=t;break}be=e.return}}function BS(n){for(;be!==null;){var e=be;if(e===n){be=null;break}var t=e.sibling;if(t!==null){t.return=e.return,be=t;break}be=e.return}}function US(n){for(;be!==null;){var e=be;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{ky(4,e)}catch(l){Lt(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Lt(e,r,l)}}var s=e.return;try{T_(e)}catch(l){Lt(e,s,l)}break;case 5:var o=e.return;try{T_(e)}catch(l){Lt(e,o,l)}}}catch(l){Lt(e,e.return,l)}if(e===n){be=null;break}var a=e.sibling;if(a!==null){a.return=e.return,be=a;break}be=e.return}}var z3=Math.ceil,sg=Js.ReactCurrentDispatcher,o1=Js.ReactCurrentOwner,er=Js.ReactCurrentBatchConfig,Je=0,bn=null,Qt=null,In=0,Ii=0,du=_a(0),an=0,wd=null,pl=0,Iy=0,a1=0,Vh=null,di=null,l1=0,Ju=1/0,Ts=null,og=!1,S_=null,Go=null,Ep=!1,No=null,ag=0,Bh=0,C_=null,pm=-1,mm=0;function ni(){return Je&6?Wt():pm!==-1?pm:pm=Wt()}function Yo(n){return n.mode&1?Je&2&&In!==0?In&-In:S3.transition!==null?(mm===0&&(mm=NR()),mm):(n=dt,n!==0||(n=window.event,n=n===void 0?16:UR(n.type)),n):1}function Pr(n,e,t,i){if(50<Bh)throw Bh=0,C_=null,Error(ue(185));yf(n,t,i),(!(Je&2)||n!==bn)&&(n===bn&&(!(Je&2)&&(Iy|=t),an===4&&To(n,In)),_i(n,i),t===1&&Je===0&&!(e.mode&1)&&(Ju=Wt()+500,Sy&&wa()))}function _i(n,e){var t=n.callbackNode;SU(n,e);var i=Hm(n,n===bn?In:0);if(i===0)t!==null&&qP(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&qP(t),e===1)n.tag===0?P3($S.bind(null,n)):o2($S.bind(null,n)),w3(function(){!(Je&6)&&wa()}),t=null;else{switch(OR(i)){case 1:t=Nx;break;case 4:t=RR;break;case 16:t=zm;break;case 536870912:t=MR;break;default:t=zm}t=rM(t,Q2.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function Q2(n,e){if(pm=-1,mm=0,Je&6)throw Error(ue(327));var t=n.callbackNode;if(Su()&&n.callbackNode!==t)return null;var i=Hm(n,n===bn?In:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=lg(n,i);else{e=i;var r=Je;Je|=2;var s=J2();(bn!==n||In!==e)&&(Ts=null,Ju=Wt()+500,il(n,e));do try{G3();break}catch(a){Z2(n,a)}while(!0);Yx(),sg.current=s,Je=r,Qt!==null?e=0:(bn=null,In=0,e=an)}if(e!==0){if(e===2&&(r=e_(n),r!==0&&(i=r,e=A_(n,r))),e===1)throw t=wd,il(n,0),To(n,i),_i(n,Wt()),t;if(e===6)To(n,i);else{if(r=n.current.alternate,!(i&30)&&!H3(r)&&(e=lg(n,i),e===2&&(s=e_(n),s!==0&&(i=s,e=A_(n,s))),e===1))throw t=wd,il(n,0),To(n,i),_i(n,Wt()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(ue(345));case 2:Oa(n,di,Ts);break;case 3:if(To(n,i),(i&130023424)===i&&(e=l1+500-Wt(),10<e)){if(Hm(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){ni(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=l_(Oa.bind(null,n,di,Ts),e);break}Oa(n,di,Ts);break;case 4:if(To(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Er(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Wt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*z3(i/1960))-i,10<i){n.timeoutHandle=l_(Oa.bind(null,n,di,Ts),i);break}Oa(n,di,Ts);break;case 5:Oa(n,di,Ts);break;default:throw Error(ue(329))}}}return _i(n,Wt()),n.callbackNode===t?Q2.bind(null,n):null}function A_(n,e){var t=Vh;return n.current.memoizedState.isDehydrated&&(il(n,e).flags|=256),n=lg(n,e),n!==2&&(e=di,di=t,e!==null&&k_(e)),n}function k_(n){di===null?di=n:di.push.apply(di,n)}function H3(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!Ir(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function To(n,e){for(e&=~a1,e&=~Iy,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Er(e),i=1<<t;n[t]=-1,e&=~i}}function $S(n){if(Je&6)throw Error(ue(327));Su();var e=Hm(n,0);if(!(e&1))return _i(n,Wt()),null;var t=lg(n,e);if(n.tag!==0&&t===2){var i=e_(n);i!==0&&(e=i,t=A_(n,i))}if(t===1)throw t=wd,il(n,0),To(n,e),_i(n,Wt()),t;if(t===6)throw Error(ue(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Oa(n,di,Ts),_i(n,Wt()),null}function u1(n,e){var t=Je;Je|=1;try{return n(e)}finally{Je=t,Je===0&&(Ju=Wt()+500,Sy&&wa())}}function ml(n){No!==null&&No.tag===0&&!(Je&6)&&Su();var e=Je;Je|=1;var t=er.transition,i=dt;try{if(er.transition=null,dt=1,n)return n()}finally{dt=i,er.transition=t,Je=e,!(Je&6)&&wa()}}function c1(){Ii=du.current,Tt(du)}function il(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,_3(t)),Qt!==null)for(t=Qt.return;t!==null;){var i=t;switch(Hx(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Km();break;case 3:Qu(),Tt(vi),Tt(Xn),Jx();break;case 5:Zx(i);break;case 4:Qu();break;case 13:Tt(Pt);break;case 19:Tt(Pt);break;case 10:Xx(i.type._context);break;case 22:case 23:c1()}t=t.return}if(bn=n,Qt=n=Xo(n.current,null),In=Ii=e,an=0,wd=null,a1=Iy=pl=0,di=Vh=null,za!==null){for(e=0;e<za.length;e++)if(t=za[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}za=null}return n}function Z2(n,e){do{var t=Qt;try{if(Yx(),hm.current=rg,ig){for(var i=kt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}ig=!1}if(fl=0,gn=sn=kt=null,Lh=!1,vd=0,o1.current=null,t===null||t.return===null){an=1,wd=e,Qt=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=In,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=kS(o);if(f!==null){f.flags&=-257,IS(f,o,a,s,e),f.mode&1&&AS(s,u,e),e=f,l=u;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){AS(s,u,e),h1();break e}l=Error(ue(426))}}else if(Et&&a.mode&1){var _=kS(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),IS(_,o,a,s,e),Wx(Zu(l,a));break e}}s=l=Zu(l,a),an!==4&&(an=2),Vh===null?Vh=[s]:Vh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=O2(s,l,e);xS(s,v);break e;case 1:a=l;var b=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Go===null||!Go.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=j2(s,a,e);xS(s,P);break e}}s=s.return}while(s!==null)}tM(t)}catch(k){e=k,Qt===t&&t!==null&&(Qt=t=t.return);continue}break}while(!0)}function J2(){var n=sg.current;return sg.current=rg,n===null?rg:n}function h1(){(an===0||an===3||an===2)&&(an=4),bn===null||!(pl&268435455)&&!(Iy&268435455)||To(bn,In)}function lg(n,e){var t=Je;Je|=2;var i=J2();(bn!==n||In!==e)&&(Ts=null,il(n,e));do try{W3();break}catch(r){Z2(n,r)}while(!0);if(Yx(),Je=t,sg.current=i,Qt!==null)throw Error(ue(261));return bn=null,In=0,an}function W3(){for(;Qt!==null;)eM(Qt)}function G3(){for(;Qt!==null&&!yU();)eM(Qt)}function eM(n){var e=iM(n.alternate,n,Ii);n.memoizedProps=n.pendingProps,e===null?tM(n):Qt=e,o1.current=null}function tM(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=V3(t,e),t!==null){t.flags&=32767,Qt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{an=6,Qt=null;return}}else if(t=F3(t,e,Ii),t!==null){Qt=t;return}if(e=e.sibling,e!==null){Qt=e;return}Qt=e=n}while(e!==null);an===0&&(an=5)}function Oa(n,e,t){var i=dt,r=er.transition;try{er.transition=null,dt=1,Y3(n,e,t,i)}finally{er.transition=r,dt=i}return null}function Y3(n,e,t,i){do Su();while(No!==null);if(Je&6)throw Error(ue(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(ue(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(CU(n,s),n===bn&&(Qt=bn=null,In=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Ep||(Ep=!0,rM(zm,function(){return Su(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=er.transition,er.transition=null;var o=dt;dt=1;var a=Je;Je|=4,o1.current=null,U3(n,t),K2(t,n),f3(o_),Wm=!!s_,o_=s_=null,n.current=t,$3(t),vU(),Je=a,dt=o,er.transition=s}else n.current=t;if(Ep&&(Ep=!1,No=n,ag=r),s=n.pendingLanes,s===0&&(Go=null),wU(t.stateNode),_i(n,Wt()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(og)throw og=!1,n=S_,S_=null,n;return ag&1&&n.tag!==0&&Su(),s=n.pendingLanes,s&1?n===C_?Bh++:(Bh=0,C_=n):Bh=0,wa(),null}function Su(){if(No!==null){var n=OR(ag),e=er.transition,t=dt;try{if(er.transition=null,dt=16>n?16:n,No===null)var i=!1;else{if(n=No,No=null,ag=0,Je&6)throw Error(ue(331));var r=Je;for(Je|=4,be=n.current;be!==null;){var s=be,o=s.child;if(be.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(be=u;be!==null;){var c=be;switch(c.tag){case 0:case 11:case 15:Fh(8,c,s)}var h=c.child;if(h!==null)h.return=c,be=h;else for(;be!==null;){c=be;var d=c.sibling,f=c.return;if(G2(c),c===u){be=null;break}if(d!==null){d.return=f,be=d;break}be=f}}}var y=s.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}be=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,be=o;else e:for(;be!==null;){if(s=be,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Fh(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,be=v;break e}be=s.return}}var b=n.current;for(be=b;be!==null;){o=be;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,be=x;else e:for(o=b;be!==null;){if(a=be,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ky(9,a)}}catch(k){Lt(a,a.return,k)}if(a===o){be=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,be=P;break e}be=a.return}}if(Je=r,wa(),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(wy,n)}catch{}i=!0}return i}finally{dt=t,er.transition=e}}return!1}function zS(n,e,t){e=Zu(t,e),e=O2(n,e,1),n=Wo(n,e,1),e=ni(),n!==null&&(yf(n,1,e),_i(n,e))}function Lt(n,e,t){if(n.tag===3)zS(n,n,t);else for(;e!==null;){if(e.tag===3){zS(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Go===null||!Go.has(i))){n=Zu(t,n),n=j2(e,n,1),e=Wo(e,n,1),n=ni(),e!==null&&(yf(e,1,n),_i(e,n));break}}e=e.return}}function X3(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=ni(),n.pingedLanes|=n.suspendedLanes&t,bn===n&&(In&t)===t&&(an===4||an===3&&(In&130023424)===In&&500>Wt()-l1?il(n,0):a1|=t),_i(n,e)}function nM(n,e){e===0&&(n.mode&1?(e=pp,pp<<=1,!(pp&130023424)&&(pp=4194304)):e=1);var t=ni();n=Fs(n,e),n!==null&&(yf(n,e,t),_i(n,t))}function K3(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),nM(n,t)}function q3(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(ue(314))}i!==null&&i.delete(e),nM(n,t)}var iM;iM=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||vi.current)pi=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return pi=!1,L3(n,e,t);pi=!!(n.flags&131072)}else pi=!1,Et&&e.flags&1048576&&a2(e,Zm,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;fm(n,e),n=e.pendingProps;var r=Xu(e,Xn.current);Pu(e,t),r=t1(null,e,i,n,r,t);var s=n1();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bi(i)?(s=!0,qm(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,qx(e),r.updater=Ay,e.stateNode=r,r._reactInternals=e,m_(e,i,n,t),e=v_(null,e,i,!0,s,t)):(e.tag=0,Et&&s&&zx(e),Zn(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(fm(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=Z3(i),n=fr(i,n),r){case 0:e=y_(null,e,i,n,t);break e;case 1:e=MS(null,e,i,n,t);break e;case 11:e=DS(null,e,i,n,t);break e;case 14:e=RS(null,e,i,fr(i.type,n),t);break e}throw Error(ue(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:fr(i,r),y_(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:fr(i,r),MS(n,e,i,r,t);case 3:e:{if(B2(e),n===null)throw Error(ue(387));i=e.pendingProps,s=e.memoizedState,r=s.element,f2(n,e),tg(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Zu(Error(ue(423)),e),e=NS(n,e,i,t,r);break e}else if(i!==r){r=Zu(Error(ue(424)),e),e=NS(n,e,i,t,r);break e}else for(Ri=Ho(e.stateNode.containerInfo.firstChild),Mi=e,Et=!0,yr=null,t=h2(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Ku(),i===r){e=Vs(n,e,t);break e}Zn(n,e,i,t)}e=e.child}return e;case 5:return p2(e),n===null&&d_(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,a_(i,r)?o=null:s!==null&&a_(i,s)&&(e.flags|=32),V2(n,e),Zn(n,e,o,t),e.child;case 6:return n===null&&d_(e),null;case 13:return U2(n,e,t);case 4:return Qx(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=qu(e,null,i,t):Zn(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:fr(i,r),DS(n,e,i,r,t);case 7:return Zn(n,e,e.pendingProps,t),e.child;case 8:return Zn(n,e,e.pendingProps.children,t),e.child;case 12:return Zn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,yt(Jm,i._currentValue),i._currentValue=o,s!==null)if(Ir(s.value,o)){if(s.children===r.children&&!vi.current){e=Vs(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Rs(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),f_(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ue(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),f_(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Zn(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Pu(e,t),r=rr(r),i=i(r),e.flags|=1,Zn(n,e,i,t),e.child;case 14:return i=e.type,r=fr(i,e.pendingProps),r=fr(i.type,r),RS(n,e,i,r,t);case 15:return L2(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:fr(i,r),fm(n,e),e.tag=1,bi(i)?(n=!0,qm(e)):n=!1,Pu(e,t),N2(e,i,r),m_(e,i,r,t),v_(null,e,i,!0,n,t);case 19:return $2(n,e,t);case 22:return F2(n,e,t)}throw Error(ue(156,e.tag))};function rM(n,e){return DR(n,e)}function Q3(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ki(n,e,t,i){return new Q3(n,e,t,i)}function d1(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Z3(n){if(typeof n=="function")return d1(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Dx)return 11;if(n===Rx)return 14}return 2}function Xo(n,e){var t=n.alternate;return t===null?(t=Ki(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function gm(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")d1(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case nu:return rl(t.children,r,s,e);case Ix:o=8,r|=8;break;case Vb:return n=Ki(12,t,e,r|2),n.elementType=Vb,n.lanes=s,n;case Bb:return n=Ki(13,t,e,r),n.elementType=Bb,n.lanes=s,n;case Ub:return n=Ki(19,t,e,r),n.elementType=Ub,n.lanes=s,n;case pR:return Dy(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case dR:o=10;break e;case fR:o=9;break e;case Dx:o=11;break e;case Rx:o=14;break e;case yo:o=16,i=null;break e}throw Error(ue(130,n==null?n:typeof n,""))}return e=Ki(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function rl(n,e,t,i){return n=Ki(7,n,i,e),n.lanes=t,n}function Dy(n,e,t,i){return n=Ki(22,n,i,e),n.elementType=pR,n.lanes=t,n.stateNode={isHidden:!1},n}function A0(n,e,t){return n=Ki(6,n,null,e),n.lanes=t,n}function k0(n,e,t){return e=Ki(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function J3(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=u0(0),this.expirationTimes=u0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=u0(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function f1(n,e,t,i,r,s,o,a,l){return n=new J3(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ki(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},qx(s),n}function e$(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tu,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function sM(n){if(!n)return na;n=n._reactInternals;e:{if(Dl(n)!==n||n.tag!==1)throw Error(ue(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ue(171))}if(n.tag===1){var t=n.type;if(bi(t))return s2(n,t,e)}return e}function oM(n,e,t,i,r,s,o,a,l){return n=f1(t,i,!0,n,r,s,o,a,l),n.context=sM(null),t=n.current,i=ni(),r=Yo(t),s=Rs(i,r),s.callback=e??null,Wo(t,s,r),n.current.lanes=r,yf(n,r,i),_i(n,i),n}function Ry(n,e,t,i){var r=e.current,s=ni(),o=Yo(r);return t=sM(t),e.context===null?e.context=t:e.pendingContext=t,e=Rs(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Wo(r,e,o),n!==null&&(Pr(n,r,o,s),cm(n,r,o)),o}function ug(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function HS(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function p1(n,e){HS(n,e),(n=n.alternate)&&HS(n,e)}function t$(){return null}var aM=typeof reportError=="function"?reportError:function(n){console.error(n)};function m1(n){this._internalRoot=n}My.prototype.render=m1.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(ue(409));Ry(n,e,null,null)};My.prototype.unmount=m1.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;ml(function(){Ry(null,n,null,null)}),e[Ls]=null}};function My(n){this._internalRoot=n}My.prototype.unstable_scheduleHydration=function(n){if(n){var e=FR();n={blockedOn:null,target:n,priority:e};for(var t=0;t<xo.length&&e!==0&&e<xo[t].priority;t++);xo.splice(t,0,n),t===0&&BR(n)}};function g1(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Ny(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function WS(){}function n$(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=ug(o);s.call(u)}}var o=oM(e,i,n,0,null,!1,!1,"",WS);return n._reactRootContainer=o,n[Ls]=o.current,fd(n.nodeType===8?n.parentNode:n),ml(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=ug(l);a.call(u)}}var l=f1(n,0,!1,null,null,!1,!1,"",WS);return n._reactRootContainer=l,n[Ls]=l.current,fd(n.nodeType===8?n.parentNode:n),ml(function(){Ry(e,l,t,i)}),l}function Oy(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=ug(o);a.call(l)}}Ry(e,o,n,r)}else o=n$(t,e,n,r,i);return ug(o)}jR=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=yh(e.pendingLanes);t!==0&&(Ox(e,t|1),_i(e,Wt()),!(Je&6)&&(Ju=Wt()+500,wa()))}break;case 13:ml(function(){var i=Fs(n,1);if(i!==null){var r=ni();Pr(i,n,1,r)}}),p1(n,1)}};jx=function(n){if(n.tag===13){var e=Fs(n,134217728);if(e!==null){var t=ni();Pr(e,n,134217728,t)}p1(n,134217728)}};LR=function(n){if(n.tag===13){var e=Yo(n),t=Fs(n,e);if(t!==null){var i=ni();Pr(t,n,e,i)}p1(n,e)}};FR=function(){return dt};VR=function(n,e){var t=dt;try{return dt=n,e()}finally{dt=t}};Qb=function(n,e,t){switch(e){case"input":if(Hb(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=Py(i);if(!r)throw Error(ue(90));gR(i),Hb(i,r)}}}break;case"textarea":vR(n,t);break;case"select":e=t.value,e!=null&&wu(n,!!t.multiple,e,!1)}};PR=u1;SR=ml;var i$={usingClientEntryPoint:!1,Events:[bf,ou,Py,TR,ER,u1]},lh={findFiberByHostInstance:$a,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r$={bundleType:lh.bundleType,version:lh.version,rendererPackageName:lh.rendererPackageName,rendererConfig:lh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Js.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=kR(n),n===null?null:n.stateNode},findFiberByHostInstance:lh.findFiberByHostInstance||t$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pp.isDisabled&&Pp.supportsFiber)try{wy=Pp.inject(r$),Xr=Pp}catch{}}Li.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i$;Li.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g1(e))throw Error(ue(200));return e$(n,e,null,t)};Li.createRoot=function(n,e){if(!g1(n))throw Error(ue(299));var t=!1,i="",r=aM;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=f1(n,1,!1,null,null,t,!1,i,r),n[Ls]=e.current,fd(n.nodeType===8?n.parentNode:n),new m1(e)};Li.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(ue(188)):(n=Object.keys(n).join(","),Error(ue(268,n)));return n=kR(e),n=n===null?null:n.stateNode,n};Li.flushSync=function(n){return ml(n)};Li.hydrate=function(n,e,t){if(!Ny(e))throw Error(ue(200));return Oy(null,n,e,!0,t)};Li.hydrateRoot=function(n,e,t){if(!g1(n))throw Error(ue(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=aM;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=oM(e,null,n,1,t??null,r,!1,s,o),n[Ls]=e.current,fd(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new My(e)};Li.render=function(n,e,t){if(!Ny(e))throw Error(ue(200));return Oy(null,n,e,!1,t)};Li.unmountComponentAtNode=function(n){if(!Ny(n))throw Error(ue(40));return n._reactRootContainer?(ml(function(){Oy(null,null,n,!1,function(){n._reactRootContainer=null,n[Ls]=null})}),!0):!1};Li.unstable_batchedUpdates=u1;Li.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!Ny(t))throw Error(ue(200));if(n==null||n._reactInternals===void 0)throw Error(ue(38));return Oy(n,e,t,!1,i)};Li.version="18.3.1-next-f1338f8080-20240426";function lM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lM)}catch(n){console.error(n)}}lM(),lR.exports=Li;var Bs=lR.exports;const uM=xx(Bs);var cM,GS=Bs;cM=GS.createRoot,GS.hydrateRoot;const s$=1,o$=1e6;let I0=0;function a$(){return I0=(I0+1)%Number.MAX_SAFE_INTEGER,I0.toString()}const D0=new Map,YS=n=>{if(D0.has(n))return;const e=setTimeout(()=>{D0.delete(n),Uh({type:"REMOVE_TOAST",toastId:n})},o$);D0.set(n,e)},l$=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,s$)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?YS(t):n.toasts.forEach(i=>{YS(i.id)}),{...n,toasts:n.toasts.map(i=>i.id===t||t===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},ym=[];let vm={toasts:[]};function Uh(n){vm=l$(vm,n),ym.forEach(e=>{e(vm)})}function tr({...n}){const e=a$(),t=r=>Uh({type:"UPDATE_TOAST",toast:{...r,id:e}}),i=()=>Uh({type:"DISMISS_TOAST",toastId:e});return Uh({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:r=>{r||i()}}}),{id:e,dismiss:i,update:t}}function eo(){const[n,e]=w.useState(vm);return w.useEffect(()=>(ym.push(e),()=>{const t=ym.indexOf(e);t>-1&&ym.splice(t,1)}),[n]),{...n,toast:tr,dismiss:t=>Uh({type:"DISMISS_TOAST",toastId:t})}}function Ae(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n==null||n(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function u$(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function jy(...n){return e=>n.forEach(t=>u$(t,e))}function _n(...n){return w.useCallback(jy(...n),n)}function c$(n,e=[]){let t=[];function i(s,o){const a=w.createContext(o),l=t.length;t=[...t,o];function u(h){const{scope:d,children:f,...y}=h,g=(d==null?void 0:d[n][l])||a,_=w.useMemo(()=>y,Object.values(y));return p.jsx(g.Provider,{value:_,children:f})}function c(h,d){const f=(d==null?void 0:d[n][l])||a,y=w.useContext(f);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,c]}const r=()=>{const s=t.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return w.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return r.scopeName=n,[i,h$(r,...e)]}function h$(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var ec=w.forwardRef((n,e)=>{const{children:t,...i}=n,r=w.Children.toArray(t),s=r.find(d$);if(s){const o=s.props.children,a=r.map(l=>l===s?w.Children.count(o)>1?w.Children.only(null):w.isValidElement(o)?o.props.children:null:l);return p.jsx(I_,{...i,ref:e,children:w.isValidElement(o)?w.cloneElement(o,void 0,a):null})}return p.jsx(I_,{...i,ref:e,children:t})});ec.displayName="Slot";var I_=w.forwardRef((n,e)=>{const{children:t,...i}=n;if(w.isValidElement(t)){const r=p$(t);return w.cloneElement(t,{...f$(i,t.props),ref:e?jy(e,r):r})}return w.Children.count(t)>1?w.Children.only(null):null});I_.displayName="SlotClone";var hM=({children:n})=>p.jsx(p.Fragment,{children:n});function d$(n){return w.isValidElement(n)&&n.type===hM}function f$(n,e){const t={...e};for(const i in e){const r=n[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?t[i]=(...a)=>{s(...a),r(...a)}:r&&(t[i]=r):i==="style"?t[i]={...r,...s}:i==="className"&&(t[i]=[r,s].filter(Boolean).join(" "))}return{...n,...t}}function p$(n){var i,r;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function y1(n){const e=n+"CollectionProvider",[t,i]=c$(e),[r,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=f=>{const{scope:y,children:g}=f,_=te.useRef(null),v=te.useRef(new Map).current;return p.jsx(r,{scope:y,itemMap:v,collectionRef:_,children:g})};o.displayName=e;const a=n+"CollectionSlot",l=te.forwardRef((f,y)=>{const{scope:g,children:_}=f,v=s(a,g),b=_n(y,v.collectionRef);return p.jsx(ec,{ref:b,children:_})});l.displayName=a;const u=n+"CollectionItemSlot",c="data-radix-collection-item",h=te.forwardRef((f,y)=>{const{scope:g,children:_,...v}=f,b=te.useRef(null),x=_n(y,b),P=s(u,g);return te.useEffect(()=>(P.itemMap.set(b,{ref:b,...v}),()=>void P.itemMap.delete(b))),p.jsx(ec,{[c]:"",ref:x,children:_})});h.displayName=u;function d(f){const y=s(n+"CollectionConsumer",f);return te.useCallback(()=>{const _=y.collectionRef.current;if(!_)return[];const v=Array.from(_.querySelectorAll(`[${c}]`));return Array.from(y.itemMap.values()).sort((P,k)=>v.indexOf(P.ref.current)-v.indexOf(k.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},d,i]}function wf(n,e=[]){let t=[];function i(s,o){const a=w.createContext(o),l=t.length;t=[...t,o];const u=h=>{var v;const{scope:d,children:f,...y}=h,g=((v=d==null?void 0:d[n])==null?void 0:v[l])||a,_=w.useMemo(()=>y,Object.values(y));return p.jsx(g.Provider,{value:_,children:f})};u.displayName=s+"Provider";function c(h,d){var g;const f=((g=d==null?void 0:d[n])==null?void 0:g[l])||a,y=w.useContext(f);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,c]}const r=()=>{const s=t.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return w.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return r.scopeName=n,[i,m$(r,...e)]}function m$(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var g$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],mt=g$.reduce((n,e)=>{const t=w.forwardRef((i,r)=>{const{asChild:s,...o}=i,a=s?ec:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(a,{...o,ref:r})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function v1(n,e){n&&Bs.flushSync(()=>n.dispatchEvent(e))}function ri(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n}),w.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function y$(n,e=globalThis==null?void 0:globalThis.document){const t=ri(n);w.useEffect(()=>{const i=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var v$="DismissableLayer",D_="dismissableLayer.update",b$="dismissableLayer.pointerDownOutside",_$="dismissableLayer.focusOutside",XS,dM=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ly=w.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=n,u=w.useContext(dM),[c,h]=w.useState(null),d=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=w.useState({}),y=_n(e,A=>h(A)),g=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(_),b=c?g.indexOf(c):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,P=b>=v,k=x$(A=>{const T=A.target,E=[...u.branches].some(C=>C.contains(T));!P||E||(r==null||r(A),o==null||o(A),A.defaultPrevented||a==null||a())},d),M=T$(A=>{const T=A.target;[...u.branches].some(C=>C.contains(T))||(s==null||s(A),o==null||o(A),A.defaultPrevented||a==null||a())},d);return y$(A=>{b===u.layers.size-1&&(i==null||i(A),!A.defaultPrevented&&a&&(A.preventDefault(),a()))},d),w.useEffect(()=>{if(c)return t&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(XS=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),KS(),()=>{t&&u.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=XS)}},[c,d,t,u]),w.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),KS())},[c,u]),w.useEffect(()=>{const A=()=>f({});return document.addEventListener(D_,A),()=>document.removeEventListener(D_,A)},[]),p.jsx(mt.div,{...l,ref:y,style:{pointerEvents:x?P?"auto":"none":void 0,...n.style},onFocusCapture:Ae(n.onFocusCapture,M.onFocusCapture),onBlurCapture:Ae(n.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Ae(n.onPointerDownCapture,k.onPointerDownCapture)})});Ly.displayName=v$;var w$="DismissableLayerBranch",fM=w.forwardRef((n,e)=>{const t=w.useContext(dM),i=w.useRef(null),r=_n(e,i);return w.useEffect(()=>{const s=i.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),p.jsx(mt.div,{...n,ref:r})});fM.displayName=w$;function x$(n,e=globalThis==null?void 0:globalThis.document){const t=ri(n),i=w.useRef(!1),r=w.useRef(()=>{});return w.useEffect(()=>{const s=a=>{if(a.target&&!i.current){let l=function(){pM(b$,t,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=l,e.addEventListener("click",r.current,{once:!0})):l()}else e.removeEventListener("click",r.current);i.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function T$(n,e=globalThis==null?void 0:globalThis.document){const t=ri(n),i=w.useRef(!1);return w.useEffect(()=>{const r=s=>{s.target&&!i.current&&pM(_$,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function KS(){const n=new CustomEvent(D_);document.dispatchEvent(n)}function pM(n,e,t,{discrete:i}){const r=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),i?v1(r,s):r.dispatchEvent(s)}var E$=Ly,P$=fM,ia=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},S$="Portal",b1=w.forwardRef((n,e)=>{var a;const{container:t,...i}=n,[r,s]=w.useState(!1);ia(()=>s(!0),[]);const o=t||r&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?uM.createPortal(p.jsx(mt.div,{...i,ref:e}),o):null});b1.displayName=S$;function C$(n,e){return w.useReducer((t,i)=>e[t][i]??t,n)}var xa=n=>{const{present:e,children:t}=n,i=A$(e),r=typeof t=="function"?t({present:i.isPresent}):w.Children.only(t),s=_n(i.ref,k$(r));return typeof t=="function"||i.isPresent?w.cloneElement(r,{ref:s}):null};xa.displayName="Presence";function A$(n){const[e,t]=w.useState(),i=w.useRef({}),r=w.useRef(n),s=w.useRef("none"),o=n?"mounted":"unmounted",[a,l]=C$(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=Sp(i.current);s.current=a==="mounted"?u:"none"},[a]),ia(()=>{const u=i.current,c=r.current;if(c!==n){const d=s.current,f=Sp(u);n?l("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&d!==f?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,l]),ia(()=>{if(e){let u;const c=e.ownerDocument.defaultView??window,h=f=>{const g=Sp(i.current).includes(f.animationName);if(f.target===e&&g&&(l("ANIMATION_END"),!r.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",u=c.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},d=f=>{f.target===e&&(s.current=Sp(i.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{c.clearTimeout(u),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(u=>{u&&(i.current=getComputedStyle(u)),t(u)},[])}}function Sp(n){return(n==null?void 0:n.animationName)||"none"}function k$(n){var i,r;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Fy({prop:n,defaultProp:e,onChange:t=()=>{}}){const[i,r]=I$({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:i,a=ri(t),l=w.useCallback(u=>{if(s){const h=typeof u=="function"?u(n):u;h!==n&&a(h)}else r(u)},[s,n,r,a]);return[o,l]}function I$({defaultProp:n,onChange:e}){const t=w.useState(n),[i]=t,r=w.useRef(i),s=ri(e);return w.useEffect(()=>{r.current!==i&&(s(i),r.current=i)},[i,r,s]),t}var D$="VisuallyHidden",Vy=w.forwardRef((n,e)=>p.jsx(mt.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));Vy.displayName=D$;var R$=Vy,_1="ToastProvider",[w1,M$,N$]=y1("Toast"),[mM,ode]=wf("Toast",[N$]),[O$,By]=mM(_1),gM=n=>{const{__scopeToast:e,label:t="Notification",duration:i=5e3,swipeDirection:r="right",swipeThreshold:s=50,children:o}=n,[a,l]=w.useState(null),[u,c]=w.useState(0),h=w.useRef(!1),d=w.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${_1}\`. Expected non-empty \`string\`.`),p.jsx(w1.Provider,{scope:e,children:p.jsx(O$,{scope:e,label:t,duration:i,swipeDirection:r,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:w.useCallback(()=>c(f=>f+1),[]),onToastRemove:w.useCallback(()=>c(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:d,children:o})})};gM.displayName=_1;var yM="ToastViewport",j$=["F8"],R_="toast.viewportPause",M_="toast.viewportResume",vM=w.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:i=j$,label:r="Notifications ({hotkey})",...s}=n,o=By(yM,t),a=M$(t),l=w.useRef(null),u=w.useRef(null),c=w.useRef(null),h=w.useRef(null),d=_n(e,h,o.onViewportChange),f=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;w.useEffect(()=>{const _=v=>{var x;i.length!==0&&i.every(P=>v[P]||v.code===P)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[i]),w.useEffect(()=>{const _=l.current,v=h.current;if(y&&_&&v){const b=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(R_);v.dispatchEvent(M),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(M_);v.dispatchEvent(M),o.isClosePausedRef.current=!1}},P=M=>{!_.contains(M.relatedTarget)&&x()},k=()=>{_.contains(document.activeElement)||x()};return _.addEventListener("focusin",b),_.addEventListener("focusout",P),_.addEventListener("pointermove",b),_.addEventListener("pointerleave",k),window.addEventListener("blur",b),window.addEventListener("focus",x),()=>{_.removeEventListener("focusin",b),_.removeEventListener("focusout",P),_.removeEventListener("pointermove",b),_.removeEventListener("pointerleave",k),window.removeEventListener("blur",b),window.removeEventListener("focus",x)}}},[y,o.isClosePausedRef]);const g=w.useCallback(({tabbingDirection:_})=>{const b=a().map(x=>{const P=x.ref.current,k=[P,...K$(P)];return _==="forwards"?k:k.reverse()});return(_==="forwards"?b.reverse():b).flat()},[a]);return w.useEffect(()=>{const _=h.current;if(_){const v=b=>{var k,M,A;const x=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!x){const T=document.activeElement,E=b.shiftKey;if(b.target===_&&E){(k=u.current)==null||k.focus();return}const N=g({tabbingDirection:E?"backwards":"forwards"}),R=N.findIndex(V=>V===T);R0(N.slice(R+1))?b.preventDefault():E?(M=u.current)==null||M.focus():(A=c.current)==null||A.focus()}};return _.addEventListener("keydown",v),()=>_.removeEventListener("keydown",v)}},[a,g]),p.jsxs(P$,{ref:l,role:"region","aria-label":r.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&p.jsx(N_,{ref:u,onFocusFromOutsideViewport:()=>{const _=g({tabbingDirection:"forwards"});R0(_)}}),p.jsx(w1.Slot,{scope:t,children:p.jsx(mt.ol,{tabIndex:-1,...s,ref:d})}),y&&p.jsx(N_,{ref:c,onFocusFromOutsideViewport:()=>{const _=g({tabbingDirection:"backwards"});R0(_)}})]})});vM.displayName=yM;var bM="ToastFocusProxy",N_=w.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:i,...r}=n,s=By(bM,t);return p.jsx(Vy,{"aria-hidden":!0,tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(a))&&i()}})});N_.displayName=bM;var Uy="Toast",L$="toast.swipeStart",F$="toast.swipeMove",V$="toast.swipeCancel",B$="toast.swipeEnd",_M=w.forwardRef((n,e)=>{const{forceMount:t,open:i,defaultOpen:r,onOpenChange:s,...o}=n,[a=!0,l]=Fy({prop:i,defaultProp:r,onChange:s});return p.jsx(xa,{present:t||a,children:p.jsx(z$,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:ri(n.onPause),onResume:ri(n.onResume),onSwipeStart:Ae(n.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ae(n.onSwipeMove,u=>{const{x:c,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ae(n.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ae(n.onSwipeEnd,u=>{const{x:c,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${c}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});_M.displayName=Uy;var[U$,$$]=mM(Uy,{onClose(){}}),z$=w.forwardRef((n,e)=>{const{__scopeToast:t,type:i="foreground",duration:r,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:c,onSwipeMove:h,onSwipeCancel:d,onSwipeEnd:f,...y}=n,g=By(Uy,t),[_,v]=w.useState(null),b=_n(e,V=>v(V)),x=w.useRef(null),P=w.useRef(null),k=r||g.duration,M=w.useRef(0),A=w.useRef(k),T=w.useRef(0),{onToastAdd:E,onToastRemove:C}=g,D=ri(()=>{var q;(_==null?void 0:_.contains(document.activeElement))&&((q=g.viewport)==null||q.focus()),o()}),N=w.useCallback(V=>{!V||V===1/0||(window.clearTimeout(T.current),M.current=new Date().getTime(),T.current=window.setTimeout(D,V))},[D]);w.useEffect(()=>{const V=g.viewport;if(V){const q=()=>{N(A.current),u==null||u()},ee=()=>{const H=new Date().getTime()-M.current;A.current=A.current-H,window.clearTimeout(T.current),l==null||l()};return V.addEventListener(R_,ee),V.addEventListener(M_,q),()=>{V.removeEventListener(R_,ee),V.removeEventListener(M_,q)}}},[g.viewport,k,l,u,N]),w.useEffect(()=>{s&&!g.isClosePausedRef.current&&N(k)},[s,k,g.isClosePausedRef,N]),w.useEffect(()=>(E(),()=>C()),[E,C]);const R=w.useMemo(()=>_?CM(_):null,[_]);return g.viewport?p.jsxs(p.Fragment,{children:[R&&p.jsx(H$,{__scopeToast:t,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),p.jsx(U$,{scope:t,onClose:D,children:Bs.createPortal(p.jsx(w1.ItemSlot,{scope:t,children:p.jsx(E$,{asChild:!0,onEscapeKeyDown:Ae(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||D(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(mt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:b,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Ae(n.onKeyDown,V=>{V.key==="Escape"&&(a==null||a(V.nativeEvent),V.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:Ae(n.onPointerDown,V=>{V.button===0&&(x.current={x:V.clientX,y:V.clientY})}),onPointerMove:Ae(n.onPointerMove,V=>{if(!x.current)return;const q=V.clientX-x.current.x,ee=V.clientY-x.current.y,H=!!P.current,F=["left","right"].includes(g.swipeDirection),j=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,L=F?j(0,q):0,B=F?0:j(0,ee),z=V.pointerType==="touch"?10:2,$={x:L,y:B},oe={originalEvent:V,delta:$};H?(P.current=$,Cp(F$,h,oe,{discrete:!1})):qS($,g.swipeDirection,z)?(P.current=$,Cp(L$,c,oe,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(q)>z||Math.abs(ee)>z)&&(x.current=null)}),onPointerUp:Ae(n.onPointerUp,V=>{const q=P.current,ee=V.target;if(ee.hasPointerCapture(V.pointerId)&&ee.releasePointerCapture(V.pointerId),P.current=null,x.current=null,q){const H=V.currentTarget,F={originalEvent:V,delta:q};qS(q,g.swipeDirection,g.swipeThreshold)?Cp(B$,f,F,{discrete:!0}):Cp(V$,d,F,{discrete:!0}),H.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),H$=n=>{const{__scopeToast:e,children:t,...i}=n,r=By(Uy,e),[s,o]=w.useState(!1),[a,l]=w.useState(!1);return Y$(()=>o(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:p.jsx(b1,{asChild:!0,children:p.jsx(Vy,{...i,children:s&&p.jsxs(p.Fragment,{children:[r.label," ",t]})})})},W$="ToastTitle",wM=w.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n;return p.jsx(mt.div,{...i,ref:e})});wM.displayName=W$;var G$="ToastDescription",xM=w.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n;return p.jsx(mt.div,{...i,ref:e})});xM.displayName=G$;var TM="ToastAction",EM=w.forwardRef((n,e)=>{const{altText:t,...i}=n;return t.trim()?p.jsx(SM,{altText:t,asChild:!0,children:p.jsx(x1,{...i,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${TM}\`. Expected non-empty \`string\`.`),null)});EM.displayName=TM;var PM="ToastClose",x1=w.forwardRef((n,e)=>{const{__scopeToast:t,...i}=n,r=$$(PM,t);return p.jsx(SM,{asChild:!0,children:p.jsx(mt.button,{type:"button",...i,ref:e,onClick:Ae(n.onClick,r.onClose)})})});x1.displayName=PM;var SM=w.forwardRef((n,e)=>{const{__scopeToast:t,altText:i,...r}=n;return p.jsx(mt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...r,ref:e})});function CM(n){const e=[];return Array.from(n.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&e.push(i.textContent),X$(i)){const r=i.ariaHidden||i.hidden||i.style.display==="none",s=i.dataset.radixToastAnnounceExclude==="";if(!r)if(s){const o=i.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...CM(i))}}),e}function Cp(n,e,t,{discrete:i}){const r=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),i?v1(r,s):r.dispatchEvent(s)}var qS=(n,e,t=0)=>{const i=Math.abs(n.x),r=Math.abs(n.y),s=i>r;return e==="left"||e==="right"?s&&i>t:!s&&r>t};function Y$(n=()=>{}){const e=ri(n);ia(()=>{let t=0,i=0;return t=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(i)}},[e])}function X$(n){return n.nodeType===n.ELEMENT_NODE}function K$(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function R0(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var q$=gM,AM=vM,kM=_M,IM=wM,DM=xM,RM=EM,MM=x1;function NM(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=NM(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function OM(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=NM(n))&&(i&&(i+=" "),i+=e);return i}const QS=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,ZS=OM,T1=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return ZS(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:r,defaultVariants:s}=e,o=Object.keys(r).map(u=>{const c=t==null?void 0:t[u],h=s==null?void 0:s[u];if(c===null)return null;const d=QS(c)||QS(h);return r[u][d]}),a=t&&Object.entries(t).reduce((u,c)=>{let[h,d]=c;return d===void 0||(u[h]=d),u},{}),l=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((u,c)=>{let{class:h,className:d,...f}=c;return Object.entries(f).every(y=>{let[g,_]=y;return Array.isArray(_)?_.includes({...s,...a}[g]):{...s,...a}[g]===_})?[...u,h,d]:u},[]);return ZS(n,o,l,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jM=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Z$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=w.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...a},l)=>w.createElement("svg",{ref:l,...Z$,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:jM("lucide",r),...a},[...o.map(([u,c])=>w.createElement(u,c)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(n,e)=>{const t=w.forwardRef(({className:i,...r},s)=>w.createElement(J$,{ref:s,iconNode:e,className:jM(`lucide-${Q$(n)}`,i),...r}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=Fe("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=Fe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=Fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=Fe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=Fe("Cat",[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=Fe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=Fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=Fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=Fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=Fe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=Fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=Fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=Fe("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=Fe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=Fe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=Fe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=Fe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=Fe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=Fe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=Fe("Flower",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=Fe("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=Fe("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=Fe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=Fe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=Fe("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=Fe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=Fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=Fe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=Fe("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=Fe("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=Fe("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=Fe("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=Fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=Fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=Fe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=Fe("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=Fe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=Fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=Fe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=Fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=Fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=Fe("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=Fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),E1="-",V6=n=>{const e=U6(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:o=>{const a=o.split(E1);return a[0]===""&&a.length!==1&&a.shift(),VM(a,e)||B6(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&i[o]?[...l,...i[o]]:l}}},VM=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),r=i?VM(n.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const s=n.join(E1);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},eC=/^\[(.+)\]$/,B6=n=>{if(eC.test(n)){const e=eC.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},U6=n=>{const{theme:e,prefix:t}=n,i={nextPart:new Map,validators:[]};return z6(Object.entries(n.classGroups),t).forEach(([s,o])=>{j_(o,i,s,e)}),i},j_=(n,e,t,i)=>{n.forEach(r=>{if(typeof r=="string"){const s=r===""?e:tC(e,r);s.classGroupId=t;return}if(typeof r=="function"){if($6(r)){j_(r(i),e,t,i);return}e.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([s,o])=>{j_(o,tC(e,s),t,i)})})},tC=(n,e)=>{let t=n;return e.split(E1).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},$6=n=>n.isThemeGetter,z6=(n,e)=>e?n.map(([t,i])=>{const r=i.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[t,r]}):n,H6=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const r=(s,o)=>{t.set(s,o),e++,e>n&&(e=0,i=t,t=new Map)};return{get(s){let o=t.get(s);if(o!==void 0)return o;if((o=i.get(s))!==void 0)return r(s,o),o},set(s,o){t.has(s)?t.set(s,o):r(s,o)}}},BM="!",W6=n=>{const{separator:e,experimentalParseClassName:t}=n,i=e.length===1,r=e[0],s=e.length,o=a=>{const l=[];let u=0,c=0,h;for(let _=0;_<a.length;_++){let v=a[_];if(u===0){if(v===r&&(i||a.slice(_,_+s)===e)){l.push(a.slice(c,_)),c=_+s;continue}if(v==="/"){h=_;continue}}v==="["?u++:v==="]"&&u--}const d=l.length===0?a:a.substring(c),f=d.startsWith(BM),y=f?d.substring(1):d,g=h&&h>c?h-c:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:y,maybePostfixModifierPosition:g}};return t?a=>t({className:a,parseClassName:o}):o},G6=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(i=>{i[0]==="["?(e.push(...t.sort(),i),t=[]):t.push(i)}),e.push(...t.sort()),e},Y6=n=>({cache:H6(n.cacheSize),parseClassName:W6(n),...V6(n)}),X6=/\s+/,K6=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:r}=e,s=[],o=n.trim().split(X6);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:c,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:f}=t(u);let y=!!f,g=i(y?d.substring(0,f):d);if(!g){if(!y){a=u+(a.length>0?" "+a:a);continue}if(g=i(d),!g){a=u+(a.length>0?" "+a:a);continue}y=!1}const _=G6(c).join(":"),v=h?_+BM:_,b=v+g;if(s.includes(b))continue;s.push(b);const x=r(g,y);for(let P=0;P<x.length;++P){const k=x[P];s.push(v+k)}a=u+(a.length>0?" "+a:a)}return a};function q6(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=UM(e))&&(i&&(i+=" "),i+=t);return i}const UM=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=UM(n[i]))&&(t&&(t+=" "),t+=e);return t};function Q6(n,...e){let t,i,r,s=o;function o(l){const u=e.reduce((c,h)=>h(c),n());return t=Y6(u),i=t.cache.get,r=t.cache.set,s=a,a(l)}function a(l){const u=i(l);if(u)return u;const c=K6(l,t);return r(l,c),c}return function(){return s(q6.apply(null,arguments))}}const _t=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},$M=/^\[(?:([a-z-]+):)?(.+)\]$/i,Z6=/^\d+\/\d+$/,J6=new Set(["px","full","screen"]),ez=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,iz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ws=n=>Cu(n)||J6.has(n)||Z6.test(n),uo=n=>Pc(n,"length",dz),Cu=n=>!!n&&!Number.isNaN(Number(n)),M0=n=>Pc(n,"number",Cu),uh=n=>!!n&&Number.isInteger(Number(n)),sz=n=>n.endsWith("%")&&Cu(n.slice(0,-1)),$e=n=>$M.test(n),co=n=>ez.test(n),oz=new Set(["length","size","percentage"]),az=n=>Pc(n,oz,zM),lz=n=>Pc(n,"position",zM),uz=new Set(["image","url"]),cz=n=>Pc(n,uz,pz),hz=n=>Pc(n,"",fz),ch=()=>!0,Pc=(n,e,t)=>{const i=$M.exec(n);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):t(i[2]):!1},dz=n=>tz.test(n)&&!nz.test(n),zM=()=>!1,fz=n=>iz.test(n),pz=n=>rz.test(n),mz=()=>{const n=_t("colors"),e=_t("spacing"),t=_t("blur"),i=_t("brightness"),r=_t("borderColor"),s=_t("borderRadius"),o=_t("borderSpacing"),a=_t("borderWidth"),l=_t("contrast"),u=_t("grayscale"),c=_t("hueRotate"),h=_t("invert"),d=_t("gap"),f=_t("gradientColorStops"),y=_t("gradientColorStopPositions"),g=_t("inset"),_=_t("margin"),v=_t("opacity"),b=_t("padding"),x=_t("saturate"),P=_t("scale"),k=_t("sepia"),M=_t("skew"),A=_t("space"),T=_t("translate"),E=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",$e,e],N=()=>[$e,e],R=()=>["",ws,uo],V=()=>["auto",Cu,$e],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ee=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",$e],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[Cu,$e];return{cacheSize:500,separator:":",theme:{colors:[ch],spacing:[ws,uo],blur:["none","",co,$e],brightness:B(),borderColor:[n],borderRadius:["none","","full",co,$e],borderSpacing:N(),borderWidth:R(),contrast:B(),grayscale:j(),hueRotate:B(),invert:j(),gap:N(),gradientColorStops:[n],gradientColorStopPositions:[sz,uo],inset:D(),margin:D(),opacity:B(),padding:N(),saturate:B(),scale:B(),sepia:j(),skew:B(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",$e]}],container:["container"],columns:[{columns:[co]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),$e]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",uh,$e]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$e]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",uh,$e]}],"grid-cols":[{"grid-cols":[ch]}],"col-start-end":[{col:["auto",{span:["full",uh,$e]},$e]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[ch]}],"row-start-end":[{row:["auto",{span:[uh,$e]},$e]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$e]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$e,e]}],"min-w":[{"min-w":[$e,e,"min","max","fit"]}],"max-w":[{"max-w":[$e,e,"none","full","min","max","fit","prose",{screen:[co]},co]}],h:[{h:[$e,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$e,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$e,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$e,e,"auto","min","max","fit"]}],"font-size":[{text:["base",co,uo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",M0]}],"font-family":[{font:[ch]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$e]}],"line-clamp":[{"line-clamp":["none",Cu,M0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ws,$e]}],"list-image":[{"list-image":["none",$e]}],"list-style-type":[{list:["none","disc","decimal",$e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ws,uo]}],"underline-offset":[{"underline-offset":["auto",ws,$e]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),lz]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",az]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cz]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...ee(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:ee()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...ee()]}],"outline-offset":[{"outline-offset":[ws,$e]}],"outline-w":[{outline:[ws,uo]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[ws,uo]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",co,hz]}],"shadow-color":[{shadow:[ch]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[i]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",co,$e]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$e]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",$e]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",$e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[uh,$e]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$e]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[ws,uo,M0]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},gz=Q6(mz);function lt(...n){return gz(OM(n))}const yz=n=>n>=1e9?(n/1e9).toFixed(1)+"B":n>=1e6?(n/1e6).toFixed(1)+"M":n>=1e3?(n/1e3).toFixed(1)+"K":n.toString(),vz=q$,HM=w.forwardRef(({className:n,...e},t)=>p.jsx(AM,{ref:t,className:lt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));HM.displayName=AM.displayName;const bz=T1("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),WM=w.forwardRef(({className:n,variant:e,...t},i)=>p.jsx(kM,{ref:i,className:lt(bz({variant:e}),n),...t}));WM.displayName=kM.displayName;const GM=w.forwardRef(({className:n,...e},t)=>p.jsx(RM,{ref:t,className:lt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));GM.displayName=RM.displayName;const YM=w.forwardRef(({className:n,...e},t)=>p.jsx(MM,{ref:t,className:lt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:p.jsx(FM,{className:"h-4 w-4"})}));YM.displayName=MM.displayName;const XM=w.forwardRef(({className:n,...e},t)=>p.jsx(IM,{ref:t,className:lt("text-sm font-semibold",n),...e}));XM.displayName=IM.displayName;const KM=w.forwardRef(({className:n,...e},t)=>p.jsx(DM,{ref:t,className:lt("text-sm opacity-90",n),...e}));KM.displayName=DM.displayName;function _z(){const{toasts:n}=eo();return p.jsxs(vz,{children:[n.map(function({id:e,title:t,description:i,action:r,...s}){return p.jsxs(WM,{...s,children:[p.jsxs("div",{className:"grid gap-1",children:[t&&p.jsx(XM,{children:t}),i&&p.jsx(KM,{children:i})]}),r,p.jsx(YM,{})]},e)}),p.jsx(HM,{})]})}var nC=["light","dark"],wz="(prefers-color-scheme: dark)",xz=w.createContext(void 0),Tz={setTheme:n=>{},themes:[]},Ez=()=>{var n;return(n=w.useContext(xz))!=null?n:Tz};w.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:i,enableColorScheme:r,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let u=s==="system",c=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,h=r?nC.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",d=(y,g=!1,_=!0)=>{let v=o?o[y]:y,b=g?y+"|| ''":`'${v}'`,x="";return r&&_&&!g&&nC.includes(y)&&(x+=`d.style.colorScheme = '${y}';`),t==="class"?g||v?x+=`c.add(${b})`:x+="null":v&&(x+=`d[s](n,${b})`),x},f=n?`!function(){${c}${d(n)}}()`:i?`!function(){try{${c}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${wz}',m=window.matchMedia(t);if(m.media!==t||m.matches){${d("dark")}}else{${d("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${d(o?"x[e]":"e",!0)}}${u?"":"else{"+d(s,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${c}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${d(o?"x[e]":"e",!0)}}else{${d(s,!1,!1)};}${h}}catch(t){}}();`;return w.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})});var Pz=n=>{switch(n){case"success":return Az;case"info":return Iz;case"warning":return kz;case"error":return Dz;default:return null}},Sz=Array(12).fill(0),Cz=({visible:n})=>te.createElement("div",{className:"sonner-loading-wrapper","data-visible":n},te.createElement("div",{className:"sonner-spinner"},Sz.map((e,t)=>te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),Az=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),kz=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Iz=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Dz=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Rz=()=>{let[n,e]=te.useState(document.hidden);return te.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},L_=1,Mz=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:i,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:L_++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:i}),{...l,...e,id:s,dismissible:a,title:i}):l):this.addToast({title:i,...r,dismissible:a,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(i=>i({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let i;t.loading!==void 0&&(i=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=i!==void 0;return r.then(async o=>{if(Oz(o)&&!o.ok){s=!1;let a=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:i,type:"error",message:a,description:l})}else if(t.success!==void 0){s=!1;let a=typeof t.success=="function"?await t.success(o):t.success,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:i,type:"success",message:a,description:l})}}).catch(async o=>{if(t.error!==void 0){s=!1;let a=typeof t.error=="function"?await t.error(o):t.error,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:i,type:"error",message:a,description:l})}}).finally(()=>{var o;s&&(this.dismiss(i),i=void 0),(o=t.finally)==null||o.call(t)}),i},this.custom=(e,t)=>{let i=(t==null?void 0:t.id)||L_++;return this.create({jsx:e(i),id:i,...t}),i},this.subscribers=[],this.toasts=[]}},ki=new Mz,Nz=(n,e)=>{let t=(e==null?void 0:e.id)||L_++;return ki.addToast({title:n,...e,id:t}),t},Oz=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",jz=Nz,Lz=()=>ki.toasts;Object.assign(jz,{success:ki.success,info:ki.info,warning:ki.warning,error:ki.error,custom:ki.custom,message:ki.message,promise:ki.promise,dismiss:ki.dismiss,loading:ki.loading},{getHistory:Lz});function Fz(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",e==="top"&&t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}Fz(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ap(n){return n.label!==void 0}var Vz=3,Bz="32px",Uz=4e3,$z=356,zz=14,Hz=20,Wz=200;function Gz(...n){return n.filter(Boolean).join(" ")}var Yz=n=>{var e,t,i,r,s,o,a,l,u,c;let{invert:h,toast:d,unstyled:f,interacting:y,setHeights:g,visibleToasts:_,heights:v,index:b,toasts:x,expanded:P,removeToast:k,defaultRichColors:M,closeButton:A,style:T,cancelButtonStyle:E,actionButtonStyle:C,className:D="",descriptionClassName:N="",duration:R,position:V,gap:q,loadingIcon:ee,expandByDefault:H,classNames:F,icons:j,closeButtonAriaLabel:L="Close toast",pauseWhenPageIsHidden:B,cn:z}=n,[$,oe]=te.useState(!1),[K,ne]=te.useState(!1),[le,X]=te.useState(!1),[ce,me]=te.useState(!1),[fe,Pe]=te.useState(0),[xe,ge]=te.useState(0),De=te.useRef(null),Ee=te.useRef(null),Ve=b===0,Te=b+1<=_,Se=d.type,Be=d.dismissible!==!1,gt=d.className||"",ft=d.descriptionClassName||"",ut=te.useMemo(()=>v.findIndex(Ne=>Ne.toastId===d.id)||0,[v,d.id]),vt=te.useMemo(()=>{var Ne;return(Ne=d.closeButton)!=null?Ne:A},[d.closeButton,A]),nn=te.useMemo(()=>d.duration||R||Uz,[d.duration,R]),Ue=te.useRef(0),ze=te.useRef(0),tt=te.useRef(0),Mn=te.useRef(null),[Ti,li]=V.split("-"),Ft=te.useMemo(()=>v.reduce((Ne,rt,it)=>it>=ut?Ne:Ne+rt.height,0),[v,ut]),Ei=Rz(),ys=d.invert||h,vs=Se==="loading";ze.current=te.useMemo(()=>ut*q+Ft,[ut,Ft]),te.useEffect(()=>{oe(!0)},[]),te.useLayoutEffect(()=>{if(!$)return;let Ne=Ee.current,rt=Ne.style.height;Ne.style.height="auto";let it=Ne.getBoundingClientRect().height;Ne.style.height=rt,ge(it),g(rn=>rn.find(Nn=>Nn.toastId===d.id)?rn.map(Nn=>Nn.toastId===d.id?{...Nn,height:it}:Nn):[{toastId:d.id,height:it,position:d.position},...rn])},[$,d.title,d.description,g,d.id]);let Vi=te.useCallback(()=>{ne(!0),Pe(ze.current),g(Ne=>Ne.filter(rt=>rt.toastId!==d.id)),setTimeout(()=>{k(d)},Wz)},[d,k,g,ze]);te.useEffect(()=>{if(d.promise&&Se==="loading"||d.duration===1/0||d.type==="loading")return;let Ne,rt=nn;return P||y||B&&Ei?(()=>{if(tt.current<Ue.current){let it=new Date().getTime()-Ue.current;rt=rt-it}tt.current=new Date().getTime()})():rt!==1/0&&(Ue.current=new Date().getTime(),Ne=setTimeout(()=>{var it;(it=d.onAutoClose)==null||it.call(d,d),Vi()},rt)),()=>clearTimeout(Ne)},[P,y,H,d,nn,Vi,d.promise,Se,B,Ei]),te.useEffect(()=>{let Ne=Ee.current;if(Ne){let rt=Ne.getBoundingClientRect().height;return ge(rt),g(it=>[{toastId:d.id,height:rt,position:d.position},...it]),()=>g(it=>it.filter(rn=>rn.toastId!==d.id))}},[g,d.id]),te.useEffect(()=>{d.delete&&Vi()},[Vi,d.delete]);function Wc(){return j!=null&&j.loading?te.createElement("div",{className:"sonner-loader","data-visible":Se==="loading"},j.loading):ee?te.createElement("div",{className:"sonner-loader","data-visible":Se==="loading"},ee):te.createElement(Cz,{visible:Se==="loading"})}return te.createElement("li",{"aria-live":d.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Ee,className:z(D,gt,F==null?void 0:F.toast,(e=d==null?void 0:d.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[Se],(t=d==null?void 0:d.classNames)==null?void 0:t[Se]),"data-sonner-toast":"","data-rich-colors":(i=d.richColors)!=null?i:M,"data-styled":!(d.jsx||d.unstyled||f),"data-mounted":$,"data-promise":!!d.promise,"data-removed":K,"data-visible":Te,"data-y-position":Ti,"data-x-position":li,"data-index":b,"data-front":Ve,"data-swiping":le,"data-dismissible":Be,"data-type":Se,"data-invert":ys,"data-swipe-out":ce,"data-expanded":!!(P||H&&$),style:{"--index":b,"--toasts-before":b,"--z-index":x.length-b,"--offset":`${K?fe:ze.current}px`,"--initial-height":H?"auto":`${xe}px`,...T,...d.style},onPointerDown:Ne=>{vs||!Be||(De.current=new Date,Pe(ze.current),Ne.target.setPointerCapture(Ne.pointerId),Ne.target.tagName!=="BUTTON"&&(X(!0),Mn.current={x:Ne.clientX,y:Ne.clientY}))},onPointerUp:()=>{var Ne,rt,it,rn;if(ce||!Be)return;Mn.current=null;let Nn=Number(((Ne=Ee.current)==null?void 0:Ne.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Bi=new Date().getTime()-((rt=De.current)==null?void 0:rt.getTime()),Pi=Math.abs(Nn)/Bi;if(Math.abs(Nn)>=Hz||Pi>.11){Pe(ze.current),(it=d.onDismiss)==null||it.call(d,d),Vi(),me(!0);return}(rn=Ee.current)==null||rn.style.setProperty("--swipe-amount","0px"),X(!1)},onPointerMove:Ne=>{var rt;if(!Mn.current||!Be)return;let it=Ne.clientY-Mn.current.y,rn=Ne.clientX-Mn.current.x,Nn=(Ti==="top"?Math.min:Math.max)(0,it),Bi=Ne.pointerType==="touch"?10:2;Math.abs(Nn)>Bi?(rt=Ee.current)==null||rt.style.setProperty("--swipe-amount",`${it}px`):Math.abs(rn)>Bi&&(Mn.current=null)}},vt&&!d.jsx?te.createElement("button",{"aria-label":L,"data-disabled":vs,"data-close-button":!0,onClick:vs||!Be?()=>{}:()=>{var Ne;Vi(),(Ne=d.onDismiss)==null||Ne.call(d,d)},className:z(F==null?void 0:F.closeButton,(r=d==null?void 0:d.classNames)==null?void 0:r.closeButton)},te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,d.jsx||te.isValidElement(d.title)?d.jsx||d.title:te.createElement(te.Fragment,null,Se||d.icon||d.promise?te.createElement("div",{"data-icon":"",className:z(F==null?void 0:F.icon,(s=d==null?void 0:d.classNames)==null?void 0:s.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||Wc():null,d.type!=="loading"?d.icon||(j==null?void 0:j[Se])||Pz(Se):null):null,te.createElement("div",{"data-content":"",className:z(F==null?void 0:F.content,(o=d==null?void 0:d.classNames)==null?void 0:o.content)},te.createElement("div",{"data-title":"",className:z(F==null?void 0:F.title,(a=d==null?void 0:d.classNames)==null?void 0:a.title)},d.title),d.description?te.createElement("div",{"data-description":"",className:z(N,ft,F==null?void 0:F.description,(l=d==null?void 0:d.classNames)==null?void 0:l.description)},d.description):null),te.isValidElement(d.cancel)?d.cancel:d.cancel&&Ap(d.cancel)?te.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||E,onClick:Ne=>{var rt,it;Ap(d.cancel)&&Be&&((it=(rt=d.cancel).onClick)==null||it.call(rt,Ne),Vi())},className:z(F==null?void 0:F.cancelButton,(u=d==null?void 0:d.classNames)==null?void 0:u.cancelButton)},d.cancel.label):null,te.isValidElement(d.action)?d.action:d.action&&Ap(d.action)?te.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||C,onClick:Ne=>{var rt,it;Ap(d.action)&&(Ne.defaultPrevented||((it=(rt=d.action).onClick)==null||it.call(rt,Ne),Vi()))},className:z(F==null?void 0:F.actionButton,(c=d==null?void 0:d.classNames)==null?void 0:c.actionButton)},d.action.label):null))};function iC(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}var Xz=n=>{let{invert:e,position:t="bottom-right",hotkey:i=["altKey","KeyT"],expand:r,closeButton:s,className:o,offset:a,theme:l="light",richColors:u,duration:c,style:h,visibleToasts:d=Vz,toastOptions:f,dir:y=iC(),gap:g=zz,loadingIcon:_,icons:v,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:x,cn:P=Gz}=n,[k,M]=te.useState([]),A=te.useMemo(()=>Array.from(new Set([t].concat(k.filter(B=>B.position).map(B=>B.position)))),[k,t]),[T,E]=te.useState([]),[C,D]=te.useState(!1),[N,R]=te.useState(!1),[V,q]=te.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=te.useRef(null),H=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=te.useRef(null),j=te.useRef(!1),L=te.useCallback(B=>{var z;(z=k.find($=>$.id===B.id))!=null&&z.delete||ki.dismiss(B.id),M($=>$.filter(({id:oe})=>oe!==B.id))},[k]);return te.useEffect(()=>ki.subscribe(B=>{if(B.dismiss){M(z=>z.map($=>$.id===B.id?{...$,delete:!0}:$));return}setTimeout(()=>{uM.flushSync(()=>{M(z=>{let $=z.findIndex(oe=>oe.id===B.id);return $!==-1?[...z.slice(0,$),{...z[$],...B},...z.slice($+1)]:[B,...z]})})})}),[]),te.useEffect(()=>{if(l!=="system"){q(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:B})=>{q(B?"dark":"light")})},[l]),te.useEffect(()=>{k.length<=1&&D(!1)},[k]),te.useEffect(()=>{let B=z=>{var $,oe;i.every(K=>z[K]||z.code===K)&&(D(!0),($=ee.current)==null||$.focus()),z.code==="Escape"&&(document.activeElement===ee.current||(oe=ee.current)!=null&&oe.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[i]),te.useEffect(()=>{if(ee.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,j.current=!1)}},[ee.current]),k.length?te.createElement("section",{"aria-label":`${b} ${H}`,tabIndex:-1},A.map((B,z)=>{var $;let[oe,K]=B.split("-");return te.createElement("ol",{key:B,dir:y==="auto"?iC():y,tabIndex:-1,ref:ee,className:o,"data-sonner-toaster":!0,"data-theme":V,"data-y-position":oe,"data-x-position":K,style:{"--front-toast-height":`${(($=T[0])==null?void 0:$.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||Bz,"--width":`${$z}px`,"--gap":`${g}px`,...h},onBlur:ne=>{j.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(j.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||j.current||(j.current=!0,F.current=ne.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{N||D(!1)},onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},k.filter(ne=>!ne.position&&z===0||ne.position===B).map((ne,le)=>{var X,ce;return te.createElement(Yz,{key:ne.id,icons:v,index:le,toast:ne,defaultRichColors:u,duration:(X=f==null?void 0:f.duration)!=null?X:c,className:f==null?void 0:f.className,descriptionClassName:f==null?void 0:f.descriptionClassName,invert:e,visibleToasts:d,closeButton:(ce=f==null?void 0:f.closeButton)!=null?ce:s,interacting:N,position:B,style:f==null?void 0:f.style,unstyled:f==null?void 0:f.unstyled,classNames:f==null?void 0:f.classNames,cancelButtonStyle:f==null?void 0:f.cancelButtonStyle,actionButtonStyle:f==null?void 0:f.actionButtonStyle,removeToast:L,toasts:k.filter(me=>me.position==ne.position),heights:T.filter(me=>me.position==ne.position),setHeights:E,expandByDefault:r,gap:g,loadingIcon:_,expanded:C,pauseWhenPageIsHidden:x,cn:P})}))})):null};const Kz=({...n})=>{const{theme:e="system"}=Ez();return p.jsx(Xz,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};var qz=rd.useId||(()=>{}),Qz=0;function cg(n){const[e,t]=w.useState(qz());return ia(()=>{n||t(i=>i??String(Qz++))},[n]),n||(e?`radix-${e}`:"")}const Zz=["top","right","bottom","left"],Us=Math.min,Wn=Math.max,xd=Math.round,kp=Math.floor,ra=n=>({x:n,y:n}),Jz={left:"right",right:"left",bottom:"top",top:"bottom"},e9={start:"end",end:"start"};function F_(n,e,t){return Wn(n,Us(e,t))}function ss(n,e){return typeof n=="function"?n(e):n}function $s(n){return n.split("-")[0]}function Sc(n){return n.split("-")[1]}function P1(n){return n==="x"?"y":"x"}function S1(n){return n==="y"?"height":"width"}function sa(n){return["top","bottom"].includes($s(n))?"y":"x"}function C1(n){return P1(sa(n))}function t9(n,e,t){t===void 0&&(t=!1);const i=Sc(n),r=C1(n),s=S1(r);let o=r==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=hg(o)),[o,hg(o)]}function n9(n){const e=hg(n);return[V_(n),e,V_(e)]}function V_(n){return n.replace(/start|end/g,e=>e9[e])}function i9(n,e,t){const i=["left","right"],r=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?r:i:e?i:r;case"left":case"right":return e?s:o;default:return[]}}function r9(n,e,t,i){const r=Sc(n);let s=i9($s(n),t==="start",i);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(V_)))),s}function hg(n){return n.replace(/left|right|bottom|top/g,e=>Jz[e])}function s9(n){return{top:0,right:0,bottom:0,left:0,...n}}function qM(n){return typeof n!="number"?s9(n):{top:n,right:n,bottom:n,left:n}}function dg(n){const{x:e,y:t,width:i,height:r}=n;return{width:i,height:r,top:t,left:e,right:e+i,bottom:t+r,x:e,y:t}}function rC(n,e,t){let{reference:i,floating:r}=n;const s=sa(e),o=C1(e),a=S1(o),l=$s(e),u=s==="y",c=i.x+i.width/2-r.width/2,h=i.y+i.height/2-r.height/2,d=i[a]/2-r[a]/2;let f;switch(l){case"top":f={x:c,y:i.y-r.height};break;case"bottom":f={x:c,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:h};break;case"left":f={x:i.x-r.width,y:h};break;default:f={x:i.x,y:i.y}}switch(Sc(e)){case"start":f[o]-=d*(t&&u?-1:1);break;case"end":f[o]+=d*(t&&u?-1:1);break}return f}const o9=async(n,e,t)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:n,floating:e,strategy:r}),{x:c,y:h}=rC(u,i,l),d=i,f={},y=0;for(let g=0;g<a.length;g++){const{name:_,fn:v}=a[g],{x:b,y:x,data:P,reset:k}=await v({x:c,y:h,initialPlacement:i,placement:d,strategy:r,middlewareData:f,rects:u,platform:o,elements:{reference:n,floating:e}});c=b??c,h=x??h,f={...f,[_]:{...f[_],...P}},k&&y<=50&&(y++,typeof k=="object"&&(k.placement&&(d=k.placement),k.rects&&(u=k.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:r}):k.rects),{x:c,y:h}=rC(u,d,l)),g=-1)}return{x:c,y:h,placement:d,strategy:r,middlewareData:f}};async function tc(n,e){var t;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=ss(e,n),y=qM(f),_=a[d?h==="floating"?"reference":"floating":h],v=dg(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(_)))==null||t?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),b=h==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),P=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},k=dg(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:x,strategy:l}):b);return{top:(v.top-k.top+y.top)/P.y,bottom:(k.bottom-v.bottom+y.bottom)/P.y,left:(v.left-k.left+y.left)/P.x,right:(k.right-v.right+y.right)/P.x}}const a9=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:r,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:c=0}=ss(n,e)||{};if(u==null)return{};const h=qM(c),d={x:t,y:i},f=C1(r),y=S1(f),g=await o.getDimensions(u),_=f==="y",v=_?"top":"left",b=_?"bottom":"right",x=_?"clientHeight":"clientWidth",P=s.reference[y]+s.reference[f]-d[f]-s.floating[y],k=d[f]-s.reference[f],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let A=M?M[x]:0;(!A||!await(o.isElement==null?void 0:o.isElement(M)))&&(A=a.floating[x]||s.floating[y]);const T=P/2-k/2,E=A/2-g[y]/2-1,C=Us(h[v],E),D=Us(h[b],E),N=C,R=A-g[y]-D,V=A/2-g[y]/2+T,q=F_(N,V,R),ee=!l.arrow&&Sc(r)!=null&&V!==q&&s.reference[y]/2-(V<N?C:D)-g[y]/2<0,H=ee?V<N?V-N:V-R:0;return{[f]:d[f]+H,data:{[f]:q,centerOffset:V-q-H,...ee&&{alignmentOffset:H}},reset:ee}}}),l9=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,..._}=ss(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const v=$s(r),b=sa(a),x=$s(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(u.floating)),k=d||(x||!g?[hg(a)]:n9(a)),M=y!=="none";!d&&M&&k.push(...r9(a,g,y,P));const A=[a,...k],T=await tc(e,_),E=[];let C=((i=s.flip)==null?void 0:i.overflows)||[];if(c&&E.push(T[v]),h){const V=t9(r,o,P);E.push(T[V[0]],T[V[1]])}if(C=[...C,{placement:r,overflows:E}],!E.every(V=>V<=0)){var D,N;const V=(((D=s.flip)==null?void 0:D.index)||0)+1,q=A[V];if(q)return{data:{index:V,overflows:C},reset:{placement:q}};let ee=(N=C.filter(H=>H.overflows[0]<=0).sort((H,F)=>H.overflows[1]-F.overflows[1])[0])==null?void 0:N.placement;if(!ee)switch(f){case"bestFit":{var R;const H=(R=C.filter(F=>{if(M){const j=sa(F.placement);return j===b||j==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(j=>j>0).reduce((j,L)=>j+L,0)]).sort((F,j)=>F[1]-j[1])[0])==null?void 0:R[0];H&&(ee=H);break}case"initialPlacement":ee=a;break}if(r!==ee)return{reset:{placement:ee}}}return{}}}};function sC(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function oC(n){return Zz.some(e=>n[e]>=0)}const u9=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...r}=ss(n,e);switch(i){case"referenceHidden":{const s=await tc(e,{...r,elementContext:"reference"}),o=sC(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:oC(o)}}}case"escaped":{const s=await tc(e,{...r,altBoundary:!0}),o=sC(s,t.floating);return{data:{escapedOffsets:o,escaped:oC(o)}}}default:return{}}}}};async function c9(n,e){const{placement:t,platform:i,elements:r}=n,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=$s(t),a=Sc(t),l=sa(t)==="y",u=["left","top"].includes(o)?-1:1,c=s&&l?-1:1,h=ss(e,n);let{mainAxis:d,crossAxis:f,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof y=="number"&&(f=a==="end"?y*-1:y),l?{x:f*c,y:d*u}:{x:d*u,y:f*c}}const h9=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:r,y:s,placement:o,middlewareData:a}=e,l=await c9(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:o}}}}},d9=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:v,y:b}=_;return{x:v,y:b}}},...l}=ss(n,e),u={x:t,y:i},c=await tc(e,l),h=sa($s(r)),d=P1(h);let f=u[d],y=u[h];if(s){const _=d==="y"?"top":"left",v=d==="y"?"bottom":"right",b=f+c[_],x=f-c[v];f=F_(b,f,x)}if(o){const _=h==="y"?"top":"left",v=h==="y"?"bottom":"right",b=y+c[_],x=y-c[v];y=F_(b,y,x)}const g=a.fn({...e,[d]:f,[h]:y});return{...g,data:{x:g.x-t,y:g.y-i,enabled:{[d]:s,[h]:o}}}}}},f9=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:r,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=ss(n,e),c={x:t,y:i},h=sa(r),d=P1(h);let f=c[d],y=c[h];const g=ss(a,e),_=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const x=d==="y"?"height":"width",P=s.reference[d]-s.floating[x]+_.mainAxis,k=s.reference[d]+s.reference[x]-_.mainAxis;f<P?f=P:f>k&&(f=k)}if(u){var v,b;const x=d==="y"?"width":"height",P=["top","left"].includes($s(r)),k=s.reference[h]-s.floating[x]+(P&&((v=o.offset)==null?void 0:v[h])||0)+(P?0:_.crossAxis),M=s.reference[h]+s.reference[x]+(P?0:((b=o.offset)==null?void 0:b[h])||0)-(P?_.crossAxis:0);y<k?y=k:y>M&&(y=M)}return{[d]:f,[h]:y}}}},p9=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:r,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...u}=ss(n,e),c=await tc(e,u),h=$s(r),d=Sc(r),f=sa(r)==="y",{width:y,height:g}=s.floating;let _,v;h==="top"||h==="bottom"?(_=h,v=d===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=h,_=d==="end"?"top":"bottom");const b=g-c.top-c.bottom,x=y-c.left-c.right,P=Us(g-c[_],b),k=Us(y-c[v],x),M=!e.middlewareData.shift;let A=P,T=k;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(T=x),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(A=b),M&&!d){const C=Wn(c.left,0),D=Wn(c.right,0),N=Wn(c.top,0),R=Wn(c.bottom,0);f?T=y-2*(C!==0||D!==0?C+D:Wn(c.left,c.right)):A=g-2*(N!==0||R!==0?N+R:Wn(c.top,c.bottom))}await l({...e,availableWidth:T,availableHeight:A});const E=await o.getDimensions(a.floating);return y!==E.width||g!==E.height?{reset:{rects:!0}}:{}}}};function $y(){return typeof window<"u"}function Cc(n){return QM(n)?(n.nodeName||"").toLowerCase():"#document"}function Ni(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ds(n){var e;return(e=(QM(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function QM(n){return $y()?n instanceof Node||n instanceof Ni(n).Node:!1}function ei(n){return $y()?n instanceof Element||n instanceof Ni(n).Element:!1}function os(n){return $y()?n instanceof HTMLElement||n instanceof Ni(n).HTMLElement:!1}function aC(n){return!$y()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Ni(n).ShadowRoot}function xf(n){const{overflow:e,overflowX:t,overflowY:i,display:r}=Dr(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(r)}function m9(n){return["table","td","th"].includes(Cc(n))}function zy(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function A1(n){const e=k1(),t=ei(n)?Dr(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function g9(n){let e=oa(n);for(;os(e)&&!nc(e);){if(A1(e))return e;if(zy(e))return null;e=oa(e)}return null}function k1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function nc(n){return["html","body","#document"].includes(Cc(n))}function Dr(n){return Ni(n).getComputedStyle(n)}function Hy(n){return ei(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function oa(n){if(Cc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||aC(n)&&n.host||ds(n);return aC(e)?e.host:e}function ZM(n){const e=oa(n);return nc(e)?n.ownerDocument?n.ownerDocument.body:n.body:os(e)&&xf(e)?e:ZM(e)}function Td(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=ZM(n),s=r===((i=n.ownerDocument)==null?void 0:i.body),o=Ni(r);if(s){const a=B_(o);return e.concat(o,o.visualViewport||[],xf(r)?r:[],a&&t?Td(a):[])}return e.concat(r,Td(r,[],t))}function B_(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function JM(n){const e=Dr(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=os(n),s=r?n.offsetWidth:t,o=r?n.offsetHeight:i,a=xd(t)!==s||xd(i)!==o;return a&&(t=s,i=o),{width:t,height:i,$:a}}function I1(n){return ei(n)?n:n.contextElement}function Au(n){const e=I1(n);if(!os(e))return ra(1);const t=e.getBoundingClientRect(),{width:i,height:r,$:s}=JM(e);let o=(s?xd(t.width):t.width)/i,a=(s?xd(t.height):t.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const y9=ra(0);function eN(n){const e=Ni(n);return!k1()||!e.visualViewport?y9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function v9(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Ni(n)?!1:e}function gl(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=I1(n);let o=ra(1);e&&(i?ei(i)&&(o=Au(i)):o=Au(n));const a=v9(s,t,i)?eN(s):ra(0);let l=(r.left+a.x)/o.x,u=(r.top+a.y)/o.y,c=r.width/o.x,h=r.height/o.y;if(s){const d=Ni(s),f=i&&ei(i)?Ni(i):i;let y=d,g=B_(y);for(;g&&i&&f!==y;){const _=Au(g),v=g.getBoundingClientRect(),b=Dr(g),x=v.left+(g.clientLeft+parseFloat(b.paddingLeft))*_.x,P=v.top+(g.clientTop+parseFloat(b.paddingTop))*_.y;l*=_.x,u*=_.y,c*=_.x,h*=_.y,l+=x,u+=P,y=Ni(g),g=B_(y)}}return dg({width:c,height:h,x:l,y:u})}function b9(n){let{elements:e,rect:t,offsetParent:i,strategy:r}=n;const s=r==="fixed",o=ds(i),a=e?zy(e.floating):!1;if(i===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},u=ra(1);const c=ra(0),h=os(i);if((h||!h&&!s)&&((Cc(i)!=="body"||xf(o))&&(l=Hy(i)),os(i))){const d=gl(i);u=Au(i),c.x=d.x+i.clientLeft,c.y=d.y+i.clientTop}return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-l.scrollLeft*u.x+c.x,y:t.y*u.y-l.scrollTop*u.y+c.y}}function _9(n){return Array.from(n.getClientRects())}function U_(n,e){const t=Hy(n).scrollLeft;return e?e.left+t:gl(ds(n)).left+t}function w9(n){const e=ds(n),t=Hy(n),i=n.ownerDocument.body,r=Wn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=Wn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-t.scrollLeft+U_(n);const a=-t.scrollTop;return Dr(i).direction==="rtl"&&(o+=Wn(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:a}}function x9(n,e){const t=Ni(n),i=ds(n),r=t.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;const u=k1();(!u||u&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a,y:l}}function T9(n,e){const t=gl(n,!0,e==="fixed"),i=t.top+n.clientTop,r=t.left+n.clientLeft,s=os(n)?Au(n):ra(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=r*s.x,u=i*s.y;return{width:o,height:a,x:l,y:u}}function lC(n,e,t){let i;if(e==="viewport")i=x9(n,t);else if(e==="document")i=w9(ds(n));else if(ei(e))i=T9(e,t);else{const r=eN(n);i={...e,x:e.x-r.x,y:e.y-r.y}}return dg(i)}function tN(n,e){const t=oa(n);return t===e||!ei(t)||nc(t)?!1:Dr(t).position==="fixed"||tN(t,e)}function E9(n,e){const t=e.get(n);if(t)return t;let i=Td(n,[],!1).filter(a=>ei(a)&&Cc(a)!=="body"),r=null;const s=Dr(n).position==="fixed";let o=s?oa(n):n;for(;ei(o)&&!nc(o);){const a=Dr(o),l=A1(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||xf(o)&&!l&&tN(n,o))?i=i.filter(c=>c!==o):r=a,o=oa(o)}return e.set(n,i),i}function P9(n){let{element:e,boundary:t,rootBoundary:i,strategy:r}=n;const o=[...t==="clippingAncestors"?zy(e)?[]:E9(e,this._c):[].concat(t),i],a=o[0],l=o.reduce((u,c)=>{const h=lC(e,c,r);return u.top=Wn(h.top,u.top),u.right=Us(h.right,u.right),u.bottom=Us(h.bottom,u.bottom),u.left=Wn(h.left,u.left),u},lC(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function S9(n){const{width:e,height:t}=JM(n);return{width:e,height:t}}function C9(n,e,t){const i=os(e),r=ds(e),s=t==="fixed",o=gl(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=ra(0);if(i||!i&&!s)if((Cc(e)!=="body"||xf(r))&&(a=Hy(e)),i){const f=gl(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else r&&(l.x=U_(r));let u=0,c=0;if(r&&!i&&!s){const f=r.getBoundingClientRect();c=f.top+a.scrollTop,u=f.left+a.scrollLeft-U_(r,f)}const h=o.left+a.scrollLeft-l.x-u,d=o.top+a.scrollTop-l.y-c;return{x:h,y:d,width:o.width,height:o.height}}function N0(n){return Dr(n).position==="static"}function uC(n,e){if(!os(n)||Dr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return ds(n)===t&&(t=t.ownerDocument.body),t}function nN(n,e){const t=Ni(n);if(zy(n))return t;if(!os(n)){let r=oa(n);for(;r&&!nc(r);){if(ei(r)&&!N0(r))return r;r=oa(r)}return t}let i=uC(n,e);for(;i&&m9(i)&&N0(i);)i=uC(i,e);return i&&nc(i)&&N0(i)&&!A1(i)?t:i||g9(n)||t}const A9=async function(n){const e=this.getOffsetParent||nN,t=this.getDimensions,i=await t(n.floating);return{reference:C9(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function k9(n){return Dr(n).direction==="rtl"}const I9={convertOffsetParentRelativeRectToViewportRelativeRect:b9,getDocumentElement:ds,getClippingRect:P9,getOffsetParent:nN,getElementRects:A9,getClientRects:_9,getDimensions:S9,getScale:Au,isElement:ei,isRTL:k9};function D9(n,e){let t=null,i;const r=ds(n);function s(){var a;clearTimeout(i),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:c,width:h,height:d}=n.getBoundingClientRect();if(a||e(),!h||!d)return;const f=kp(c),y=kp(r.clientWidth-(u+h)),g=kp(r.clientHeight-(c+d)),_=kp(u),b={rootMargin:-f+"px "+-y+"px "+-g+"px "+-_+"px",threshold:Wn(0,Us(1,l))||1};let x=!0;function P(k){const M=k[0].intersectionRatio;if(M!==l){if(!x)return o();M?o(!1,M):i=setTimeout(()=>{o(!1,1e-7)},1e3)}x=!1}try{t=new IntersectionObserver(P,{...b,root:r.ownerDocument})}catch{t=new IntersectionObserver(P,b)}t.observe(n)}return o(!0),s}function iN(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,u=I1(n),c=r||s?[...u?Td(u):[],...Td(e)]:[];c.forEach(v=>{r&&v.addEventListener("scroll",t,{passive:!0}),s&&v.addEventListener("resize",t)});const h=u&&a?D9(u,t):null;let d=-1,f=null;o&&(f=new ResizeObserver(v=>{let[b]=v;b&&b.target===u&&f&&(f.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var x;(x=f)==null||x.observe(e)})),t()}),u&&!l&&f.observe(u),f.observe(e));let y,g=l?gl(n):null;l&&_();function _(){const v=gl(n);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&t(),g=v,y=requestAnimationFrame(_)}return t(),()=>{var v;c.forEach(b=>{r&&b.removeEventListener("scroll",t),s&&b.removeEventListener("resize",t)}),h==null||h(),(v=f)==null||v.disconnect(),f=null,l&&cancelAnimationFrame(y)}}const O0=tc,R9=h9,M9=d9,N9=l9,O9=p9,j9=u9,cC=a9,L9=f9,F9=(n,e,t)=>{const i=new Map,r={platform:I9,...t},s={...r.platform,_c:i};return o9(n,e,{...r,platform:s})};var bm=typeof document<"u"?w.useLayoutEffect:w.useEffect;function fg(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!fg(n[i],e[i]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=t;i--!==0;){const s=r[i];if(!(s==="_owner"&&n.$$typeof)&&!fg(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function rN(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function hC(n,e){const t=rN(n);return Math.round(e*t)/t}function j0(n){const e=w.useRef(n);return bm(()=>{e.current=n}),e}function sN(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=n,[c,h]=w.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[d,f]=w.useState(i);fg(d,i)||f(i);const[y,g]=w.useState(null),[_,v]=w.useState(null),b=w.useCallback(F=>{F!==M.current&&(M.current=F,g(F))},[]),x=w.useCallback(F=>{F!==A.current&&(A.current=F,v(F))},[]),P=s||y,k=o||_,M=w.useRef(null),A=w.useRef(null),T=w.useRef(c),E=l!=null,C=j0(l),D=j0(r),N=j0(u),R=w.useCallback(()=>{if(!M.current||!A.current)return;const F={placement:e,strategy:t,middleware:d};D.current&&(F.platform=D.current),F9(M.current,A.current,F).then(j=>{const L={...j,isPositioned:N.current!==!1};V.current&&!fg(T.current,L)&&(T.current=L,Bs.flushSync(()=>{h(L)}))})},[d,e,t,D,N]);bm(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[u]);const V=w.useRef(!1);bm(()=>(V.current=!0,()=>{V.current=!1}),[]),bm(()=>{if(P&&(M.current=P),k&&(A.current=k),P&&k){if(C.current)return C.current(P,k,R);R()}},[P,k,R,C,E]);const q=w.useMemo(()=>({reference:M,floating:A,setReference:b,setFloating:x}),[b,x]),ee=w.useMemo(()=>({reference:P,floating:k}),[P,k]),H=w.useMemo(()=>{const F={position:t,left:0,top:0};if(!ee.floating)return F;const j=hC(ee.floating,c.x),L=hC(ee.floating,c.y);return a?{...F,transform:"translate("+j+"px, "+L+"px)",...rN(ee.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:j,top:L}},[t,a,ee.floating,c.x,c.y]);return w.useMemo(()=>({...c,update:R,refs:q,elements:ee,floatingStyles:H}),[c,R,q,ee,H])}const V9=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:r}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?cC({element:i.current,padding:r}).fn(t):{}:i?cC({element:i,padding:r}).fn(t):{}}}},D1=(n,e)=>({...R9(n),options:[n,e]}),oN=(n,e)=>({...M9(n),options:[n,e]}),B9=(n,e)=>({...L9(n),options:[n,e]}),aN=(n,e)=>({...N9(n),options:[n,e]}),lN=(n,e)=>({...O9(n),options:[n,e]}),U9=(n,e)=>({...j9(n),options:[n,e]}),$9=(n,e)=>({...V9(n),options:[n,e]});var z9="Arrow",uN=w.forwardRef((n,e)=>{const{children:t,width:i=10,height:r=5,...s}=n;return p.jsx(mt.svg,{...s,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});uN.displayName=z9;var H9=uN;function W9(n,e=[]){let t=[];function i(s,o){const a=w.createContext(o),l=t.length;t=[...t,o];function u(h){const{scope:d,children:f,...y}=h,g=(d==null?void 0:d[n][l])||a,_=w.useMemo(()=>y,Object.values(y));return p.jsx(g.Provider,{value:_,children:f})}function c(h,d){const f=(d==null?void 0:d[n][l])||a,y=w.useContext(f);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,c]}const r=()=>{const s=t.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return w.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return r.scopeName=n,[i,G9(r,...e)]}function G9(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function Y9(n){const[e,t]=w.useState(void 0);return ia(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var R1="Popper",[cN,Wy]=W9(R1),[X9,hN]=cN(R1),dN=n=>{const{__scopePopper:e,children:t}=n,[i,r]=w.useState(null);return p.jsx(X9,{scope:e,anchor:i,onAnchorChange:r,children:t})};dN.displayName=R1;var fN="PopperAnchor",pN=w.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...r}=n,s=hN(fN,t),o=w.useRef(null),a=_n(e,o);return w.useEffect(()=>{s.onAnchorChange((i==null?void 0:i.current)||o.current)}),i?null:p.jsx(mt.div,{...r,ref:a})});pN.displayName=fN;var M1="PopperContent",[K9,q9]=cN(M1),mN=w.forwardRef((n,e)=>{var le,X,ce,me,fe,Pe;const{__scopePopper:t,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:c=0,sticky:h="partial",hideWhenDetached:d=!1,updatePositionStrategy:f="optimized",onPlaced:y,...g}=n,_=hN(M1,t),[v,b]=w.useState(null),x=_n(e,xe=>b(xe)),[P,k]=w.useState(null),M=Y9(P),A=(M==null?void 0:M.width)??0,T=(M==null?void 0:M.height)??0,E=i+(s!=="center"?"-"+s:""),C=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},D=Array.isArray(u)?u:[u],N=D.length>0,R={padding:C,boundary:D.filter(Z9),altBoundary:N},{refs:V,floatingStyles:q,placement:ee,isPositioned:H,middlewareData:F}=sN({strategy:"fixed",placement:E,whileElementsMounted:(...xe)=>iN(...xe,{animationFrame:f==="always"}),elements:{reference:_.anchor},middleware:[D1({mainAxis:r+T,alignmentAxis:o}),l&&oN({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?B9():void 0,...R}),l&&aN({...R}),lN({...R,apply:({elements:xe,rects:ge,availableWidth:De,availableHeight:Ee})=>{const{width:Ve,height:Te}=ge.reference,Se=xe.floating.style;Se.setProperty("--radix-popper-available-width",`${De}px`),Se.setProperty("--radix-popper-available-height",`${Ee}px`),Se.setProperty("--radix-popper-anchor-width",`${Ve}px`),Se.setProperty("--radix-popper-anchor-height",`${Te}px`)}}),P&&$9({element:P,padding:a}),J9({arrowWidth:A,arrowHeight:T}),d&&U9({strategy:"referenceHidden",...R})]}),[j,L]=vN(ee),B=ri(y);ia(()=>{H&&(B==null||B())},[H,B]);const z=(le=F.arrow)==null?void 0:le.x,$=(X=F.arrow)==null?void 0:X.y,oe=((ce=F.arrow)==null?void 0:ce.centerOffset)!==0,[K,ne]=w.useState();return ia(()=>{v&&ne(window.getComputedStyle(v).zIndex)},[v]),p.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:H?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(me=F.transformOrigin)==null?void 0:me.x,(fe=F.transformOrigin)==null?void 0:fe.y].join(" "),...((Pe=F.hide)==null?void 0:Pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:p.jsx(K9,{scope:t,placedSide:j,onArrowChange:k,arrowX:z,arrowY:$,shouldHideArrow:oe,children:p.jsx(mt.div,{"data-side":j,"data-align":L,...g,ref:x,style:{...g.style,animation:H?void 0:"none"}})})})});mN.displayName=M1;var gN="PopperArrow",Q9={top:"bottom",right:"left",bottom:"top",left:"right"},yN=w.forwardRef(function(e,t){const{__scopePopper:i,...r}=e,s=q9(gN,i),o=Q9[s.placedSide];return p.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:p.jsx(H9,{...r,ref:t,style:{...r.style,display:"block"}})})});yN.displayName=gN;function Z9(n){return n!==null}var J9=n=>({name:"transformOrigin",options:n,fn(e){var _,v,b;const{placement:t,rects:i,middlewareData:r}=e,o=((_=r.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[u,c]=vN(t),h={start:"0%",center:"50%",end:"100%"}[c],d=(((v=r.arrow)==null?void 0:v.x)??0)+a/2,f=(((b=r.arrow)==null?void 0:b.y)??0)+l/2;let y="",g="";return u==="bottom"?(y=o?h:`${d}px`,g=`${-l}px`):u==="top"?(y=o?h:`${d}px`,g=`${i.floating.height+l}px`):u==="right"?(y=`${-l}px`,g=o?h:`${f}px`):u==="left"&&(y=`${i.floating.width+l}px`,g=o?h:`${f}px`),{data:{x:y,y:g}}}});function vN(n){const[e,t="center"]=n.split("-");return[e,t]}var eH=dN,bN=pN,_N=mN,wN=yN,[Gy,lde]=wf("Tooltip",[Wy]),N1=Wy(),xN="TooltipProvider",tH=700,dC="tooltip.open",[nH,TN]=Gy(xN),EN=n=>{const{__scopeTooltip:e,delayDuration:t=tH,skipDelayDuration:i=300,disableHoverableContent:r=!1,children:s}=n,[o,a]=w.useState(!0),l=w.useRef(!1),u=w.useRef(0);return w.useEffect(()=>{const c=u.current;return()=>window.clearTimeout(c)},[]),p.jsx(nH,{scope:e,isOpenDelayed:o,delayDuration:t,onOpen:w.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:w.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),i)},[i]),isPointerInTransitRef:l,onPointerInTransitChange:w.useCallback(c=>{l.current=c},[]),disableHoverableContent:r,children:s})};EN.displayName=xN;var PN="Tooltip",[ude,Yy]=Gy(PN),$_="TooltipTrigger",iH=w.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=Yy($_,t),s=TN($_,t),o=N1(t),a=w.useRef(null),l=_n(e,a,r.onTriggerChange),u=w.useRef(!1),c=w.useRef(!1),h=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),p.jsx(bN,{asChild:!0,...o,children:p.jsx(mt.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...i,ref:l,onPointerMove:Ae(n.onPointerMove,d=>{d.pointerType!=="touch"&&!c.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),c.current=!0)}),onPointerLeave:Ae(n.onPointerLeave,()=>{r.onTriggerLeave(),c.current=!1}),onPointerDown:Ae(n.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ae(n.onFocus,()=>{u.current||r.onOpen()}),onBlur:Ae(n.onBlur,r.onClose),onClick:Ae(n.onClick,r.onClose)})})});iH.displayName=$_;var rH="TooltipPortal",[cde,sH]=Gy(rH,{forceMount:void 0}),ic="TooltipContent",SN=w.forwardRef((n,e)=>{const t=sH(ic,n.__scopeTooltip),{forceMount:i=t.forceMount,side:r="top",...s}=n,o=Yy(ic,n.__scopeTooltip);return p.jsx(xa,{present:i||o.open,children:o.disableHoverableContent?p.jsx(CN,{side:r,...s,ref:e}):p.jsx(oH,{side:r,...s,ref:e})})}),oH=w.forwardRef((n,e)=>{const t=Yy(ic,n.__scopeTooltip),i=TN(ic,n.__scopeTooltip),r=w.useRef(null),s=_n(e,r),[o,a]=w.useState(null),{trigger:l,onClose:u}=t,c=r.current,{onPointerInTransitChange:h}=i,d=w.useCallback(()=>{a(null),h(!1)},[h]),f=w.useCallback((y,g)=>{const _=y.currentTarget,v={x:y.clientX,y:y.clientY},b=cH(v,_.getBoundingClientRect()),x=hH(v,b),P=dH(g.getBoundingClientRect()),k=pH([...x,...P]);a(k),h(!0)},[h]);return w.useEffect(()=>()=>d(),[d]),w.useEffect(()=>{if(l&&c){const y=_=>f(_,c),g=_=>f(_,l);return l.addEventListener("pointerleave",y),c.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",y),c.removeEventListener("pointerleave",g)}}},[l,c,f,d]),w.useEffect(()=>{if(o){const y=g=>{const _=g.target,v={x:g.clientX,y:g.clientY},b=(l==null?void 0:l.contains(_))||(c==null?void 0:c.contains(_)),x=!fH(v,o);b?d():x&&(d(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,c,o,u,d]),p.jsx(CN,{...n,ref:s})}),[aH,lH]=Gy(PN,{isInside:!1}),CN=w.forwardRef((n,e)=>{const{__scopeTooltip:t,children:i,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,l=Yy(ic,t),u=N1(t),{onClose:c}=l;return w.useEffect(()=>(document.addEventListener(dC,c),()=>document.removeEventListener(dC,c)),[c]),w.useEffect(()=>{if(l.trigger){const h=d=>{const f=d.target;f!=null&&f.contains(l.trigger)&&c()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,c]),p.jsx(Ly,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:c,children:p.jsxs(_N,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(hM,{children:i}),p.jsx(aH,{scope:t,isInside:!0,children:p.jsx(R$,{id:l.contentId,role:"tooltip",children:r||i})})]})})});SN.displayName=ic;var AN="TooltipArrow",uH=w.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,r=N1(t);return lH(AN,t).isInside?null:p.jsx(wN,{...r,...i,ref:e})});uH.displayName=AN;function cH(n,e){const t=Math.abs(e.top-n.y),i=Math.abs(e.bottom-n.y),r=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,i,r,s)){case s:return"left";case r:return"right";case t:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function hH(n,e,t=5){const i=[];switch(e){case"top":i.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":i.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":i.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":i.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return i}function dH(n){const{top:e,right:t,bottom:i,left:r}=n;return[{x:r,y:e},{x:t,y:e},{x:t,y:i},{x:r,y:i}]}function fH(n,e){const{x:t,y:i}=n;let r=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,u=e[o].x,c=e[o].y;l>i!=c>i&&t<(u-a)*(i-l)/(c-l)+a&&(r=!r)}return r}function pH(n){const e=n.slice();return e.sort((t,i)=>t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0),mH(e)}function mH(n){if(n.length<=1)return n.slice();const e=[];for(let i=0;i<n.length;i++){const r=n[i];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const t=[];for(let i=n.length-1;i>=0;i--){const r=n[i];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var gH=EN,kN=SN;const yH=gH,vH=w.forwardRef(({className:n,sideOffset:e=4,...t},i)=>p.jsx(kN,{ref:i,sideOffset:e,className:lt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));vH.displayName=kN.displayName;var Xy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ky=typeof window>"u"||"Deno"in globalThis;function pr(){}function bH(n,e){return typeof n=="function"?n(e):n}function _H(n){return typeof n=="number"&&n>=0&&n!==1/0}function wH(n,e){return Math.max(n+(e||0)-Date.now(),0)}function fC(n,e){return typeof n=="function"?n(e):n}function xH(n,e){return typeof n=="function"?n(e):n}function pC(n,e){const{type:t="all",exact:i,fetchStatus:r,predicate:s,queryKey:o,stale:a}=n;if(o){if(i){if(e.queryHash!==O1(o,e.options))return!1}else if(!Pd(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||r&&r!==e.state.fetchStatus||s&&!s(e))}function mC(n,e){const{exact:t,status:i,predicate:r,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if(Ed(e.options.mutationKey)!==Ed(s))return!1}else if(!Pd(e.options.mutationKey,s))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function O1(n,e){return((e==null?void 0:e.queryKeyHashFn)||Ed)(n)}function Ed(n){return JSON.stringify(n,(e,t)=>z_(t)?Object.keys(t).sort().reduce((i,r)=>(i[r]=t[r],i),{}):t)}function Pd(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!Pd(n[t],e[t])):!1}function IN(n,e){if(n===e)return n;const t=gC(n)&&gC(e);if(t||z_(n)&&z_(e)){const i=t?n:Object.keys(n),r=i.length,s=t?e:Object.keys(e),o=s.length,a=t?[]:{};let l=0;for(let u=0;u<o;u++){const c=t?u:s[u];(!t&&i.includes(c)||t)&&n[c]===void 0&&e[c]===void 0?(a[c]=void 0,l++):(a[c]=IN(n[c],e[c]),a[c]===n[c]&&n[c]!==void 0&&l++)}return r===o&&l===r?n:a}return e}function gC(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function z_(n){if(!yC(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!yC(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function yC(n){return Object.prototype.toString.call(n)==="[object Object]"}function TH(n){return new Promise(e=>{setTimeout(e,n)})}function EH(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?IN(n,e):e}function PH(n,e,t=0){const i=[...n,e];return t&&i.length>t?i.slice(1):i}function SH(n,e,t=0){const i=[e,...n];return t&&i.length>t?i.slice(0,-1):i}var j1=Symbol();function DN(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===j1?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Ja,Ao,Fu,$D,CH=($D=class extends Xy{constructor(){super();st(this,Ja);st(this,Ao);st(this,Fu);He(this,Fu,e=>{if(!Ky&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){se(this,Ao)||this.setEventListener(se(this,Fu))}onUnsubscribe(){var e;this.hasListeners()||((e=se(this,Ao))==null||e.call(this),He(this,Ao,void 0))}setEventListener(e){var t;He(this,Fu,e),(t=se(this,Ao))==null||t.call(this),He(this,Ao,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){se(this,Ja)!==e&&(He(this,Ja,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof se(this,Ja)=="boolean"?se(this,Ja):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ja=new WeakMap,Ao=new WeakMap,Fu=new WeakMap,$D),RN=new CH,Vu,ko,Bu,zD,AH=(zD=class extends Xy{constructor(){super();st(this,Vu,!0);st(this,ko);st(this,Bu);He(this,Bu,e=>{if(!Ky&&window.addEventListener){const t=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",i)}}})}onSubscribe(){se(this,ko)||this.setEventListener(se(this,Bu))}onUnsubscribe(){var e;this.hasListeners()||((e=se(this,ko))==null||e.call(this),He(this,ko,void 0))}setEventListener(e){var t;He(this,Bu,e),(t=se(this,ko))==null||t.call(this),He(this,ko,e(this.setOnline.bind(this)))}setOnline(e){se(this,Vu)!==e&&(He(this,Vu,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return se(this,Vu)}},Vu=new WeakMap,ko=new WeakMap,Bu=new WeakMap,zD),pg=new AH;function kH(){let n,e;const t=new Promise((r,s)=>{n=r,e=s});t.status="pending",t.catch(()=>{});function i(r){Object.assign(t,r),delete t.resolve,delete t.reject}return t.resolve=r=>{i({status:"fulfilled",value:r}),n(r)},t.reject=r=>{i({status:"rejected",reason:r}),e(r)},t}function IH(n){return Math.min(1e3*2**n,3e4)}function MN(n){return(n??"online")==="online"?pg.isOnline():!0}var NN=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function L0(n){return n instanceof NN}function ON(n){let e=!1,t=0,i=!1,r;const s=kH(),o=g=>{var _;i||(d(new NN(g)),(_=n.abort)==null||_.call(n))},a=()=>{e=!0},l=()=>{e=!1},u=()=>RN.isFocused()&&(n.networkMode==="always"||pg.isOnline())&&n.canRun(),c=()=>MN(n.networkMode)&&n.canRun(),h=g=>{var _;i||(i=!0,(_=n.onSuccess)==null||_.call(n,g),r==null||r(),s.resolve(g))},d=g=>{var _;i||(i=!0,(_=n.onError)==null||_.call(n,g),r==null||r(),s.reject(g))},f=()=>new Promise(g=>{var _;r=v=>{(i||u())&&g(v)},(_=n.onPause)==null||_.call(n)}).then(()=>{var g;r=void 0,i||(g=n.onContinue)==null||g.call(n)}),y=()=>{if(i)return;let g;const _=t===0?n.initialPromise:void 0;try{g=_??n.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(h).catch(v=>{var M;if(i)return;const b=n.retry??(Ky?0:3),x=n.retryDelay??IH,P=typeof x=="function"?x(t,v):x,k=b===!0||typeof b=="number"&&t<b||typeof b=="function"&&b(t,v);if(e||!k){d(v);return}t++,(M=n.onFail)==null||M.call(n,t,v),TH(P).then(()=>u()?void 0:f()).then(()=>{e?d(v):y()})})};return{promise:s,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?y():f().then(y),s)}}function DH(){let n=[],e=0,t=a=>{a()},i=a=>{a()},r=a=>setTimeout(a,0);const s=a=>{e?n.push(a):r(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&r(()=>{i(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{i=a},setScheduler:a=>{r=a}}}var Jn=DH(),el,HD,jN=(HD=class{constructor(){st(this,el)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_H(this.gcTime)&&He(this,el,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Ky?1/0:5*60*1e3))}clearGcTimeout(){se(this,el)&&(clearTimeout(se(this,el)),He(this,el,void 0))}},el=new WeakMap,HD),Uu,$u,Hi,Un,pf,tl,mr,xs,WD,RH=(WD=class extends jN{constructor(t){super();st(this,mr);st(this,Uu);st(this,$u);st(this,Hi);st(this,Un);st(this,pf);st(this,tl);He(this,tl,!1),He(this,pf,t.defaultOptions),this.setOptions(t.options),this.observers=[],He(this,Hi,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,He(this,Uu,NH(this.options)),this.state=t.state??se(this,Uu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=se(this,Un))==null?void 0:t.promise}setOptions(t){this.options={...se(this,pf),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&se(this,Hi).remove(this)}setData(t,i){const r=EH(this.state.data,t,this.options);return Ln(this,mr,xs).call(this,{data:r,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt,manual:i==null?void 0:i.manual}),r}setState(t,i){Ln(this,mr,xs).call(this,{type:"setState",state:t,setStateOptions:i})}cancel(t){var r,s;const i=(r=se(this,Un))==null?void 0:r.promise;return(s=se(this,Un))==null||s.cancel(t),i?i.then(pr).catch(pr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(se(this,Uu))}isActive(){return this.observers.some(t=>xH(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===j1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!wH(this.state.dataUpdatedAt,t)}onFocus(){var i;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(i=se(this,Un))==null||i.continue()}onOnline(){var i;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(i=se(this,Un))==null||i.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),se(this,Hi).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(i=>i!==t),this.observers.length||(se(this,Un)&&(se(this,tl)?se(this,Un).cancel({revert:!0}):se(this,Un).cancelRetry()),this.scheduleGc()),se(this,Hi).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ln(this,mr,xs).call(this,{type:"invalidate"})}fetch(t,i){var u,c,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(se(this,Un))return se(this,Un).continueRetry(),se(this,Un).promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(He(this,tl,!0),r.signal)})},o=()=>{const d=DN(this.options,i),f={queryKey:this.queryKey,meta:this.meta};return s(f),He(this,tl,!1),this.options.persister?this.options.persister(d,f,this):d(f)},a={fetchOptions:i,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(u=this.options.behavior)==null||u.onFetch(a,this),He(this,$u,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&Ln(this,mr,xs).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=d=>{var f,y,g,_;L0(d)&&d.silent||Ln(this,mr,xs).call(this,{type:"error",error:d}),L0(d)||((y=(f=se(this,Hi).config).onError)==null||y.call(f,d,this),(_=(g=se(this,Hi).config).onSettled)==null||_.call(g,this.state.data,d,this)),this.scheduleGc()};return He(this,Un,ON({initialPromise:i==null?void 0:i.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var f,y,g,_;if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(v){l(v);return}(y=(f=se(this,Hi).config).onSuccess)==null||y.call(f,d,this),(_=(g=se(this,Hi).config).onSettled)==null||_.call(g,d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,f)=>{Ln(this,mr,xs).call(this,{type:"failed",failureCount:d,error:f})},onPause:()=>{Ln(this,mr,xs).call(this,{type:"pause"})},onContinue:()=>{Ln(this,mr,xs).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),se(this,Un).start()}},Uu=new WeakMap,$u=new WeakMap,Hi=new WeakMap,Un=new WeakMap,pf=new WeakMap,tl=new WeakMap,mr=new WeakSet,xs=function(t){const i=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...MH(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return L0(s)&&s.revert&&se(this,$u)?{...se(this,$u),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=i(this.state),Jn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),se(this,Hi).notify({query:this,type:"updated",action:t})})},WD);function MH(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:MN(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function NH(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,i=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Ur,GD,OH=(GD=class extends Xy{constructor(e={}){super();st(this,Ur);this.config=e,He(this,Ur,new Map)}build(e,t,i){const r=t.queryKey,s=t.queryHash??O1(r,t);let o=this.get(s);return o||(o=new RH({cache:this,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:i,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){se(this,Ur).has(e.queryHash)||(se(this,Ur).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=se(this,Ur).get(e.queryHash);t&&(e.destroy(),t===e&&se(this,Ur).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Jn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return se(this,Ur).get(e)}getAll(){return[...se(this,Ur).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(i=>pC(t,i))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(i=>pC(e,i)):t}notify(e){Jn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Jn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Jn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ur=new WeakMap,GD),$r,Qn,nl,zr,fo,YD,jH=(YD=class extends jN{constructor(t){super();st(this,zr);st(this,$r);st(this,Qn);st(this,nl);this.mutationId=t.mutationId,He(this,Qn,t.mutationCache),He(this,$r,[]),this.state=t.state||LH(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){se(this,$r).includes(t)||(se(this,$r).push(t),this.clearGcTimeout(),se(this,Qn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){He(this,$r,se(this,$r).filter(i=>i!==t)),this.scheduleGc(),se(this,Qn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){se(this,$r).length||(this.state.status==="pending"?this.scheduleGc():se(this,Qn).remove(this))}continue(){var t;return((t=se(this,nl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,a,l,u,c,h,d,f,y,g,_,v,b,x,P,k,M,A,T;He(this,nl,ON({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,C)=>{Ln(this,zr,fo).call(this,{type:"failed",failureCount:E,error:C})},onPause:()=>{Ln(this,zr,fo).call(this,{type:"pause"})},onContinue:()=>{Ln(this,zr,fo).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>se(this,Qn).canRun(this)}));const i=this.state.status==="pending",r=!se(this,nl).canStart();try{if(!i){Ln(this,zr,fo).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(s=se(this,Qn).config).onMutate)==null?void 0:o.call(s,t,this));const C=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));C!==this.state.context&&Ln(this,zr,fo).call(this,{type:"pending",context:C,variables:t,isPaused:r})}const E=await se(this,nl).start();return await((c=(u=se(this,Qn).config).onSuccess)==null?void 0:c.call(u,E,t,this.state.context,this)),await((d=(h=this.options).onSuccess)==null?void 0:d.call(h,E,t,this.state.context)),await((y=(f=se(this,Qn).config).onSettled)==null?void 0:y.call(f,E,null,this.state.variables,this.state.context,this)),await((_=(g=this.options).onSettled)==null?void 0:_.call(g,E,null,t,this.state.context)),Ln(this,zr,fo).call(this,{type:"success",data:E}),E}catch(E){try{throw await((b=(v=se(this,Qn).config).onError)==null?void 0:b.call(v,E,t,this.state.context,this)),await((P=(x=this.options).onError)==null?void 0:P.call(x,E,t,this.state.context)),await((M=(k=se(this,Qn).config).onSettled)==null?void 0:M.call(k,void 0,E,this.state.variables,this.state.context,this)),await((T=(A=this.options).onSettled)==null?void 0:T.call(A,void 0,E,t,this.state.context)),E}finally{Ln(this,zr,fo).call(this,{type:"error",error:E})}}finally{se(this,Qn).runNext(this)}}},$r=new WeakMap,Qn=new WeakMap,nl=new WeakMap,zr=new WeakSet,fo=function(t){const i=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=i(this.state),Jn.batch(()=>{se(this,$r).forEach(r=>{r.onMutationUpdate(t)}),se(this,Qn).notify({mutation:this,type:"updated",action:t})})},YD);function LH(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ai,mf,XD,FH=(XD=class extends Xy{constructor(e={}){super();st(this,Ai);st(this,mf);this.config=e,He(this,Ai,new Map),He(this,mf,Date.now())}build(e,t,i){const r=new jH({mutationCache:this,mutationId:++lp(this,mf)._,options:e.defaultMutationOptions(t),state:i});return this.add(r),r}add(e){const t=Ip(e),i=se(this,Ai).get(t)??[];i.push(e),se(this,Ai).set(t,i),this.notify({type:"added",mutation:e})}remove(e){var i;const t=Ip(e);if(se(this,Ai).has(t)){const r=(i=se(this,Ai).get(t))==null?void 0:i.filter(s=>s!==e);r&&(r.length===0?se(this,Ai).delete(t):se(this,Ai).set(t,r))}this.notify({type:"removed",mutation:e})}canRun(e){var i;const t=(i=se(this,Ai).get(Ip(e)))==null?void 0:i.find(r=>r.state.status==="pending");return!t||t===e}runNext(e){var i;const t=(i=se(this,Ai).get(Ip(e)))==null?void 0:i.find(r=>r!==e&&r.state.isPaused);return(t==null?void 0:t.continue())??Promise.resolve()}clear(){Jn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...se(this,Ai).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(i=>mC(t,i))}findAll(e={}){return this.getAll().filter(t=>mC(e,t))}notify(e){Jn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Jn.batch(()=>Promise.all(e.map(t=>t.continue().catch(pr))))}},Ai=new WeakMap,mf=new WeakMap,XD);function Ip(n){var e;return((e=n.options.scope)==null?void 0:e.id)??String(n.mutationId)}function vC(n){return{onFetch:(e,t)=>{var c,h,d,f,y;const i=e.options,r=(d=(h=(c=e.fetchOptions)==null?void 0:c.meta)==null?void 0:h.fetchMore)==null?void 0:d.direction,s=((f=e.state.data)==null?void 0:f.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let g=!1;const _=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},v=DN(e.options,e.fetchOptions),b=async(x,P,k)=>{if(g)return Promise.reject();if(P==null&&x.pages.length)return Promise.resolve(x);const M={queryKey:e.queryKey,pageParam:P,direction:k?"backward":"forward",meta:e.options.meta};_(M);const A=await v(M),{maxPages:T}=e.options,E=k?SH:PH;return{pages:E(x.pages,A,T),pageParams:E(x.pageParams,P,T)}};if(r&&s.length){const x=r==="backward",P=x?VH:bC,k={pages:s,pageParams:o},M=P(i,k);a=await b(k,M,x)}else{const x=n??s.length;do{const P=l===0?o[0]??i.initialPageParam:bC(i,a);if(l>0&&P==null)break;a=await b(a,P),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var g,_;return(_=(g=e.options).persister)==null?void 0:_.call(g,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=u}}}function bC(n,{pages:e,pageParams:t}){const i=e.length-1;return e.length>0?n.getNextPageParam(e[i],e,t[i],t):void 0}function VH(n,{pages:e,pageParams:t}){var i;return e.length>0?(i=n.getPreviousPageParam)==null?void 0:i.call(n,e[0],e,t[0],t):void 0}var Ot,Io,Do,zu,Hu,Ro,Wu,Gu,KD,LN=(KD=class{constructor(n={}){st(this,Ot);st(this,Io);st(this,Do);st(this,zu);st(this,Hu);st(this,Ro);st(this,Wu);st(this,Gu);He(this,Ot,n.queryCache||new OH),He(this,Io,n.mutationCache||new FH),He(this,Do,n.defaultOptions||{}),He(this,zu,new Map),He(this,Hu,new Map),He(this,Ro,0)}mount(){lp(this,Ro)._++,se(this,Ro)===1&&(He(this,Wu,RN.subscribe(async n=>{n&&(await this.resumePausedMutations(),se(this,Ot).onFocus())})),He(this,Gu,pg.subscribe(async n=>{n&&(await this.resumePausedMutations(),se(this,Ot).onOnline())})))}unmount(){var n,e;lp(this,Ro)._--,se(this,Ro)===0&&((n=se(this,Wu))==null||n.call(this),He(this,Wu,void 0),(e=se(this,Gu))==null||e.call(this),He(this,Gu,void 0))}isFetching(n){return se(this,Ot).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return se(this,Io).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=se(this,Ot).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.getQueryData(n.queryKey);if(e===void 0)return this.fetchQuery(n);{const t=this.defaultQueryOptions(n),i=se(this,Ot).build(this,t);return n.revalidateIfStale&&i.isStaleByTime(fC(t.staleTime,i))&&this.prefetchQuery(t),Promise.resolve(e)}}getQueriesData(n){return se(this,Ot).findAll(n).map(({queryKey:e,state:t})=>{const i=t.data;return[e,i]})}setQueryData(n,e,t){const i=this.defaultQueryOptions({queryKey:n}),r=se(this,Ot).get(i.queryHash),s=r==null?void 0:r.state.data,o=bH(e,s);if(o!==void 0)return se(this,Ot).build(this,i).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return Jn.batch(()=>se(this,Ot).findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=se(this,Ot).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=se(this,Ot);Jn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=se(this,Ot),i={type:"active",...n};return Jn.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries(i,e)))}cancelQueries(n={},e={}){const t={revert:!0,...e},i=Jn.batch(()=>se(this,Ot).findAll(n).map(r=>r.cancel(t)));return Promise.all(i).then(pr).catch(pr)}invalidateQueries(n={},e={}){return Jn.batch(()=>{if(se(this,Ot).findAll(n).forEach(i=>{i.invalidate()}),n.refetchType==="none")return Promise.resolve();const t={...n,type:n.refetchType??n.type??"active"};return this.refetchQueries(t,e)})}refetchQueries(n={},e){const t={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},i=Jn.batch(()=>se(this,Ot).findAll(n).filter(r=>!r.isDisabled()).map(r=>{let s=r.fetch(void 0,t);return t.throwOnError||(s=s.catch(pr)),r.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(pr)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=se(this,Ot).build(this,e);return t.isStaleByTime(fC(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(pr).catch(pr)}fetchInfiniteQuery(n){return n.behavior=vC(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(pr).catch(pr)}ensureInfiniteQueryData(n){return n.behavior=vC(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return pg.isOnline()?se(this,Io).resumePausedMutations():Promise.resolve()}getQueryCache(){return se(this,Ot)}getMutationCache(){return se(this,Io)}getDefaultOptions(){return se(this,Do)}setDefaultOptions(n){He(this,Do,n)}setQueryDefaults(n,e){se(this,zu).set(Ed(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...se(this,zu).values()];let t={};return e.forEach(i=>{Pd(n,i.queryKey)&&(t={...t,...i.defaultOptions})}),t}setMutationDefaults(n,e){se(this,Hu).set(Ed(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...se(this,Hu).values()];let t={};return e.forEach(i=>{Pd(n,i.mutationKey)&&(t={...t,...i.defaultOptions})}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...se(this,Do).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=O1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===j1&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...se(this,Do).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){se(this,Ot).clear(),se(this,Io).clear()}},Ot=new WeakMap,Io=new WeakMap,Do=new WeakMap,zu=new WeakMap,Hu=new WeakMap,Ro=new WeakMap,Wu=new WeakMap,Gu=new WeakMap,KD),BH=w.createContext(void 0),UH=({client:n,children:e})=>(w.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),p.jsx(BH.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sd(){return Sd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Sd.apply(this,arguments)}var Oo;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Oo||(Oo={}));const _C="popstate";function $H(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return H_("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:mg(r)}return HH(e,t,null,n)}function It(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function FN(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zH(){return Math.random().toString(36).substr(2,8)}function wC(n,e){return{usr:n.state,key:n.key,idx:e}}function H_(n,e,t,i){return t===void 0&&(t=null),Sd({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Ac(e):e,{state:t,key:e&&e.key||i||zH()})}function mg(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Ac(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function HH(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Oo.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Sd({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Oo.Pop;let _=c(),v=_==null?null:_-u;u=_,l&&l({action:a,location:g.location,delta:v})}function d(_,v){a=Oo.Push;let b=H_(g.location,_,v);u=c()+1;let x=wC(b,u),P=g.createHref(b);try{o.pushState(x,"",P)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;r.location.assign(P)}s&&l&&l({action:a,location:g.location,delta:1})}function f(_,v){a=Oo.Replace;let b=H_(g.location,_,v);u=c();let x=wC(b,u),P=g.createHref(b);o.replaceState(x,"",P),s&&l&&l({action:a,location:g.location,delta:0})}function y(_){let v=r.location.origin!=="null"?r.location.origin:r.location.href,b=typeof _=="string"?_:mg(_);return b=b.replace(/ $/,"%20"),It(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let g={get action(){return a},get location(){return n(r,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(_C,h),l=_,()=>{r.removeEventListener(_C,h),l=null}},createHref(_){return e(r,_)},createURL:y,encodeLocation(_){let v=y(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:f,go(_){return o.go(_)}};return g}var xC;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(xC||(xC={}));function WH(n,e,t){return t===void 0&&(t="/"),GH(n,e,t,!1)}function GH(n,e,t,i){let r=typeof e=="string"?Ac(e):e,s=rc(r.pathname||"/",t);if(s==null)return null;let o=VN(n);YH(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=rW(s);a=nW(o[l],u,i)}return a}function VN(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(It(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let u=Ko([i,l.relativePath]),c=t.concat(l);s.children&&s.children.length>0&&(It(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),VN(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:eW(u,s.index),routesMeta:c})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of BN(s.path))r(s,o,l)}),e}function BN(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=BN(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function YH(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:tW(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const XH=/^:[\w-]+$/,KH=3,qH=2,QH=1,ZH=10,JH=-2,TC=n=>n==="*";function eW(n,e){let t=n.split("/"),i=t.length;return t.some(TC)&&(i+=JH),e&&(i+=qH),t.filter(r=>!TC(r)).reduce((r,s)=>r+(XH.test(s)?KH:s===""?QH:ZH),i)}function tW(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function nW(n,e,t){let{routesMeta:i}=n,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],u=a===i.length-1,c=s==="/"?e:e.slice(s.length)||"/",h=gg({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!h&&u&&t&&!i[i.length-1].route.index&&(h=gg({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:Ko([s,h.pathname]),pathnameBase:lW(Ko([s,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(s=Ko([s,h.pathnameBase]))}return o}function gg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=iW(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((u,c,h)=>{let{paramName:d,isOptional:f}=c;if(d==="*"){let g=a[h]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const y=a[h];return f&&!y?u[d]=void 0:u[d]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:n}}function iW(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),FN(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function rW(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return FN(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function rc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function sW(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Ac(n):n;return{pathname:t?t.startsWith("/")?t:oW(t,e):e,search:uW(i),hash:cW(r)}}function oW(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function F0(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aW(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function L1(n,e){let t=aW(n);return e?t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function F1(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=Ac(n):(r=Sd({},n),It(!r.pathname||!r.pathname.includes("?"),F0("?","pathname","search",r)),It(!r.pathname||!r.pathname.includes("#"),F0("#","pathname","hash",r)),It(!r.search||!r.search.includes("#"),F0("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!i&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;r.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=sW(r,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ko=n=>n.join("/").replace(/\/\/+/g,"/"),lW=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),uW=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,cW=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function hW(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const UN=["post","put","patch","delete"];new Set(UN);const dW=["get",...UN];new Set(dW);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cd(){return Cd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Cd.apply(this,arguments)}const qy=w.createContext(null),$N=w.createContext(null),to=w.createContext(null),Qy=w.createContext(null),fs=w.createContext({outlet:null,matches:[],isDataRoute:!1}),zN=w.createContext(null);function fW(n,e){let{relative:t}=e===void 0?{}:e;kc()||It(!1);let{basename:i,navigator:r}=w.useContext(to),{hash:s,pathname:o,search:a}=Zy(n,{relative:t}),l=o;return i!=="/"&&(l=o==="/"?i:Ko([i,o])),r.createHref({pathname:l,search:a,hash:s})}function kc(){return w.useContext(Qy)!=null}function no(){return kc()||It(!1),w.useContext(Qy).location}function HN(n){w.useContext(to).static||w.useLayoutEffect(n)}function Ta(){let{isDataRoute:n}=w.useContext(fs);return n?kW():pW()}function pW(){kc()||It(!1);let n=w.useContext(qy),{basename:e,future:t,navigator:i}=w.useContext(to),{matches:r}=w.useContext(fs),{pathname:s}=no(),o=JSON.stringify(L1(r,t.v7_relativeSplatPath)),a=w.useRef(!1);return HN(()=>{a.current=!0}),w.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){i.go(u);return}let h=F1(u,JSON.parse(o),s,c.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ko([e,h.pathname])),(c.replace?i.replace:i.push)(h,c.state,c)},[e,i,o,s,n])}const mW=w.createContext(null);function gW(n){let e=w.useContext(fs).outlet;return e&&w.createElement(mW.Provider,{value:n},e)}function yW(){let{matches:n}=w.useContext(fs),e=n[n.length-1];return e?e.params:{}}function Zy(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=w.useContext(to),{matches:r}=w.useContext(fs),{pathname:s}=no(),o=JSON.stringify(L1(r,i.v7_relativeSplatPath));return w.useMemo(()=>F1(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function vW(n,e){return bW(n,e)}function bW(n,e,t,i){kc()||It(!1);let{navigator:r}=w.useContext(to),{matches:s}=w.useContext(fs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=no(),c;if(e){var h;let _=typeof e=="string"?Ac(e):e;l==="/"||(h=_.pathname)!=null&&h.startsWith(l)||It(!1),c=_}else c=u;let d=c.pathname||"/",f=d;if(l!=="/"){let _=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(_.length).join("/")}let y=WH(n,{pathname:f}),g=EW(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Ko([l,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Ko([l,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,t,i);return e&&g?w.createElement(Qy.Provider,{value:{location:Cd({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Oo.Pop}},g):g}function _W(){let n=AW(),e=hW(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:r},t):null,null)}const wW=w.createElement(_W,null);class xW extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?w.createElement(fs.Provider,{value:this.props.routeContext},w.createElement(zN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TW(n){let{routeContext:e,match:t,children:i}=n,r=w.useContext(qy);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(fs.Provider,{value:e},i)}function EW(n,e,t,i){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(r=t)==null?void 0:r.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);c>=0||It(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(t&&i&&i.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:f}=t,y=h.route.loader&&d[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,h,d)=>{let f,y=!1,g=null,_=null;t&&(f=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||wW,l&&(u<0&&d===0?(y=!0,_=null):u===d&&(y=!0,_=h.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,d+1)),b=()=>{let x;return f?x=g:y?x=_:h.route.Component?x=w.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=c,w.createElement(TW,{match:h,routeContext:{outlet:c,matches:v,isDataRoute:t!=null},children:x})};return t&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?w.createElement(xW,{location:t.location,revalidation:t.revalidation,component:g,error:f,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var WN=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(WN||{}),yg=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(yg||{});function PW(n){let e=w.useContext(qy);return e||It(!1),e}function SW(n){let e=w.useContext($N);return e||It(!1),e}function CW(n){let e=w.useContext(fs);return e||It(!1),e}function GN(n){let e=CW(),t=e.matches[e.matches.length-1];return t.route.id||It(!1),t.route.id}function AW(){var n;let e=w.useContext(zN),t=SW(yg.UseRouteError),i=GN(yg.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function kW(){let{router:n}=PW(WN.UseNavigateStable),e=GN(yg.UseNavigateStable),t=w.useRef(!1);return HN(()=>{t.current=!0}),w.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,Cd({fromRouteId:e},s)))},[n,e])}function Hl(n){let{to:e,replace:t,state:i,relative:r}=n;kc()||It(!1);let{future:s,static:o}=w.useContext(to),{matches:a}=w.useContext(fs),{pathname:l}=no(),u=Ta(),c=F1(e,L1(a,s.v7_relativeSplatPath),l,r==="path"),h=JSON.stringify(c);return w.useEffect(()=>u(JSON.parse(h),{replace:t,state:i,relative:r}),[u,h,r,t,i]),null}function IW(n){return gW(n.context)}function Nt(n){It(!1)}function DW(n){let{basename:e="/",children:t=null,location:i,navigationType:r=Oo.Pop,navigator:s,static:o=!1,future:a}=n;kc()&&It(!1);let l=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:s,static:o,future:Cd({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=Ac(i));let{pathname:c="/",search:h="",hash:d="",state:f=null,key:y="default"}=i,g=w.useMemo(()=>{let _=rc(c,l);return _==null?null:{location:{pathname:_,search:h,hash:d,state:f,key:y},navigationType:r}},[l,c,h,d,f,y,r]);return g==null?null:w.createElement(to.Provider,{value:u},w.createElement(Qy.Provider,{children:t,value:g}))}function RW(n){let{children:e,location:t}=n;return vW(W_(e),t)}new Promise(()=>{});function W_(n,e){e===void 0&&(e=[]);let t=[];return w.Children.forEach(n,(i,r)=>{if(!w.isValidElement(i))return;let s=[...e,r];if(i.type===w.Fragment){t.push.apply(t,W_(i.props.children,s));return}i.type!==Nt&&It(!1),!i.props.index||!i.props.children||It(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=W_(i.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vg(){return vg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},vg.apply(this,arguments)}function YN(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function MW(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function NW(n,e){return n.button===0&&(!e||e==="_self")&&!MW(n)}function G_(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let i=n[t];return e.concat(Array.isArray(i)?i.map(r=>[t,r]):[[t,i]])},[]))}function OW(n,e){let t=G_(n);return e&&e.forEach((i,r)=>{t.has(r)||e.getAll(r).forEach(s=>{t.append(r,s)})}),t}const jW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],LW=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],FW="6";try{window.__reactRouterVersion=FW}catch{}const VW=w.createContext({isTransitioning:!1}),BW="startTransition",EC=rd[BW];function UW(n){let{basename:e,children:t,future:i,window:r}=n,s=w.useRef();s.current==null&&(s.current=$H({window:r,v5Compat:!0}));let o=s.current,[a,l]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=i||{},c=w.useCallback(h=>{u&&EC?EC(()=>l(h)):l(h)},[l,u]);return w.useLayoutEffect(()=>o.listen(c),[o,c]),w.createElement(DW,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:i})}const $W=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HW=w.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:h}=e,d=YN(e,jW),{basename:f}=w.useContext(to),y,g=!1;if(typeof u=="string"&&zW.test(u)&&(y=u,$W))try{let x=new URL(window.location.href),P=u.startsWith("//")?new URL(x.protocol+u):new URL(u),k=rc(P.pathname,f);P.origin===x.origin&&k!=null?u=k+P.search+P.hash:g=!0}catch{}let _=fW(u,{relative:r}),v=GW(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:r,viewTransition:h});function b(x){i&&i(x),x.defaultPrevented||v(x)}return w.createElement("a",vg({},d,{href:y||_,onClick:g||s?i:b,ref:t,target:l}))}),Di=w.forwardRef(function(e,t){let{"aria-current":i="page",caseSensitive:r=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:u,children:c}=e,h=YN(e,LW),d=Zy(l,{relative:h.relative}),f=no(),y=w.useContext($N),{navigator:g,basename:_}=w.useContext(to),v=y!=null&&XW(d)&&u===!0,b=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,x=f.pathname,P=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(x=x.toLowerCase(),P=P?P.toLowerCase():null,b=b.toLowerCase()),P&&_&&(P=rc(P,_)||P);const k=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let M=x===b||!o&&x.startsWith(b)&&x.charAt(k)==="/",A=P!=null&&(P===b||!o&&P.startsWith(b)&&P.charAt(b.length)==="/"),T={isActive:M,isPending:A,isTransitioning:v},E=M?i:void 0,C;typeof s=="function"?C=s(T):C=[s,M?"active":null,A?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(T):a;return w.createElement(HW,vg({},h,{"aria-current":E,className:C,ref:t,style:D,to:l,viewTransition:u}),typeof c=="function"?c(T):c)});var Y_;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Y_||(Y_={}));var PC;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(PC||(PC={}));function WW(n){let e=w.useContext(qy);return e||It(!1),e}function GW(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Ta(),u=no(),c=Zy(n,{relative:o});return w.useCallback(h=>{if(NW(h,t)){h.preventDefault();let d=i!==void 0?i:mg(u)===mg(c);l(n,{replace:d,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,i,r,t,n,s,o,a])}function YW(n){let e=w.useRef(G_(n)),t=w.useRef(!1),i=no(),r=w.useMemo(()=>OW(i.search,t.current?null:e.current),[i.search]),s=Ta(),o=w.useCallback((a,l)=>{const u=G_(typeof a=="function"?a(r):a);t.current=!0,s("?"+u,l)},[s,r]);return[r,o]}function XW(n,e){e===void 0&&(e={});let t=w.useContext(VW);t==null&&It(!1);let{basename:i}=WW(Y_.useViewTransitionState),r=Zy(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=rc(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=rc(t.nextLocation.pathname,i)||t.nextLocation.pathname;return gg(r.pathname,o)!=null||gg(r.pathname,s)!=null}function XN(){const n=w.useMemo(()=>{var a,l;const o=(l=(a=import.meta)==null?void 0:a.env)==null?void 0:l.VITE_DEV_MODE;return typeof o=="boolean"?o:typeof o=="string"?o.toLowerCase()==="true":!1},[]),e=()=>{try{const o=localStorage.getItem("VITE_DEV_MODE");return o==null?void 0:o.toLowerCase()==="true"}catch{return}},t=()=>{try{const o=window;return typeof o.__DEV_MODE__=="boolean"?o.__DEV_MODE__:void 0}catch{return}},i=()=>{const o=t();if(typeof o=="boolean")return o;const a=e();return typeof a=="boolean"?a:n},[r,s]=w.useState(i);return w.useEffect(()=>{const o=l=>{l.key==="VITE_DEV_MODE"&&s(i())};window.addEventListener("storage",o);const a=()=>s(i());return window.addEventListener("dev-mode-changed",a),()=>{window.removeEventListener("storage",o),window.removeEventListener("dev-mode-changed",a)}},[n]),r}const KW=()=>{};var SC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},qW=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[t++],o=n[t++],a=n[t++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],o=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},qN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,u=l?n[r+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(d=64)),i.push(t[c],t[h],t[d],t[f])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(KN(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):qW(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;const u=r<n.length?t[n.charAt(r)]:64;++r;const h=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||a==null||u==null||h==null)throw new QW;const d=s<<2|a>>4;if(i.push(d),u!==64){const f=a<<4&240|u>>2;if(i.push(f),h!==64){const y=u<<6&192|h;i.push(y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class QW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZW=function(n){const e=KN(n);return qN.encodeByteArray(e,!0)},bg=function(n){return ZW(n).replace(/\./g,"")},QN=function(n){try{return qN.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8=()=>JW().__FIREBASE_DEFAULTS__,t8=()=>{if(typeof process>"u"||typeof SC>"u")return;const n=SC.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},n8=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&QN(n[1]);return e&&JSON.parse(e)},Jy=()=>{try{return KW()||e8()||t8()||n8()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ZN=n=>{var e,t;return(t=(e=Jy())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},V1=n=>{const e=ZN(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},JN=()=>{var n;return(n=Jy())===null||n===void 0?void 0:n.config},eO=n=>{var e;return(e=Jy())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[bg(JSON.stringify(t)),bg(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kn())}function s8(){var n;const e=(n=Jy())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function a8(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function l8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function u8(){const n=Kn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function c8(){return!s8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function h8(){try{return typeof indexedDB=="object"}catch{return!1}}function d8(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8="FirebaseError";class Nr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=f8,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tf.prototype.create)}}class Tf{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?p8(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Nr(r,a,i)}}function p8(n,e){return n.replace(m8,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const m8=/\{\$([^}]+)}/g;function g8(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function yl(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const s=n[r],o=e[r];if(CC(s)&&CC(o)){if(!yl(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function CC(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function bh(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function _h(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function y8(n,e){const t=new v8(n,e);return t.subscribe.bind(t)}class v8{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");b8(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=V0),r.error===void 0&&(r.error=V0),r.complete===void 0&&(r.complete=V0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function b8(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function V0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(n){return n&&n._delegate?n._delegate:n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(n){return n.endsWith(".cloudworkstations.dev")}async function ev(n){return(await fetch(n,{credentials:"include"})).ok}let zs=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new i8;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x8(e))try{this.getOrInitializeService({instanceIdentifier:ja})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ja){return this.instances.has(e)}getOptions(e=ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:w8(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ja){return this.component?this.component.multipleInstances?e:ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function w8(n){return n===ja?void 0:n}function x8(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _8(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ke||(Ke={}));const E8={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},P8=Ke.INFO,S8={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},C8=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=S8[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class B1{constructor(e){this.name=e,this._logLevel=P8,this._logHandler=C8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?E8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const A8=(n,e)=>e.some(t=>n instanceof t);let AC,kC;function k8(){return AC||(AC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function I8(){return kC||(kC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nO=new WeakMap,X_=new WeakMap,iO=new WeakMap,B0=new WeakMap,U1=new WeakMap;function D8(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(qo(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&nO.set(t,n)}).catch(()=>{}),U1.set(e,n),e}function R8(n){if(X_.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});X_.set(n,e)}let K_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return X_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||iO.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function M8(n){K_=n(K_)}function N8(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(U0(this),e,...t);return iO.set(i,e.sort?e.sort():[e]),qo(i)}:I8().includes(n)?function(...e){return n.apply(U0(this),e),qo(nO.get(this))}:function(...e){return qo(n.apply(U0(this),e))}}function O8(n){return typeof n=="function"?N8(n):(n instanceof IDBTransaction&&R8(n),A8(n,k8())?new Proxy(n,K_):n)}function qo(n){if(n instanceof IDBRequest)return D8(n);if(B0.has(n))return B0.get(n);const e=O8(n);return e!==n&&(B0.set(n,e),U1.set(e,n)),e}const U0=n=>U1.get(n);function j8(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,e),a=qo(o);return i&&o.addEventListener("upgradeneeded",l=>{i(qo(o.result),l.oldVersion,l.newVersion,qo(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const L8=["get","getKey","getAll","getAllKeys","count"],F8=["put","add","delete","clear"],$0=new Map;function IC(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if($0.get(e))return $0.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=F8.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||L8.includes(t)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(a.shift())),(await Promise.all([u[t](...a),r&&l.done]))[0]};return $0.set(e,s),s}M8(n=>({...n,get:(e,t,i)=>IC(e,t)||n.get(e,t,i),has:(e,t)=>!!IC(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(B8(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function B8(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const q_="@firebase/app",DC="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new B1("@firebase/app"),U8="@firebase/app-compat",$8="@firebase/analytics-compat",z8="@firebase/analytics",H8="@firebase/app-check-compat",W8="@firebase/app-check",G8="@firebase/auth",Y8="@firebase/auth-compat",X8="@firebase/database",K8="@firebase/data-connect",q8="@firebase/database-compat",Q8="@firebase/functions",Z8="@firebase/functions-compat",J8="@firebase/installations",e7="@firebase/installations-compat",t7="@firebase/messaging",n7="@firebase/messaging-compat",i7="@firebase/performance",r7="@firebase/performance-compat",s7="@firebase/remote-config",o7="@firebase/remote-config-compat",a7="@firebase/storage",l7="@firebase/storage-compat",u7="@firebase/firestore",c7="@firebase/vertexai",h7="@firebase/firestore-compat",d7="firebase",f7="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="[DEFAULT]",p7={[q_]:"fire-core",[U8]:"fire-core-compat",[z8]:"fire-analytics",[$8]:"fire-analytics-compat",[W8]:"fire-app-check",[H8]:"fire-app-check-compat",[G8]:"fire-auth",[Y8]:"fire-auth-compat",[X8]:"fire-rtdb",[K8]:"fire-data-connect",[q8]:"fire-rtdb-compat",[Q8]:"fire-fn",[Z8]:"fire-fn-compat",[J8]:"fire-iid",[e7]:"fire-iid-compat",[t7]:"fire-fcm",[n7]:"fire-fcm-compat",[i7]:"fire-perf",[r7]:"fire-perf-compat",[s7]:"fire-rc",[o7]:"fire-rc-compat",[a7]:"fire-gcs",[l7]:"fire-gcs-compat",[u7]:"fire-fst",[h7]:"fire-fst-compat",[c7]:"fire-vertex","fire-js":"fire-js",[d7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad=new Map,m7=new Map,Z_=new Map;function RC(n,e){try{n.container.addComponent(e)}catch(t){Hs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function aa(n){const e=n.name;if(Z_.has(e))return Hs.debug(`There were multiple attempts to register component ${e}.`),!1;Z_.set(e,n);for(const t of Ad.values())RC(t,n);for(const t of m7.values())RC(t,n);return!0}function Pf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Yn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qo=new Tf("app","Firebase",g7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=f7;function $1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Q_,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Qo.create("bad-app-name",{appName:String(r)});if(t||(t=JN()),!t)throw Qo.create("no-options");const s=Ad.get(r);if(s){if(yl(t,s.options)&&yl(i,s.config))return s;throw Qo.create("duplicate-app",{appName:r})}const o=new T8(r);for(const l of Z_.values())o.addComponent(l);const a=new y7(t,i,o);return Ad.set(r,a),a}function tv(n=Q_){const e=Ad.get(n);if(!e&&n===Q_&&JN())return $1();if(!e)throw Qo.create("no-app",{appName:n});return e}function v7(){return Array.from(Ad.values())}function nr(n,e,t){var i;let r=(i=p7[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hs.warn(a.join(" "));return}aa(new zs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7="firebase-heartbeat-database",_7=1,kd="firebase-heartbeat-store";let z0=null;function rO(){return z0||(z0=j8(b7,_7,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(kd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Qo.create("idb-open",{originalErrorMessage:n.message})})),z0}async function w7(n){try{const t=(await rO()).transaction(kd),i=await t.objectStore(kd).get(sO(n));return await t.done,i}catch(e){if(e instanceof Nr)Hs.warn(e.message);else{const t=Qo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hs.warn(t.message)}}}async function MC(n,e){try{const i=(await rO()).transaction(kd,"readwrite");await i.objectStore(kd).put(e,sO(n)),await i.done}catch(t){if(t instanceof Nr)Hs.warn(t.message);else{const i=Qo.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Hs.warn(i.message)}}}function sO(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x7=1024,T7=30;class E7{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new S7(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=NC();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>T7){const o=C7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Hs.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=NC(),{heartbeatsToSend:i,unsentEntries:r}=P7(this._heartbeatsCache.heartbeats),s=bg(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Hs.warn(t),""}}}function NC(){return new Date().toISOString().substring(0,10)}function P7(n,e=x7){const t=[];let i=n.slice();for(const r of n){const s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),OC(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),OC(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class S7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return h8()?d8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await w7(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return MC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return MC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function OC(n){return bg(JSON.stringify({version:2,heartbeats:n})).length}function C7(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A7(n){aa(new zs("platform-logger",e=>new V8(e),"PRIVATE")),aa(new zs("heartbeat",e=>new E7(e),"PRIVATE")),nr(q_,DC,n),nr(q_,DC,"esm2017"),nr("fire-js","")}A7("");var k7="firebase",I7="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr(k7,I7,"app");var jC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zo,oO;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,T){function E(){}E.prototype=T.prototype,A.D=T.prototype,A.prototype=new E,A.prototype.constructor=A,A.C=function(C,D,N){for(var R=Array(arguments.length-2),V=2;V<arguments.length;V++)R[V-2]=arguments[V];return T.prototype[D].apply(C,R)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(A,T,E){E||(E=0);var C=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)C[D]=T.charCodeAt(E++)|T.charCodeAt(E++)<<8|T.charCodeAt(E++)<<16|T.charCodeAt(E++)<<24;else for(D=0;16>D;++D)C[D]=T[E++]|T[E++]<<8|T[E++]<<16|T[E++]<<24;T=A.g[0],E=A.g[1],D=A.g[2];var N=A.g[3],R=T+(N^E&(D^N))+C[0]+3614090360&4294967295;T=E+(R<<7&4294967295|R>>>25),R=N+(D^T&(E^D))+C[1]+3905402710&4294967295,N=T+(R<<12&4294967295|R>>>20),R=D+(E^N&(T^E))+C[2]+606105819&4294967295,D=N+(R<<17&4294967295|R>>>15),R=E+(T^D&(N^T))+C[3]+3250441966&4294967295,E=D+(R<<22&4294967295|R>>>10),R=T+(N^E&(D^N))+C[4]+4118548399&4294967295,T=E+(R<<7&4294967295|R>>>25),R=N+(D^T&(E^D))+C[5]+1200080426&4294967295,N=T+(R<<12&4294967295|R>>>20),R=D+(E^N&(T^E))+C[6]+2821735955&4294967295,D=N+(R<<17&4294967295|R>>>15),R=E+(T^D&(N^T))+C[7]+4249261313&4294967295,E=D+(R<<22&4294967295|R>>>10),R=T+(N^E&(D^N))+C[8]+1770035416&4294967295,T=E+(R<<7&4294967295|R>>>25),R=N+(D^T&(E^D))+C[9]+2336552879&4294967295,N=T+(R<<12&4294967295|R>>>20),R=D+(E^N&(T^E))+C[10]+4294925233&4294967295,D=N+(R<<17&4294967295|R>>>15),R=E+(T^D&(N^T))+C[11]+2304563134&4294967295,E=D+(R<<22&4294967295|R>>>10),R=T+(N^E&(D^N))+C[12]+1804603682&4294967295,T=E+(R<<7&4294967295|R>>>25),R=N+(D^T&(E^D))+C[13]+4254626195&4294967295,N=T+(R<<12&4294967295|R>>>20),R=D+(E^N&(T^E))+C[14]+2792965006&4294967295,D=N+(R<<17&4294967295|R>>>15),R=E+(T^D&(N^T))+C[15]+1236535329&4294967295,E=D+(R<<22&4294967295|R>>>10),R=T+(D^N&(E^D))+C[1]+4129170786&4294967295,T=E+(R<<5&4294967295|R>>>27),R=N+(E^D&(T^E))+C[6]+3225465664&4294967295,N=T+(R<<9&4294967295|R>>>23),R=D+(T^E&(N^T))+C[11]+643717713&4294967295,D=N+(R<<14&4294967295|R>>>18),R=E+(N^T&(D^N))+C[0]+3921069994&4294967295,E=D+(R<<20&4294967295|R>>>12),R=T+(D^N&(E^D))+C[5]+3593408605&4294967295,T=E+(R<<5&4294967295|R>>>27),R=N+(E^D&(T^E))+C[10]+38016083&4294967295,N=T+(R<<9&4294967295|R>>>23),R=D+(T^E&(N^T))+C[15]+3634488961&4294967295,D=N+(R<<14&4294967295|R>>>18),R=E+(N^T&(D^N))+C[4]+3889429448&4294967295,E=D+(R<<20&4294967295|R>>>12),R=T+(D^N&(E^D))+C[9]+568446438&4294967295,T=E+(R<<5&4294967295|R>>>27),R=N+(E^D&(T^E))+C[14]+3275163606&4294967295,N=T+(R<<9&4294967295|R>>>23),R=D+(T^E&(N^T))+C[3]+4107603335&4294967295,D=N+(R<<14&4294967295|R>>>18),R=E+(N^T&(D^N))+C[8]+1163531501&4294967295,E=D+(R<<20&4294967295|R>>>12),R=T+(D^N&(E^D))+C[13]+2850285829&4294967295,T=E+(R<<5&4294967295|R>>>27),R=N+(E^D&(T^E))+C[2]+4243563512&4294967295,N=T+(R<<9&4294967295|R>>>23),R=D+(T^E&(N^T))+C[7]+1735328473&4294967295,D=N+(R<<14&4294967295|R>>>18),R=E+(N^T&(D^N))+C[12]+2368359562&4294967295,E=D+(R<<20&4294967295|R>>>12),R=T+(E^D^N)+C[5]+4294588738&4294967295,T=E+(R<<4&4294967295|R>>>28),R=N+(T^E^D)+C[8]+2272392833&4294967295,N=T+(R<<11&4294967295|R>>>21),R=D+(N^T^E)+C[11]+1839030562&4294967295,D=N+(R<<16&4294967295|R>>>16),R=E+(D^N^T)+C[14]+4259657740&4294967295,E=D+(R<<23&4294967295|R>>>9),R=T+(E^D^N)+C[1]+2763975236&4294967295,T=E+(R<<4&4294967295|R>>>28),R=N+(T^E^D)+C[4]+1272893353&4294967295,N=T+(R<<11&4294967295|R>>>21),R=D+(N^T^E)+C[7]+4139469664&4294967295,D=N+(R<<16&4294967295|R>>>16),R=E+(D^N^T)+C[10]+3200236656&4294967295,E=D+(R<<23&4294967295|R>>>9),R=T+(E^D^N)+C[13]+681279174&4294967295,T=E+(R<<4&4294967295|R>>>28),R=N+(T^E^D)+C[0]+3936430074&4294967295,N=T+(R<<11&4294967295|R>>>21),R=D+(N^T^E)+C[3]+3572445317&4294967295,D=N+(R<<16&4294967295|R>>>16),R=E+(D^N^T)+C[6]+76029189&4294967295,E=D+(R<<23&4294967295|R>>>9),R=T+(E^D^N)+C[9]+3654602809&4294967295,T=E+(R<<4&4294967295|R>>>28),R=N+(T^E^D)+C[12]+3873151461&4294967295,N=T+(R<<11&4294967295|R>>>21),R=D+(N^T^E)+C[15]+530742520&4294967295,D=N+(R<<16&4294967295|R>>>16),R=E+(D^N^T)+C[2]+3299628645&4294967295,E=D+(R<<23&4294967295|R>>>9),R=T+(D^(E|~N))+C[0]+4096336452&4294967295,T=E+(R<<6&4294967295|R>>>26),R=N+(E^(T|~D))+C[7]+1126891415&4294967295,N=T+(R<<10&4294967295|R>>>22),R=D+(T^(N|~E))+C[14]+2878612391&4294967295,D=N+(R<<15&4294967295|R>>>17),R=E+(N^(D|~T))+C[5]+4237533241&4294967295,E=D+(R<<21&4294967295|R>>>11),R=T+(D^(E|~N))+C[12]+1700485571&4294967295,T=E+(R<<6&4294967295|R>>>26),R=N+(E^(T|~D))+C[3]+2399980690&4294967295,N=T+(R<<10&4294967295|R>>>22),R=D+(T^(N|~E))+C[10]+4293915773&4294967295,D=N+(R<<15&4294967295|R>>>17),R=E+(N^(D|~T))+C[1]+2240044497&4294967295,E=D+(R<<21&4294967295|R>>>11),R=T+(D^(E|~N))+C[8]+1873313359&4294967295,T=E+(R<<6&4294967295|R>>>26),R=N+(E^(T|~D))+C[15]+4264355552&4294967295,N=T+(R<<10&4294967295|R>>>22),R=D+(T^(N|~E))+C[6]+2734768916&4294967295,D=N+(R<<15&4294967295|R>>>17),R=E+(N^(D|~T))+C[13]+1309151649&4294967295,E=D+(R<<21&4294967295|R>>>11),R=T+(D^(E|~N))+C[4]+4149444226&4294967295,T=E+(R<<6&4294967295|R>>>26),R=N+(E^(T|~D))+C[11]+3174756917&4294967295,N=T+(R<<10&4294967295|R>>>22),R=D+(T^(N|~E))+C[2]+718787259&4294967295,D=N+(R<<15&4294967295|R>>>17),R=E+(N^(D|~T))+C[9]+3951481745&4294967295,A.g[0]=A.g[0]+T&4294967295,A.g[1]=A.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,A.g[2]=A.g[2]+D&4294967295,A.g[3]=A.g[3]+N&4294967295}i.prototype.u=function(A,T){T===void 0&&(T=A.length);for(var E=T-this.blockSize,C=this.B,D=this.h,N=0;N<T;){if(D==0)for(;N<=E;)r(this,A,N),N+=this.blockSize;if(typeof A=="string"){for(;N<T;)if(C[D++]=A.charCodeAt(N++),D==this.blockSize){r(this,C),D=0;break}}else for(;N<T;)if(C[D++]=A[N++],D==this.blockSize){r(this,C),D=0;break}}this.h=D,this.o+=T},i.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var T=1;T<A.length-8;++T)A[T]=0;var E=8*this.o;for(T=A.length-8;T<A.length;++T)A[T]=E&255,E/=256;for(this.u(A),A=Array(16),T=E=0;4>T;++T)for(var C=0;32>C;C+=8)A[E++]=this.g[T]>>>C&255;return A};function s(A,T){var E=a;return Object.prototype.hasOwnProperty.call(E,A)?E[A]:E[A]=T(A)}function o(A,T){this.h=T;for(var E=[],C=!0,D=A.length-1;0<=D;D--){var N=A[D]|0;C&&N==T||(E[D]=N,C=!1)}this.g=E}var a={};function l(A){return-128<=A&&128>A?s(A,function(T){return new o([T|0],0>T?-1:0)}):new o([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return h;if(0>A)return _(u(-A));for(var T=[],E=1,C=0;A>=E;C++)T[C]=A/E|0,E*=4294967296;return new o(T,0)}function c(A,T){if(A.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(A.charAt(0)=="-")return _(c(A.substring(1),T));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=u(Math.pow(T,8)),C=h,D=0;D<A.length;D+=8){var N=Math.min(8,A.length-D),R=parseInt(A.substring(D,D+N),T);8>N?(N=u(Math.pow(T,N)),C=C.j(N).add(u(R))):(C=C.j(E),C=C.add(u(R)))}return C}var h=l(0),d=l(1),f=l(16777216);n=o.prototype,n.m=function(){if(g(this))return-_(this).m();for(var A=0,T=1,E=0;E<this.g.length;E++){var C=this.i(E);A+=(0<=C?C:4294967296+C)*T,T*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(y(this))return"0";if(g(this))return"-"+_(this).toString(A);for(var T=u(Math.pow(A,6)),E=this,C="";;){var D=P(E,T).g;E=v(E,D.j(T));var N=((0<E.g.length?E.g[0]:E.h)>>>0).toString(A);if(E=D,y(E))return N+C;for(;6>N.length;)N="0"+N;C=N+C}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function y(A){if(A.h!=0)return!1;for(var T=0;T<A.g.length;T++)if(A.g[T]!=0)return!1;return!0}function g(A){return A.h==-1}n.l=function(A){return A=v(this,A),g(A)?-1:y(A)?0:1};function _(A){for(var T=A.g.length,E=[],C=0;C<T;C++)E[C]=~A.g[C];return new o(E,~A.h).add(d)}n.abs=function(){return g(this)?_(this):this},n.add=function(A){for(var T=Math.max(this.g.length,A.g.length),E=[],C=0,D=0;D<=T;D++){var N=C+(this.i(D)&65535)+(A.i(D)&65535),R=(N>>>16)+(this.i(D)>>>16)+(A.i(D)>>>16);C=R>>>16,N&=65535,R&=65535,E[D]=R<<16|N}return new o(E,E[E.length-1]&-2147483648?-1:0)};function v(A,T){return A.add(_(T))}n.j=function(A){if(y(this)||y(A))return h;if(g(this))return g(A)?_(this).j(_(A)):_(_(this).j(A));if(g(A))return _(this.j(_(A)));if(0>this.l(f)&&0>A.l(f))return u(this.m()*A.m());for(var T=this.g.length+A.g.length,E=[],C=0;C<2*T;C++)E[C]=0;for(C=0;C<this.g.length;C++)for(var D=0;D<A.g.length;D++){var N=this.i(C)>>>16,R=this.i(C)&65535,V=A.i(D)>>>16,q=A.i(D)&65535;E[2*C+2*D]+=R*q,b(E,2*C+2*D),E[2*C+2*D+1]+=N*q,b(E,2*C+2*D+1),E[2*C+2*D+1]+=R*V,b(E,2*C+2*D+1),E[2*C+2*D+2]+=N*V,b(E,2*C+2*D+2)}for(C=0;C<T;C++)E[C]=E[2*C+1]<<16|E[2*C];for(C=T;C<2*T;C++)E[C]=0;return new o(E,0)};function b(A,T){for(;(A[T]&65535)!=A[T];)A[T+1]+=A[T]>>>16,A[T]&=65535,T++}function x(A,T){this.g=A,this.h=T}function P(A,T){if(y(T))throw Error("division by zero");if(y(A))return new x(h,h);if(g(A))return T=P(_(A),T),new x(_(T.g),_(T.h));if(g(T))return T=P(A,_(T)),new x(_(T.g),T.h);if(30<A.g.length){if(g(A)||g(T))throw Error("slowDivide_ only works with positive integers.");for(var E=d,C=T;0>=C.l(A);)E=k(E),C=k(C);var D=M(E,1),N=M(C,1);for(C=M(C,2),E=M(E,2);!y(C);){var R=N.add(C);0>=R.l(A)&&(D=D.add(E),N=R),C=M(C,1),E=M(E,1)}return T=v(A,D.j(T)),new x(D,T)}for(D=h;0<=A.l(T);){for(E=Math.max(1,Math.floor(A.m()/T.m())),C=Math.ceil(Math.log(E)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),N=u(E),R=N.j(T);g(R)||0<R.l(A);)E-=C,N=u(E),R=N.j(T);y(N)&&(N=d),D=D.add(N),A=v(A,R)}return new x(D,A)}n.A=function(A){return P(this,A).h},n.and=function(A){for(var T=Math.max(this.g.length,A.g.length),E=[],C=0;C<T;C++)E[C]=this.i(C)&A.i(C);return new o(E,this.h&A.h)},n.or=function(A){for(var T=Math.max(this.g.length,A.g.length),E=[],C=0;C<T;C++)E[C]=this.i(C)|A.i(C);return new o(E,this.h|A.h)},n.xor=function(A){for(var T=Math.max(this.g.length,A.g.length),E=[],C=0;C<T;C++)E[C]=this.i(C)^A.i(C);return new o(E,this.h^A.h)};function k(A){for(var T=A.g.length+1,E=[],C=0;C<T;C++)E[C]=A.i(C)<<1|A.i(C-1)>>>31;return new o(E,A.h)}function M(A,T){var E=T>>5;T%=32;for(var C=A.g.length-E,D=[],N=0;N<C;N++)D[N]=0<T?A.i(N+E)>>>T|A.i(N+E+1)<<32-T:A.i(N+E);return new o(D,A.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,oO=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Zo=o}).apply(typeof jC<"u"?jC:typeof self<"u"?self:typeof window<"u"?window:{});var Dp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aO,wh,lO,_m,J_,uO,cO,hO;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,S,I){return m==Array.prototype||m==Object.prototype||(m[S]=I.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dp=="object"&&Dp];for(var S=0;S<m.length;++S){var I=m[S];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var i=t(this);function r(m,S){if(S)e:{var I=i;m=m.split(".");for(var O=0;O<m.length-1;O++){var G=m[O];if(!(G in I))break e;I=I[G]}m=m[m.length-1],O=I[m],S=S(O),S!=O&&S!=null&&e(I,m,{configurable:!0,writable:!0,value:S})}}function s(m,S){m instanceof String&&(m+="");var I=0,O=!1,G={next:function(){if(!O&&I<m.length){var Q=I++;return{value:S(Q,m[Q]),done:!1}}return O=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}r("Array.prototype.values",function(m){return m||function(){return s(this,function(S,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(m){var S=typeof m;return S=S!="object"?S:m?Array.isArray(m)?"array":S:"null",S=="array"||S=="object"&&typeof m.length=="number"}function u(m){var S=typeof m;return S=="object"&&m!=null||S=="function"}function c(m,S,I){return m.call.apply(m.bind,arguments)}function h(m,S,I){if(!m)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,O),m.apply(S,G)}}return function(){return m.apply(S,arguments)}}function d(m,S,I){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,d.apply(null,arguments)}function f(m,S){var I=Array.prototype.slice.call(arguments,1);return function(){var O=I.slice();return O.push.apply(O,arguments),m.apply(this,O)}}function y(m,S){function I(){}I.prototype=S.prototype,m.aa=S.prototype,m.prototype=new I,m.prototype.constructor=m,m.Qb=function(O,G,Q){for(var he=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)he[pt-2]=arguments[pt];return S.prototype[G].apply(O,he)}}function g(m){const S=m.length;if(0<S){const I=Array(S);for(let O=0;O<S;O++)I[O]=m[O];return I}return[]}function _(m,S){for(let I=1;I<arguments.length;I++){const O=arguments[I];if(l(O)){const G=m.length||0,Q=O.length||0;m.length=G+Q;for(let he=0;he<Q;he++)m[G+he]=O[he]}else m.push(O)}}class v{constructor(S,I){this.i=S,this.j=I,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function b(m){return/^[\s\xa0]*$/.test(m)}function x(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function P(m){return P[" "](m),m}P[" "]=function(){};var k=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function M(m,S,I){for(const O in m)S.call(I,m[O],O,m)}function A(m,S){for(const I in m)S.call(void 0,m[I],I,m)}function T(m){const S={};for(const I in m)S[I]=m[I];return S}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(m,S){let I,O;for(let G=1;G<arguments.length;G++){O=arguments[G];for(I in O)m[I]=O[I];for(let Q=0;Q<E.length;Q++)I=E[Q],Object.prototype.hasOwnProperty.call(O,I)&&(m[I]=O[I])}}function D(m){var S=1;m=m.split(":");const I=[];for(;0<S&&m.length;)I.push(m.shift()),S--;return m.length&&I.push(m.join(":")),I}function N(m){a.setTimeout(()=>{throw m},0)}function R(){var m=j;let S=null;return m.g&&(S=m.g,m.g=m.g.next,m.g||(m.h=null),S.next=null),S}class V{constructor(){this.h=this.g=null}add(S,I){const O=q.get();O.set(S,I),this.h?this.h.next=O:this.g=O,this.h=O}}var q=new v(()=>new ee,m=>m.reset());class ee{constructor(){this.next=this.g=this.h=null}set(S,I){this.h=S,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let H,F=!1,j=new V,L=()=>{const m=a.Promise.resolve(void 0);H=()=>{m.then(B)}};var B=()=>{for(var m;m=R();){try{m.h.call(m.g)}catch(I){N(I)}var S=q;S.j(m),100>S.h&&(S.h++,m.next=S.g,S.g=m)}F=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(m,S){this.type=m,this.g=this.target=S,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,S=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const I=()=>{};a.addEventListener("test",I,S),a.removeEventListener("test",I,S)}catch{}return m}();function K(m,S){if($.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var I=this.type=m.type,O=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=S,S=m.relatedTarget){if(k){e:{try{P(S.nodeName);var G=!0;break e}catch{}G=!1}G||(S=null)}}else I=="mouseover"?S=m.fromElement:I=="mouseout"&&(S=m.toElement);this.relatedTarget=S,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ne[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&K.aa.h.call(this)}}y(K,$);var ne={2:"touch",3:"pen",4:"mouse"};K.prototype.h=function(){K.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),X=0;function ce(m,S,I,O,G){this.listener=m,this.proxy=null,this.src=S,this.type=I,this.capture=!!O,this.ha=G,this.key=++X,this.da=this.fa=!1}function me(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function fe(m){this.src=m,this.g={},this.h=0}fe.prototype.add=function(m,S,I,O,G){var Q=m.toString();m=this.g[Q],m||(m=this.g[Q]=[],this.h++);var he=xe(m,S,O,G);return-1<he?(S=m[he],I||(S.fa=!1)):(S=new ce(S,this.src,Q,!!O,G),S.fa=I,m.push(S)),S};function Pe(m,S){var I=S.type;if(I in m.g){var O=m.g[I],G=Array.prototype.indexOf.call(O,S,void 0),Q;(Q=0<=G)&&Array.prototype.splice.call(O,G,1),Q&&(me(S),m.g[I].length==0&&(delete m.g[I],m.h--))}}function xe(m,S,I,O){for(var G=0;G<m.length;++G){var Q=m[G];if(!Q.da&&Q.listener==S&&Q.capture==!!I&&Q.ha==O)return G}return-1}var ge="closure_lm_"+(1e6*Math.random()|0),De={};function Ee(m,S,I,O,G){if(Array.isArray(S)){for(var Q=0;Q<S.length;Q++)Ee(m,S[Q],I,O,G);return null}return I=nn(I),m&&m[le]?m.K(S,I,u(O)?!!O.capture:!!O,G):Ve(m,S,I,!1,O,G)}function Ve(m,S,I,O,G,Q){if(!S)throw Error("Invalid event type");var he=u(G)?!!G.capture:!!G,pt=ut(m);if(pt||(m[ge]=pt=new fe(m)),I=pt.add(S,I,O,he,Q),I.proxy)return I;if(O=Te(),I.proxy=O,O.src=m,O.listener=I,m.addEventListener)oe||(G=he),G===void 0&&(G=!1),m.addEventListener(S.toString(),O,G);else if(m.attachEvent)m.attachEvent(gt(S.toString()),O);else if(m.addListener&&m.removeListener)m.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Te(){function m(I){return S.call(m.src,m.listener,I)}const S=ft;return m}function Se(m,S,I,O,G){if(Array.isArray(S))for(var Q=0;Q<S.length;Q++)Se(m,S[Q],I,O,G);else O=u(O)?!!O.capture:!!O,I=nn(I),m&&m[le]?(m=m.i,S=String(S).toString(),S in m.g&&(Q=m.g[S],I=xe(Q,I,O,G),-1<I&&(me(Q[I]),Array.prototype.splice.call(Q,I,1),Q.length==0&&(delete m.g[S],m.h--)))):m&&(m=ut(m))&&(S=m.g[S.toString()],m=-1,S&&(m=xe(S,I,O,G)),(I=-1<m?S[m]:null)&&Be(I))}function Be(m){if(typeof m!="number"&&m&&!m.da){var S=m.src;if(S&&S[le])Pe(S.i,m);else{var I=m.type,O=m.proxy;S.removeEventListener?S.removeEventListener(I,O,m.capture):S.detachEvent?S.detachEvent(gt(I),O):S.addListener&&S.removeListener&&S.removeListener(O),(I=ut(S))?(Pe(I,m),I.h==0&&(I.src=null,S[ge]=null)):me(m)}}}function gt(m){return m in De?De[m]:De[m]="on"+m}function ft(m,S){if(m.da)m=!0;else{S=new K(S,this);var I=m.listener,O=m.ha||m.src;m.fa&&Be(m),m=I.call(O,S)}return m}function ut(m){return m=m[ge],m instanceof fe?m:null}var vt="__closure_events_fn_"+(1e9*Math.random()>>>0);function nn(m){return typeof m=="function"?m:(m[vt]||(m[vt]=function(S){return m.handleEvent(S)}),m[vt])}function Ue(){z.call(this),this.i=new fe(this),this.M=this,this.F=null}y(Ue,z),Ue.prototype[le]=!0,Ue.prototype.removeEventListener=function(m,S,I,O){Se(this,m,S,I,O)};function ze(m,S){var I,O=m.F;if(O)for(I=[];O;O=O.F)I.push(O);if(m=m.M,O=S.type||S,typeof S=="string")S=new $(S,m);else if(S instanceof $)S.target=S.target||m;else{var G=S;S=new $(O,m),C(S,G)}if(G=!0,I)for(var Q=I.length-1;0<=Q;Q--){var he=S.g=I[Q];G=tt(he,O,!0,S)&&G}if(he=S.g=m,G=tt(he,O,!0,S)&&G,G=tt(he,O,!1,S)&&G,I)for(Q=0;Q<I.length;Q++)he=S.g=I[Q],G=tt(he,O,!1,S)&&G}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var m=this.i,S;for(S in m.g){for(var I=m.g[S],O=0;O<I.length;O++)me(I[O]);delete m.g[S],m.h--}}this.F=null},Ue.prototype.K=function(m,S,I,O){return this.i.add(String(m),S,!1,I,O)},Ue.prototype.L=function(m,S,I,O){return this.i.add(String(m),S,!0,I,O)};function tt(m,S,I,O){if(S=m.i.g[String(S)],!S)return!0;S=S.concat();for(var G=!0,Q=0;Q<S.length;++Q){var he=S[Q];if(he&&!he.da&&he.capture==I){var pt=he.listener,Tn=he.ha||he.src;he.fa&&Pe(m.i,he),G=pt.call(Tn,O)!==!1&&G}}return G&&!O.defaultPrevented}function Mn(m,S,I){if(typeof m=="function")I&&(m=d(m,I));else if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:a.setTimeout(m,S||0)}function Ti(m){m.g=Mn(()=>{m.g=null,m.i&&(m.i=!1,Ti(m))},m.l);const S=m.h;m.h=null,m.m.apply(null,S)}class li extends z{constructor(S,I){super(),this.m=S,this.l=I,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Ti(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ft(m){z.call(this),this.h=m,this.g={}}y(Ft,z);var Ei=[];function ys(m){M(m.g,function(S,I){this.g.hasOwnProperty(I)&&Be(S)},m),m.g={}}Ft.prototype.N=function(){Ft.aa.N.call(this),ys(this)},Ft.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vs=a.JSON.stringify,Vi=a.JSON.parse,Wc=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function Ne(){}Ne.prototype.h=null;function rt(m){return m.h||(m.h=m.i())}function it(){}var rn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nn(){$.call(this,"d")}y(Nn,$);function Bi(){$.call(this,"c")}y(Bi,$);var Pi={},Yf=null;function Vl(){return Yf=Yf||new Ue}Pi.La="serverreachability";function Xf(m){$.call(this,Pi.La,m)}y(Xf,$);function Or(m){const S=Vl();ze(S,new Xf(S))}Pi.STAT_EVENT="statevent";function Kf(m,S){$.call(this,Pi.STAT_EVENT,m),this.stat=S}y(Kf,$);function wn(m){const S=Vl();ze(S,new Kf(S,m))}Pi.Ma="timingevent";function Gc(m,S){$.call(this,Pi.Ma,m),this.size=S}y(Gc,$);function ro(m,S){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},S)}function U(){this.g=!0}U.prototype.xa=function(){this.g=!1};function J(m,S,I,O,G,Q){m.info(function(){if(m.g)if(Q)for(var he="",pt=Q.split("&"),Tn=0;Tn<pt.length;Tn++){var nt=pt[Tn].split("=");if(1<nt.length){var On=nt[0];nt=nt[1];var jn=On.split("_");he=2<=jn.length&&jn[1]=="type"?he+(On+"="+nt+"&"):he+(On+"=redacted&")}}else he=null;else he=Q;return"XMLHTTP REQ ("+O+") [attempt "+G+"]: "+S+`
`+I+`
`+he})}function Z(m,S,I,O,G,Q,he){m.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+G+"]: "+S+`
`+I+`
`+Q+" "+he})}function ae(m,S,I,O){m.info(function(){return"XMLHTTP TEXT ("+S+"): "+Le(m,I)+(O?" "+O:"")})}function pe(m,S){m.info(function(){return"TIMEOUT: "+S})}U.prototype.info=function(){};function Le(m,S){if(!m.g)return S;if(!S)return null;try{var I=JSON.parse(S);if(I){for(m=0;m<I.length;m++)if(Array.isArray(I[m])){var O=I[m];if(!(2>O.length)){var G=O[1];if(Array.isArray(G)&&!(1>G.length)){var Q=G[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var he=1;he<G.length;he++)G[he]=""}}}}return vs(I)}catch{return S}}var Ge={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dn;function ui(){}y(ui,Ne),ui.prototype.g=function(){return new XMLHttpRequest},ui.prototype.i=function(){return{}},dn=new ui;function qn(m,S,I,O){this.j=m,this.i=S,this.l=I,this.R=O||1,this.U=new Ft(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new JE}function JE(){this.i=null,this.g="",this.h=!1}var eP={},Gv={};function Yv(m,S,I){m.L=1,m.v=Jf(bs(S)),m.m=I,m.P=!0,tP(m,null)}function tP(m,S){m.F=Date.now(),qf(m),m.A=bs(m.v);var I=m.A,O=m.R;Array.isArray(O)||(O=[String(O)]),mP(I.i,"t",O),m.C=0,I=m.j.J,m.h=new JE,m.g=MP(m.j,I?S:null,!m.m),0<m.O&&(m.M=new li(d(m.Y,m,m.g),m.O)),S=m.U,I=m.g,O=m.ca;var G="readystatechange";Array.isArray(G)||(G&&(Ei[0]=G.toString()),G=Ei);for(var Q=0;Q<G.length;Q++){var he=Ee(I,G[Q],O||S.handleEvent,!1,S.h||S);if(!he)break;S.g[he.key]=he}S=m.H?T(m.H):{},m.m?(m.u||(m.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,S)):(m.u="GET",m.g.ea(m.A,m.u,null,S)),Or(),J(m.i,m.u,m.A,m.l,m.R,m.m)}qn.prototype.ca=function(m){m=m.target;const S=this.M;S&&_s(m)==3?S.j():this.Y(m)},qn.prototype.Y=function(m){try{if(m==this.g)e:{const jn=_s(this.g);var S=this.g.Ba();const $l=this.g.Z();if(!(3>jn)&&(jn!=3||this.g&&(this.h.h||this.g.oa()||xP(this.g)))){this.J||jn!=4||S==7||(S==8||0>=$l?Or(3):Or(2)),Xv(this);var I=this.g.Z();this.X=I;t:if(nP(this)){var O=xP(this.g);m="";var G=O.length,Q=_s(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ia(this),Yc(this);var he="";break t}this.h.i=new a.TextDecoder}for(S=0;S<G;S++)this.h.h=!0,m+=this.h.i.decode(O[S],{stream:!(Q&&S==G-1)});O.length=0,this.h.g+=m,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=I==200,Z(this.i,this.u,this.A,this.l,this.R,jn,I),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,Tn=this.g;if((pt=Tn.g?Tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(pt)){var nt=pt;break t}}nt=null}if(I=nt)ae(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kv(this,I);else{this.o=!1,this.s=3,wn(12),Ia(this),Yc(this);break e}}if(this.P){I=!0;let ur;for(;!this.J&&this.C<he.length;)if(ur=d5(this,he),ur==Gv){jn==4&&(this.s=4,wn(14),I=!1),ae(this.i,this.l,null,"[Incomplete Response]");break}else if(ur==eP){this.s=4,wn(15),ae(this.i,this.l,he,"[Invalid Chunk]"),I=!1;break}else ae(this.i,this.l,ur,null),Kv(this,ur);if(nP(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jn!=4||he.length!=0||this.h.h||(this.s=1,wn(16),I=!1),this.o=this.o&&I,!I)ae(this.i,this.l,he,"[Invalid Chunked Response]"),Ia(this),Yc(this);else if(0<he.length&&!this.W){this.W=!0;var On=this.j;On.g==this&&On.ba&&!On.M&&(On.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),t0(On),On.M=!0,wn(11))}}else ae(this.i,this.l,he,null),Kv(this,he);jn==4&&Ia(this),this.o&&!this.J&&(jn==4?kP(this.j,this):(this.o=!1,qf(this)))}else k5(this.g),I==400&&0<he.indexOf("Unknown SID")?(this.s=3,wn(12)):(this.s=0,wn(13)),Ia(this),Yc(this)}}}catch{}finally{}};function nP(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function d5(m,S){var I=m.C,O=S.indexOf(`
`,I);return O==-1?Gv:(I=Number(S.substring(I,O)),isNaN(I)?eP:(O+=1,O+I>S.length?Gv:(S=S.slice(O,O+I),m.C=O+I,S)))}qn.prototype.cancel=function(){this.J=!0,Ia(this)};function qf(m){m.S=Date.now()+m.I,iP(m,m.I)}function iP(m,S){if(m.B!=null)throw Error("WatchDog timer not null");m.B=ro(d(m.ba,m),S)}function Xv(m){m.B&&(a.clearTimeout(m.B),m.B=null)}qn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(pe(this.i,this.A),this.L!=2&&(Or(),wn(17)),Ia(this),this.s=2,Yc(this)):iP(this,this.S-m)};function Yc(m){m.j.G==0||m.J||kP(m.j,m)}function Ia(m){Xv(m);var S=m.M;S&&typeof S.ma=="function"&&S.ma(),m.M=null,ys(m.U),m.g&&(S=m.g,m.g=null,S.abort(),S.ma())}function Kv(m,S){try{var I=m.j;if(I.G!=0&&(I.g==m||qv(I.h,m))){if(!m.K&&qv(I.h,m)&&I.G==3){try{var O=I.Da.g.parse(S)}catch{O=null}if(Array.isArray(O)&&O.length==3){var G=O;if(G[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<m.F)sp(I),ip(I);else break e;e0(I),wn(18)}}else I.za=G[1],0<I.za-I.T&&37500>G[2]&&I.F&&I.v==0&&!I.C&&(I.C=ro(d(I.Za,I),6e3));if(1>=oP(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Ra(I,11)}else if((m.K||I.g==m)&&sp(I),!b(S))for(G=I.Da.g.parse(S),S=0;S<G.length;S++){let nt=G[S];if(I.T=nt[0],nt=nt[1],I.G==2)if(nt[0]=="c"){I.K=nt[1],I.ia=nt[2];const On=nt[3];On!=null&&(I.la=On,I.j.info("VER="+I.la));const jn=nt[4];jn!=null&&(I.Aa=jn,I.j.info("SVER="+I.Aa));const $l=nt[5];$l!=null&&typeof $l=="number"&&0<$l&&(O=1.5*$l,I.L=O,I.j.info("backChannelRequestTimeoutMs_="+O)),O=I;const ur=m.g;if(ur){const ap=ur.g?ur.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ap){var Q=O.h;Q.g||ap.indexOf("spdy")==-1&&ap.indexOf("quic")==-1&&ap.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Qv(Q,Q.h),Q.h=null))}if(O.D){const n0=ur.g?ur.g.getResponseHeader("X-HTTP-Session-Id"):null;n0&&(O.ya=n0,bt(O.I,O.D,n0))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-m.F,I.j.info("Handshake RTT: "+I.R+"ms")),O=I;var he=m;if(O.qa=RP(O,O.J?O.ia:null,O.W),he.K){aP(O.h,he);var pt=he,Tn=O.L;Tn&&(pt.I=Tn),pt.B&&(Xv(pt),qf(pt)),O.g=he}else CP(O);0<I.i.length&&rp(I)}else nt[0]!="stop"&&nt[0]!="close"||Ra(I,7);else I.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?Ra(I,7):Jv(I):nt[0]!="noop"&&I.l&&I.l.ta(nt),I.v=0)}}Or(4)}catch{}}var f5=class{constructor(m,S){this.g=m,this.map=S}};function rP(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sP(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function oP(m){return m.h?1:m.g?m.g.size:0}function qv(m,S){return m.h?m.h==S:m.g?m.g.has(S):!1}function Qv(m,S){m.g?m.g.add(S):m.h=S}function aP(m,S){m.h&&m.h==S?m.h=null:m.g&&m.g.has(S)&&m.g.delete(S)}rP.prototype.cancel=function(){if(this.i=lP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function lP(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let S=m.i;for(const I of m.g.values())S=S.concat(I.D);return S}return g(m.i)}function p5(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var S=[],I=m.length,O=0;O<I;O++)S.push(m[O]);return S}S=[],I=0;for(O in m)S[I++]=m[O];return S}function m5(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var S=[];m=m.length;for(var I=0;I<m;I++)S.push(I);return S}S=[],I=0;for(const O in m)S[I++]=O;return S}}}function uP(m,S){if(m.forEach&&typeof m.forEach=="function")m.forEach(S,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,S,void 0);else for(var I=m5(m),O=p5(m),G=O.length,Q=0;Q<G;Q++)S.call(void 0,O[Q],I&&I[Q],m)}var cP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function g5(m,S){if(m){m=m.split("&");for(var I=0;I<m.length;I++){var O=m[I].indexOf("="),G=null;if(0<=O){var Q=m[I].substring(0,O);G=m[I].substring(O+1)}else Q=m[I];S(Q,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Da(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Da){this.h=m.h,Qf(this,m.j),this.o=m.o,this.g=m.g,Zf(this,m.s),this.l=m.l;var S=m.i,I=new qc;I.i=S.i,S.g&&(I.g=new Map(S.g),I.h=S.h),hP(this,I),this.m=m.m}else m&&(S=String(m).match(cP))?(this.h=!1,Qf(this,S[1]||"",!0),this.o=Xc(S[2]||""),this.g=Xc(S[3]||"",!0),Zf(this,S[4]),this.l=Xc(S[5]||"",!0),hP(this,S[6]||"",!0),this.m=Xc(S[7]||"")):(this.h=!1,this.i=new qc(null,this.h))}Da.prototype.toString=function(){var m=[],S=this.j;S&&m.push(Kc(S,dP,!0),":");var I=this.g;return(I||S=="file")&&(m.push("//"),(S=this.o)&&m.push(Kc(S,dP,!0),"@"),m.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&m.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&m.push("/"),m.push(Kc(I,I.charAt(0)=="/"?b5:v5,!0))),(I=this.i.toString())&&m.push("?",I),(I=this.m)&&m.push("#",Kc(I,w5)),m.join("")};function bs(m){return new Da(m)}function Qf(m,S,I){m.j=I?Xc(S,!0):S,m.j&&(m.j=m.j.replace(/:$/,""))}function Zf(m,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);m.s=S}else m.s=null}function hP(m,S,I){S instanceof qc?(m.i=S,x5(m.i,m.h)):(I||(S=Kc(S,_5)),m.i=new qc(S,m.h))}function bt(m,S,I){m.i.set(S,I)}function Jf(m){return bt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Xc(m,S){return m?S?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Kc(m,S,I){return typeof m=="string"?(m=encodeURI(m).replace(S,y5),I&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function y5(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var dP=/[#\/\?@]/g,v5=/[#\?:]/g,b5=/[#\?]/g,_5=/[#\?@]/g,w5=/#/g;function qc(m,S){this.h=this.g=null,this.i=m||null,this.j=!!S}function so(m){m.g||(m.g=new Map,m.h=0,m.i&&g5(m.i,function(S,I){m.add(decodeURIComponent(S.replace(/\+/g," ")),I)}))}n=qc.prototype,n.add=function(m,S){so(this),this.i=null,m=Bl(this,m);var I=this.g.get(m);return I||this.g.set(m,I=[]),I.push(S),this.h+=1,this};function fP(m,S){so(m),S=Bl(m,S),m.g.has(S)&&(m.i=null,m.h-=m.g.get(S).length,m.g.delete(S))}function pP(m,S){return so(m),S=Bl(m,S),m.g.has(S)}n.forEach=function(m,S){so(this),this.g.forEach(function(I,O){I.forEach(function(G){m.call(S,G,O,this)},this)},this)},n.na=function(){so(this);const m=Array.from(this.g.values()),S=Array.from(this.g.keys()),I=[];for(let O=0;O<S.length;O++){const G=m[O];for(let Q=0;Q<G.length;Q++)I.push(S[O])}return I},n.V=function(m){so(this);let S=[];if(typeof m=="string")pP(this,m)&&(S=S.concat(this.g.get(Bl(this,m))));else{m=Array.from(this.g.values());for(let I=0;I<m.length;I++)S=S.concat(m[I])}return S},n.set=function(m,S){return so(this),this.i=null,m=Bl(this,m),pP(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[S]),this.h+=1,this},n.get=function(m,S){return m?(m=this.V(m),0<m.length?String(m[0]):S):S};function mP(m,S,I){fP(m,S),0<I.length&&(m.i=null,m.g.set(Bl(m,S),g(I)),m.h+=I.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],S=Array.from(this.g.keys());for(var I=0;I<S.length;I++){var O=S[I];const Q=encodeURIComponent(String(O)),he=this.V(O);for(O=0;O<he.length;O++){var G=Q;he[O]!==""&&(G+="="+encodeURIComponent(String(he[O]))),m.push(G)}}return this.i=m.join("&")};function Bl(m,S){return S=String(S),m.j&&(S=S.toLowerCase()),S}function x5(m,S){S&&!m.j&&(so(m),m.i=null,m.g.forEach(function(I,O){var G=O.toLowerCase();O!=G&&(fP(this,O),mP(this,G,I))},m)),m.j=S}function T5(m,S){const I=new U;if(a.Image){const O=new Image;O.onload=f(oo,I,"TestLoadImage: loaded",!0,S,O),O.onerror=f(oo,I,"TestLoadImage: error",!1,S,O),O.onabort=f(oo,I,"TestLoadImage: abort",!1,S,O),O.ontimeout=f(oo,I,"TestLoadImage: timeout",!1,S,O),a.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=m}else S(!1)}function E5(m,S){const I=new U,O=new AbortController,G=setTimeout(()=>{O.abort(),oo(I,"TestPingServer: timeout",!1,S)},1e4);fetch(m,{signal:O.signal}).then(Q=>{clearTimeout(G),Q.ok?oo(I,"TestPingServer: ok",!0,S):oo(I,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(G),oo(I,"TestPingServer: error",!1,S)})}function oo(m,S,I,O,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),O(I)}catch{}}function P5(){this.g=new Wc}function S5(m,S,I){const O=I||"";try{uP(m,function(G,Q){let he=G;u(G)&&(he=vs(G)),S.push(O+Q+"="+encodeURIComponent(he))})}catch(G){throw S.push(O+"type="+encodeURIComponent("_badmap")),G}}function ep(m){this.l=m.Ub||null,this.j=m.eb||!1}y(ep,Ne),ep.prototype.g=function(){return new tp(this.l,this.j)},ep.prototype.i=function(m){return function(){return m}}({});function tp(m,S){Ue.call(this),this.D=m,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(tp,Ue),n=tp.prototype,n.open=function(m,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=S,this.readyState=1,Zc(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(S.body=m),(this.D||a).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qc(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Zc(this)),this.g&&(this.readyState=3,Zc(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gP(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function gP(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var S=m.value?m.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!m.done}))&&(this.response=this.responseText+=S)}m.done?Qc(this):Zc(this),this.readyState==3&&gP(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Qc(this))},n.Qa=function(m){this.g&&(this.response=m,Qc(this))},n.ga=function(){this.g&&Qc(this)};function Qc(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Zc(m)}n.setRequestHeader=function(m,S){this.u.append(m,S)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],S=this.h.entries();for(var I=S.next();!I.done;)I=I.value,m.push(I[0]+": "+I[1]),I=S.next();return m.join(`\r
`)};function Zc(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(tp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function yP(m){let S="";return M(m,function(I,O){S+=O,S+=":",S+=I,S+=`\r
`}),S}function Zv(m,S,I){e:{for(O in I){var O=!1;break e}O=!0}O||(I=yP(I),typeof m=="string"?I!=null&&encodeURIComponent(String(I)):bt(m,S,I))}function Mt(m){Ue.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Mt,Ue);var C5=/^https?$/i,A5=["POST","PUT"];n=Mt.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,S,I,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);S=S?S.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dn.g(),this.v=this.o?rt(this.o):rt(dn),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(S,String(m),!0),this.B=!1}catch(Q){vP(this,Q);return}if(m=I||"",I=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var G in O)I.set(G,O[G]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const Q of O.keys())I.set(Q,O.get(Q));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(I.keys()).find(Q=>Q.toLowerCase()=="content-type"),G=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(A5,S,void 0))||O||G||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,he]of I)this.g.setRequestHeader(Q,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wP(this),this.u=!0,this.g.send(m),this.u=!1}catch(Q){vP(this,Q)}};function vP(m,S){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=S,m.m=5,bP(m),np(m)}function bP(m){m.A||(m.A=!0,ze(m,"complete"),ze(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,ze(this,"complete"),ze(this,"abort"),np(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),np(this,!0)),Mt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?_P(this):this.bb())},n.bb=function(){_P(this)};function _P(m){if(m.h&&typeof o<"u"&&(!m.v[1]||_s(m)!=4||m.Z()!=2)){if(m.u&&_s(m)==4)Mn(m.Ea,0,m);else if(ze(m,"readystatechange"),_s(m)==4){m.h=!1;try{const he=m.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var I;if(!(I=S)){var O;if(O=he===0){var G=String(m.D).match(cP)[1]||null;!G&&a.self&&a.self.location&&(G=a.self.location.protocol.slice(0,-1)),O=!C5.test(G?G.toLowerCase():"")}I=O}if(I)ze(m,"complete"),ze(m,"success");else{m.m=6;try{var Q=2<_s(m)?m.g.statusText:""}catch{Q=""}m.l=Q+" ["+m.Z()+"]",bP(m)}}finally{np(m)}}}}function np(m,S){if(m.g){wP(m);const I=m.g,O=m.v[0]?()=>{}:null;m.g=null,m.v=null,S||ze(m,"ready");try{I.onreadystatechange=O}catch{}}}function wP(m){m.I&&(a.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function _s(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<_s(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var S=this.g.responseText;return m&&S.indexOf(m)==0&&(S=S.substring(m.length)),Vi(S)}};function xP(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function k5(m){const S={};m=(m.g&&2<=_s(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<m.length;O++){if(b(m[O]))continue;var I=D(m[O]);const G=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const Q=S[G]||[];S[G]=Q,Q.push(I)}A(S,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jc(m,S,I){return I&&I.internalChannelParams&&I.internalChannelParams[m]||S}function TP(m){this.Aa=0,this.i=[],this.j=new U,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jc("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jc("baseRetryDelayMs",5e3,m),this.cb=Jc("retryDelaySeedMs",1e4,m),this.Wa=Jc("forwardChannelMaxRetries",2,m),this.wa=Jc("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new rP(m&&m.concurrentRequestLimit),this.Da=new P5,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=TP.prototype,n.la=8,n.G=1,n.connect=function(m,S,I,O){wn(0),this.W=m,this.H=S||{},I&&O!==void 0&&(this.H.OSID=I,this.H.OAID=O),this.F=this.X,this.I=RP(this,null,this.W),rp(this)};function Jv(m){if(EP(m),m.G==3){var S=m.U++,I=bs(m.I);if(bt(I,"SID",m.K),bt(I,"RID",S),bt(I,"TYPE","terminate"),eh(m,I),S=new qn(m,m.j,S),S.L=2,S.v=Jf(bs(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(S.v.toString(),"")}catch{}!I&&a.Image&&(new Image().src=S.v,I=!0),I||(S.g=MP(S.j,null),S.g.ea(S.v)),S.F=Date.now(),qf(S)}DP(m)}function ip(m){m.g&&(t0(m),m.g.cancel(),m.g=null)}function EP(m){ip(m),m.u&&(a.clearTimeout(m.u),m.u=null),sp(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&a.clearTimeout(m.s),m.s=null)}function rp(m){if(!sP(m.h)&&!m.s){m.s=!0;var S=m.Ga;H||L(),F||(H(),F=!0),j.add(S,m),m.B=0}}function I5(m,S){return oP(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=S.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=ro(d(m.Ga,m,S),IP(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const G=new qn(this,this.j,m);let Q=this.o;if(this.S&&(Q?(Q=T(Q),C(Q,this.S)):Q=this.S),this.m!==null||this.O||(G.H=Q,Q=null),this.P)e:{for(var S=0,I=0;I<this.i.length;I++){t:{var O=this.i[I];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(S+=O,4096<S){S=I;break e}if(S===4096||I===this.i.length-1){S=I+1;break e}}S=1e3}else S=1e3;S=SP(this,G,S),I=bs(this.I),bt(I,"RID",m),bt(I,"CVER",22),this.D&&bt(I,"X-HTTP-Session-Id",this.D),eh(this,I),Q&&(this.O?S="headers="+encodeURIComponent(String(yP(Q)))+"&"+S:this.m&&Zv(I,this.m,Q)),Qv(this.h,G),this.Ua&&bt(I,"TYPE","init"),this.P?(bt(I,"$req",S),bt(I,"SID","null"),G.T=!0,Yv(G,I,null)):Yv(G,I,S),this.G=2}}else this.G==3&&(m?PP(this,m):this.i.length==0||sP(this.h)||PP(this))};function PP(m,S){var I;S?I=S.l:I=m.U++;const O=bs(m.I);bt(O,"SID",m.K),bt(O,"RID",I),bt(O,"AID",m.T),eh(m,O),m.m&&m.o&&Zv(O,m.m,m.o),I=new qn(m,m.j,I,m.B+1),m.m===null&&(I.H=m.o),S&&(m.i=S.D.concat(m.i)),S=SP(m,I,1e3),I.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Qv(m.h,I),Yv(I,O,S)}function eh(m,S){m.H&&M(m.H,function(I,O){bt(S,O,I)}),m.l&&uP({},function(I,O){bt(S,O,I)})}function SP(m,S,I){I=Math.min(m.i.length,I);var O=m.l?d(m.l.Na,m.l,m):null;e:{var G=m.i;let Q=-1;for(;;){const he=["count="+I];Q==-1?0<I?(Q=G[0].g,he.push("ofs="+Q)):Q=0:he.push("ofs="+Q);let pt=!0;for(let Tn=0;Tn<I;Tn++){let nt=G[Tn].g;const On=G[Tn].map;if(nt-=Q,0>nt)Q=Math.max(0,G[Tn].g-100),pt=!1;else try{S5(On,he,"req"+nt+"_")}catch{O&&O(On)}}if(pt){O=he.join("&");break e}}}return m=m.i.splice(0,I),S.D=m,O}function CP(m){if(!m.g&&!m.u){m.Y=1;var S=m.Fa;H||L(),F||(H(),F=!0),j.add(S,m),m.v=0}}function e0(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=ro(d(m.Fa,m),IP(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,AP(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=ro(d(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wn(10),ip(this),AP(this))};function t0(m){m.A!=null&&(a.clearTimeout(m.A),m.A=null)}function AP(m){m.g=new qn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var S=bs(m.qa);bt(S,"RID","rpc"),bt(S,"SID",m.K),bt(S,"AID",m.T),bt(S,"CI",m.F?"0":"1"),!m.F&&m.ja&&bt(S,"TO",m.ja),bt(S,"TYPE","xmlhttp"),eh(m,S),m.m&&m.o&&Zv(S,m.m,m.o),m.L&&(m.g.I=m.L);var I=m.g;m=m.ia,I.L=1,I.v=Jf(bs(S)),I.m=null,I.P=!0,tP(I,m)}n.Za=function(){this.C!=null&&(this.C=null,ip(this),e0(this),wn(19))};function sp(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function kP(m,S){var I=null;if(m.g==S){sp(m),t0(m),m.g=null;var O=2}else if(qv(m.h,S))I=S.D,aP(m.h,S),O=1;else return;if(m.G!=0){if(S.o)if(O==1){I=S.m?S.m.length:0,S=Date.now()-S.F;var G=m.B;O=Vl(),ze(O,new Gc(O,I)),rp(m)}else CP(m);else if(G=S.s,G==3||G==0&&0<S.X||!(O==1&&I5(m,S)||O==2&&e0(m)))switch(I&&0<I.length&&(S=m.h,S.i=S.i.concat(I)),G){case 1:Ra(m,5);break;case 4:Ra(m,10);break;case 3:Ra(m,6);break;default:Ra(m,2)}}}function IP(m,S){let I=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(I*=2),I*S}function Ra(m,S){if(m.j.info("Error code "+S),S==2){var I=d(m.fb,m),O=m.Xa;const G=!O;O=new Da(O||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Qf(O,"https"),Jf(O),G?T5(O.toString(),I):E5(O.toString(),I)}else wn(2);m.G=0,m.l&&m.l.sa(S),DP(m),EP(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))};function DP(m){if(m.G=0,m.ka=[],m.l){const S=lP(m.h);(S.length!=0||m.i.length!=0)&&(_(m.ka,S),_(m.ka,m.i),m.h.i.length=0,g(m.i),m.i.length=0),m.l.ra()}}function RP(m,S,I){var O=I instanceof Da?bs(I):new Da(I);if(O.g!="")S&&(O.g=S+"."+O.g),Zf(O,O.s);else{var G=a.location;O=G.protocol,S=S?S+"."+G.hostname:G.hostname,G=+G.port;var Q=new Da(null);O&&Qf(Q,O),S&&(Q.g=S),G&&Zf(Q,G),I&&(Q.l=I),O=Q}return I=m.D,S=m.ya,I&&S&&bt(O,I,S),bt(O,"VER",m.la),eh(m,O),O}function MP(m,S,I){if(S&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=m.Ca&&!m.pa?new Mt(new ep({eb:I})):new Mt(m.pa),S.Ha(m.J),S}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function NP(){}n=NP.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function op(){}op.prototype.g=function(m,S){return new Si(m,S)};function Si(m,S){Ue.call(this),this.g=new TP(S),this.l=m,this.h=S&&S.messageUrlParams||null,m=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(m?m["X-WebChannel-Content-Type"]=S.messageContentType:m={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(m?m["X-WebChannel-Client-Profile"]=S.va:m={"X-WebChannel-Client-Profile":S.va}),this.g.S=m,(m=S&&S.Sb)&&!b(m)&&(this.g.m=m),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!b(S)&&(this.g.D=S,m=this.h,m!==null&&S in m&&(m=this.h,S in m&&delete m[S])),this.j=new Ul(this)}y(Si,Ue),Si.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Si.prototype.close=function(){Jv(this.g)},Si.prototype.o=function(m){var S=this.g;if(typeof m=="string"){var I={};I.__data__=m,m=I}else this.u&&(I={},I.__data__=vs(m),m=I);S.i.push(new f5(S.Ya++,m)),S.G==3&&rp(S)},Si.prototype.N=function(){this.g.l=null,delete this.j,Jv(this.g),delete this.g,Si.aa.N.call(this)};function OP(m){Nn.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var S=m.__sm__;if(S){e:{for(const I in S){m=I;break e}m=void 0}(this.i=m)&&(m=this.i,S=S!==null&&m in S?S[m]:void 0),this.data=S}else this.data=m}y(OP,Nn);function jP(){Bi.call(this),this.status=1}y(jP,Bi);function Ul(m){this.g=m}y(Ul,NP),Ul.prototype.ua=function(){ze(this.g,"a")},Ul.prototype.ta=function(m){ze(this.g,new OP(m))},Ul.prototype.sa=function(m){ze(this.g,new jP)},Ul.prototype.ra=function(){ze(this.g,"b")},op.prototype.createWebChannel=op.prototype.g,Si.prototype.send=Si.prototype.o,Si.prototype.open=Si.prototype.m,Si.prototype.close=Si.prototype.close,hO=function(){return new op},cO=function(){return Vl()},uO=Pi,J_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ge.NO_ERROR=0,Ge.TIMEOUT=8,Ge.HTTP_ERROR=6,_m=Ge,xn.COMPLETE="complete",lO=xn,it.EventType=rn,rn.OPEN="a",rn.CLOSE="b",rn.ERROR="c",rn.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,wh=it,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,aO=Mt}).apply(typeof Dp<"u"?Dp:typeof self<"u"?self:typeof window<"u"?window:{});const LC="@firebase/firestore",FC="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$n.UNAUTHENTICATED=new $n(null),$n.GOOGLE_CREDENTIALS=new $n("google-credentials-uid"),$n.FIRST_PARTY=new $n("first-party-uid"),$n.MOCK_USER=new $n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=new B1("@firebase/firestore");function ql(){return vl.logLevel}function ye(n,...e){if(vl.logLevel<=Ke.DEBUG){const t=e.map(z1);vl.debug(`Firestore (${Dc}): ${n}`,...t)}}function Ws(n,...e){if(vl.logLevel<=Ke.ERROR){const t=e.map(z1);vl.error(`Firestore (${Dc}): ${n}`,...t)}}function sc(n,...e){if(vl.logLevel<=Ke.WARN){const t=e.map(z1);vl.warn(`Firestore (${Dc}): ${n}`,...t)}}function z1(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,dO(n,i,t)}function dO(n,e,t){let i=`FIRESTORE (${Dc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ws(i),new Error(i)}function at(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||dO(e,r,i)}function je(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Nr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class D7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($n.UNAUTHENTICATED))}shutdown(){}}class R7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class M7{constructor(e){this.t=e,this.currentUser=$n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){at(this.o===void 0,42304);let i=this.i;const r=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let s=new Ms;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ms,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ms)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(at(typeof i.accessToken=="string",31837,{l:i}),new fO(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new $n(e)}}class N7{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=$n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class O7{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new N7(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t($n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j7{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){at(this.o===void 0,3512);const i=s=>{s.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,ye("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new VC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(at(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new VC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L7(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=L7(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%62))}return i}}function We(n,e){return n<e?-1:n>e?1:0}function ew(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),r=e.codePointAt(t);if(i!==r){if(i<128&&r<128)return We(i,r);{const s=pO(),o=F7(s.encode(BC(n,t)),s.encode(BC(e,t)));return o!==0?o:We(i,r)}}t+=i>65535?2:1}return We(n.length,e.length)}function BC(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function F7(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return We(n[t],e[t]);return We(n.length,e.length)}function oc(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=-62135596800,$C=1e6;class ln{static now(){return ln.fromMillis(Date.now())}static fromDate(e){return ln.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*$C);return new ln(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<UC)throw new ve(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$C}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-UC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new ln(0,0))}static max(){return new Oe(new ln(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="__name__";class Br{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ie(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ie(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Br.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Br?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=Br.compareSegments(e.get(r),t.get(r));if(s!==0)return s}return We(e.length,t.length)}static compareSegments(e,t){const i=Br.isNumericId(e),r=Br.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?Br.extractNumericId(e).compare(Br.extractNumericId(t)):ew(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zo.fromString(e.substring(4,e.length-2))}}class xt extends Br{construct(e,t,i){return new xt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new xt(t)}static emptyPath(){return new xt([])}}const V7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class An extends Br{construct(e,t,i){return new An(e,t,i)}static isValidIdentifier(e){return V7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),An.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zC}static keyField(){return new An([zC])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(i.length===0)throw new ve(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new ve(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ve(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new ve(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new An(t)}static emptyPath(){return new An([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(xt.fromString(e))}static fromName(e){return new Ce(xt.fromString(e).popFirst(5))}static empty(){return new Ce(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return xt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new xt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id=-1;function B7(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Oe.fromTimestamp(i===1e9?new ln(t+1,0):new ln(t,i));return new la(r,Ce.empty(),e)}function U7(n){return new la(n.readTime,n.key,Id)}class la{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new la(Oe.min(),Ce.empty(),Id)}static max(){return new la(Oe.max(),Ce.empty(),Id)}}function $7(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ce.comparator(n.documentKey,e.documentKey),t!==0?t:We(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rc(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==z7)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,i)=>{t(e)})}static reject(e){return new re((t,i)=>{i(e)})}static waitFor(e){return new re((t,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&t()},l=>i(l))}),o=!0,s===r&&t()})}static or(e){let t=re.resolve(!1);for(const i of e)t=t.next(r=>r?re.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new re((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;t(e[u]).next(c=>{o[u]=c,++a,a===s&&i(o)},c=>r(c))}})}static doWhile(e,t){return new re((i,r)=>{const s=()=>{e()===!0?t().next(()=>{s()},r):i()};s()})}}function W7(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Mc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}nv.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=-1;function iv(n){return n==null}function _g(n){return n===0&&1/n==-1/0}function G7(n){return typeof n=="number"&&Number.isInteger(n)&&!_g(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="";function Y7(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=HC(e)),e=X7(n.get(t),e);return HC(e)}function X7(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="";break;case gO:t+="";break;default:t+=s}}return t}function HC(n){return n+gO+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ml(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function yO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,t){this.comparator=e,this.root=t||Pn.EMPTY}insert(e,t){return new Rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rp(this.root,e,this.comparator,!0)}}class Rp{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pn{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??Pn.RED,this.left=r??Pn.EMPTY,this.right=s??Pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Pn(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return Pn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1;Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,t,i,r,s){return this}insert(e,t,i){return new Pn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new GC(this.data.getIterator())}getIteratorFrom(e){return new GC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new un(this.comparator);return t.data=e,t}}class GC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.fields=e,e.sort(An.comparator)}static empty(){return new br([])}unionWith(e){let t=new un(An.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new br(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oc(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new vO("Invalid base64 string: "+s):s}}(e);return new Rn(t)}static fromUint8Array(e){const t=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new Rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const K7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ua(n){if(at(!!n,39018),typeof n=="string"){let e=0;const t=K7.exec(n);if(at(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ht(n.seconds),nanos:Ht(n.nanos)}}function Ht(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ca(n){return typeof n=="string"?Rn.fromBase64String(n):Rn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="server_timestamp",_O="__type__",wO="__previous_value__",xO="__local_write_time__";function W1(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[_O])===null||t===void 0?void 0:t.stringValue)===bO}function rv(n){const e=n.mapValue.fields[wO];return W1(e)?rv(e):e}function Dd(n){const e=ua(n.mapValue.fields[xO].timestampValue);return new ln(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(e,t,i,r,s,o,a,l,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const wg="(default)";class Rd{constructor(e,t){this.projectId=e,this.database=t||wg}static empty(){return new Rd("","")}get isDefaultDatabase(){return this.database===wg}isEqual(e){return e instanceof Rd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="__type__",EO="__max__",Mp={mapValue:{fields:{__type__:{stringValue:EO}}}},PO="__vector__",xg="value";function ha(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?W1(n)?4:Z7(n)?9007199254740991:Q7(n)?10:11:Ie(28295,{value:n})}function as(n,e){if(n===e)return!0;const t=ha(n);if(t!==ha(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Dd(n).isEqual(Dd(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=ua(r.timestampValue),a=ua(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,s){return ca(r.bytesValue).isEqual(ca(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Ht(r.geoPointValue.latitude)===Ht(s.geoPointValue.latitude)&&Ht(r.geoPointValue.longitude)===Ht(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ht(r.integerValue)===Ht(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Ht(r.doubleValue),a=Ht(s.doubleValue);return o===a?_g(o)===_g(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return oc(n.arrayValue.values||[],e.arrayValue.values||[],as);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(WC(o)!==WC(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!as(o[l],a[l])))return!1;return!0}(n,e);default:return Ie(52216,{left:n})}}function Md(n,e){return(n.values||[]).find(t=>as(t,e))!==void 0}function ac(n,e){if(n===e)return 0;const t=ha(n),i=ha(e);if(t!==i)return We(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return We(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ht(s.integerValue||s.doubleValue),l=Ht(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return YC(n.timestampValue,e.timestampValue);case 4:return YC(Dd(n),Dd(e));case 5:return ew(n.stringValue,e.stringValue);case 6:return function(s,o){const a=ca(s),l=ca(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=We(a[u],l[u]);if(c!==0)return c}return We(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=We(Ht(s.latitude),Ht(o.latitude));return a!==0?a:We(Ht(s.longitude),Ht(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return XC(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const h=s.fields||{},d=o.fields||{},f=(a=h[xg])===null||a===void 0?void 0:a.arrayValue,y=(l=d[xg])===null||l===void 0?void 0:l.arrayValue,g=We(((u=f==null?void 0:f.values)===null||u===void 0?void 0:u.length)||0,((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0);return g!==0?g:XC(f,y)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===Mp.mapValue&&o===Mp.mapValue)return 0;if(s===Mp.mapValue)return 1;if(o===Mp.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const d=ew(l[h],c[h]);if(d!==0)return d;const f=ac(a[l[h]],u[c[h]]);if(f!==0)return f}return We(l.length,c.length)}(n.mapValue,e.mapValue);default:throw Ie(23264,{Pe:t})}}function YC(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return We(n,e);const t=ua(n),i=ua(e),r=We(t.seconds,i.seconds);return r!==0?r:We(t.nanos,i.nanos)}function XC(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const s=ac(t[r],i[r]);if(s)return s}return We(t.length,i.length)}function lc(n){return tw(n)}function tw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ua(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ca(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ce.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const s of t.values||[])r?r=!1:i+=",",i+=tw(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${tw(t.fields[o])}`;return r+"}"}(n.mapValue):Ie(61005,{value:n})}function wm(n){switch(ha(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rv(n);return e?16+wm(e):16;case 5:return 2*n.stringValue.length;case 6:return ca(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+wm(s),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return Ml(i.fields,(s,o)=>{r+=s.length+wm(o)}),r}(n.mapValue);default:throw Ie(13486,{value:n})}}function KC(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function nw(n){return!!n&&"integerValue"in n}function G1(n){return!!n&&"arrayValue"in n}function qC(n){return!!n&&"nullValue"in n}function QC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xm(n){return!!n&&"mapValue"in n}function Q7(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[TO])===null||t===void 0?void 0:t.stringValue)===PO}function $h(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ml(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=$h(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$h(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Z7(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===EO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.value=e}static empty(){return new Yi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!xm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$h(t)}setAll(e){let t=An.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}o?i[a.lastSegment()]=$h(o):r.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());xm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return as(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];xm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Ml(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Yi($h(this.value))}}function SO(n){const e=[];return Ml(n.fields,(t,i)=>{const r=new An([t]);if(xm(i)){const s=SO(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,t,i,r,s,o,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Gn(e,0,Oe.min(),Oe.min(),Oe.min(),Yi.empty(),0)}static newFoundDocument(e,t,i,r){return new Gn(e,1,t,Oe.min(),i,r,0)}static newNoDocument(e,t){return new Gn(e,2,t,Oe.min(),Oe.min(),Yi.empty(),0)}static newUnknownDocument(e,t){return new Gn(e,3,t,Oe.min(),Oe.min(),Yi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,t){this.position=e,this.inclusive=t}}function ZC(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],o=n.position[r];if(s.field.isKeyField()?i=Ce.comparator(Ce.fromName(o.referenceValue),t.key):i=ac(o,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function JC(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!as(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,t="asc"){this.field=e,this.dir=t}}function J7(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{}class Zt extends CO{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new tG(e,t,i):t==="array-contains"?new rG(e,i):t==="in"?new sG(e,i):t==="not-in"?new oG(e,i):t==="array-contains-any"?new aG(e,i):new Zt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new nG(e,i):new iG(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ac(t,this.value)):t!==null&&ha(this.value)===ha(t)&&this.matchesComparison(ac(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends CO{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Rr(e,t)}matches(e){return AO(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function AO(n){return n.op==="and"}function kO(n){return eG(n)&&AO(n)}function eG(n){for(const e of n.filters)if(e instanceof Rr)return!1;return!0}function iw(n){if(n instanceof Zt)return n.field.canonicalString()+n.op.toString()+lc(n.value);if(kO(n))return n.filters.map(e=>iw(e)).join(",");{const e=n.filters.map(t=>iw(t)).join(",");return`${n.op}(${e})`}}function IO(n,e){return n instanceof Zt?function(i,r){return r instanceof Zt&&i.op===r.op&&i.field.isEqual(r.field)&&as(i.value,r.value)}(n,e):n instanceof Rr?function(i,r){return r instanceof Rr&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&IO(o,r.filters[a]),!0):!1}(n,e):void Ie(19439)}function DO(n){return n instanceof Zt?function(t){return`${t.field.canonicalString()} ${t.op} ${lc(t.value)}`}(n):n instanceof Rr?function(t){return t.op.toString()+" {"+t.getFilters().map(DO).join(" ,")+"}"}(n):"Filter"}class tG extends Zt{constructor(e,t,i){super(e,t,i),this.key=Ce.fromName(i.referenceValue)}matches(e){const t=Ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class nG extends Zt{constructor(e,t){super(e,"in",t),this.keys=RO("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class iG extends Zt{constructor(e,t){super(e,"not-in",t),this.keys=RO("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function RO(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ce.fromName(i.referenceValue))}class rG extends Zt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return G1(t)&&Md(t.arrayValue,this.value)}}class sG extends Zt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Md(this.value.arrayValue,t)}}class oG extends Zt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Md(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Md(this.value.arrayValue,t)}}class aG extends Zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!G1(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Md(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lG{constructor(e,t=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function eA(n,e=null,t=[],i=[],r=null,s=null,o=null){return new lG(n,e,t,i,r,s,o)}function Y1(n){const e=je(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>iw(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),iv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>lc(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>lc(i)).join(",")),e.Ie=t}return e.Ie}function X1(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!J7(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!IO(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!JC(n.startAt,e.startAt)&&JC(n.endAt,e.endAt)}function rw(n){return Ce.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function uG(n,e,t,i,r,s,o,a){return new Nc(n,e,t,i,r,s,o,a)}function sv(n){return new Nc(n)}function tA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function MO(n){return n.collectionGroup!==null}function zh(n){const e=je(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),t.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new un(An.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new Nd(s,i))}),t.has(An.keyField().canonicalString())||e.Ee.push(new Nd(An.keyField(),i))}return e.Ee}function qr(n){const e=je(n);return e.de||(e.de=cG(e,zh(n))),e.de}function cG(n,e){if(n.limitType==="F")return eA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Nd(r.field,s)});const t=n.endAt?new Tg(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Tg(n.startAt.position,n.startAt.inclusive):null;return eA(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function sw(n,e){const t=n.filters.concat([e]);return new Nc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ow(n,e,t){return new Nc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ov(n,e){return X1(qr(n),qr(e))&&n.limitType===e.limitType}function NO(n){return`${Y1(qr(n))}|lt:${n.limitType}`}function Ql(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>DO(r)).join(", ")}]`),iv(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>lc(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>lc(r)).join(",")),`Target(${i})`}(qr(n))}; limitType=${n.limitType})`}function av(n,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Ce.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(const s of zh(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){const u=ZC(o,a,l);return o.inclusive?u<=0:u<0}(i.startAt,zh(i),r)||i.endAt&&!function(o,a,l){const u=ZC(o,a,l);return o.inclusive?u>=0:u>0}(i.endAt,zh(i),r))}(n,e)}function hG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function OO(n){return(e,t)=>{let i=!1;for(const r of zh(n)){const s=dG(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function dG(n,e,t){const i=n.field.isKeyField()?Ce.comparator(e.key,t.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ac(l,u):Ie(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ie(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ml(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return yO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fG=new Rt(Ce.comparator);function Gs(){return fG}const jO=new Rt(Ce.comparator);function xh(...n){let e=jO;for(const t of n)e=e.insert(t.key,t);return e}function LO(n){let e=jO;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Wa(){return Hh()}function FO(){return Hh()}function Hh(){return new Nl(n=>n.toString(),(n,e)=>n.isEqual(e))}const pG=new Rt(Ce.comparator),mG=new un(Ce.comparator);function qe(...n){let e=mG;for(const t of n)e=e.add(t);return e}const gG=new un(We);function yG(){return gG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_g(e)?"-0":e}}function VO(n){return{integerValue:""+n}}function vG(n,e){return G7(e)?VO(e):K1(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this._=void 0}}function bG(n,e,t){return n instanceof Od?function(r,s){const o={fields:{[_O]:{stringValue:bO},[xO]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&W1(s)&&(s=rv(s)),s&&(o.fields[wO]=s),{mapValue:o}}(t,e):n instanceof jd?UO(n,e):n instanceof Ld?$O(n,e):function(r,s){const o=BO(r,s),a=nA(o)+nA(r.Re);return nw(o)&&nw(r.Re)?VO(a):K1(r.serializer,a)}(n,e)}function _G(n,e,t){return n instanceof jd?UO(n,e):n instanceof Ld?$O(n,e):t}function BO(n,e){return n instanceof Eg?function(i){return nw(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class Od extends lv{}class jd extends lv{constructor(e){super(),this.elements=e}}function UO(n,e){const t=zO(e);for(const i of n.elements)t.some(r=>as(r,i))||t.push(i);return{arrayValue:{values:t}}}class Ld extends lv{constructor(e){super(),this.elements=e}}function $O(n,e){let t=zO(e);for(const i of n.elements)t=t.filter(r=>!as(r,i));return{arrayValue:{values:t}}}class Eg extends lv{constructor(e,t){super(),this.serializer=e,this.Re=t}}function nA(n){return Ht(n.integerValue||n.doubleValue)}function zO(n){return G1(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(e,t){this.field=e,this.transform=t}}function xG(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof jd&&r instanceof jd||i instanceof Ld&&r instanceof Ld?oc(i.elements,r.elements,as):i instanceof Eg&&r instanceof Eg?as(i.Re,r.Re):i instanceof Od&&r instanceof Od}(n.transform,e.transform)}class TG{constructor(e,t){this.version=e,this.transformResults=t}}class Qr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qr}static exists(e){return new Qr(void 0,e)}static updateTime(e){return new Qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class uv{}function HO(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new q1(n.key,Qr.none()):new Sf(n.key,n.data,Qr.none());{const t=n.data,i=Yi.empty();let r=new un(An.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Ol(n.key,i,new br(r.toArray()),Qr.none())}}function EG(n,e,t){n instanceof Sf?function(r,s,o){const a=r.value.clone(),l=rA(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ol?function(r,s,o){if(!Tm(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=rA(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(WO(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Wh(n,e,t,i){return n instanceof Sf?function(s,o,a,l){if(!Tm(s.precondition,o))return a;const u=s.value.clone(),c=sA(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ol?function(s,o,a,l){if(!Tm(s.precondition,o))return a;const u=sA(s.fieldTransforms,l,o),c=o.data;return c.setAll(WO(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(n,e,t,i):function(s,o,a){return Tm(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function PG(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=BO(i.transform,r||null);s!=null&&(t===null&&(t=Yi.empty()),t.set(i.field,s))}return t||null}function iA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&oc(i,r,(s,o)=>xG(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Sf extends uv{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ol extends uv{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function WO(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function rA(n,e,t){const i=new Map;at(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let r=0;r<t.length;r++){const s=n[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,_G(o,a,t[r]))}return i}function sA(n,e,t){const i=new Map;for(const r of n){const s=r.transform,o=t.data.field(r.field);i.set(r.field,bG(s,o,e))}return i}class q1 extends uv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SG extends uv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&EG(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Wh(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Wh(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=FO();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(r.key)?null:a;const l=HO(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(Oe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qe())}isEqual(e){return this.batchId===e.batchId&&oc(this.mutations,e.mutations,(t,i)=>iA(t,i))&&oc(this.baseMutations,e.baseMutations,(t,i)=>iA(t,i))}}class Q1{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){at(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let r=function(){return pG}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new Q1(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,Qe;function IG(n){switch(n){case ie.OK:return Ie(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ie(15467,{code:n})}}function GO(n){if(n===void 0)return Ws("GRPC error has no .code"),ie.UNKNOWN;switch(n){case Yt.OK:return ie.OK;case Yt.CANCELLED:return ie.CANCELLED;case Yt.UNKNOWN:return ie.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return ie.INTERNAL;case Yt.UNAVAILABLE:return ie.UNAVAILABLE;case Yt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Yt.NOT_FOUND:return ie.NOT_FOUND;case Yt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Yt.ABORTED:return ie.ABORTED;case Yt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Yt.DATA_LOSS:return ie.DATA_LOSS;default:return Ie(39323,{code:n})}}(Qe=Yt||(Yt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DG=new Zo([4294967295,4294967295],0);function oA(n){const e=pO().encode(n),t=new oO;return t.update(e),new Uint8Array(t.digest())}function aA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Zo([t,i],0),new Zo([r,s],0)]}class Z1{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Th(`Invalid padding: ${t}`);if(i<0)throw new Th(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Th(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Th(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Zo.fromNumber(this.pe)}we(e,t,i){let r=e.add(t.multiply(Zo.fromNumber(i)));return r.compare(DG)===1&&(r=new Zo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=oA(e),[i,r]=aA(t);for(let s=0;s<this.hashCount;s++){const o=this.we(i,r,s);if(!this.be(o))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Z1(s,r,t);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const t=oA(e),[i,r]=aA(t);for(let s=0;s<this.hashCount;s++){const o=this.we(i,r,s);this.Se(o)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Th extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Cf.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new cv(Oe.min(),r,new Rt(We),Gs(),qe())}}class Cf{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Cf(i,t,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,t,i,r){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=r}}class YO{constructor(e,t){this.targetId=e,this.Ce=t}}class XO{constructor(e,t,i=Rn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class lA{constructor(){this.Fe=0,this.Me=uA(),this.xe=Rn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=qe(),t=qe(),i=qe();return this.Me.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Ie(38017,{changeType:s})}}),new Cf(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=uA()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,at(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class RG{constructor(e){this.ze=e,this.je=new Map,this.He=Gs(),this.Je=Np(),this.Ye=Np(),this.Ze=new Rt(We)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Ie(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,r)=>{this.it(r)&&t(r)})}ot(e){const t=e.targetId,i=e.Ce.count,r=this._t(t);if(r){const s=r.target;if(rw(s))if(i===0){const o=new Ce(s.path);this.tt(t,o,Gn.newNoDocument(o,Oe.min()))}else at(i===1,20013,{expectedCount:i});else{const o=this.ut(t);if(o!==i){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(t);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,u)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t;let o,a;try{o=ca(i).toUint8Array()}catch(l){if(l instanceof vO)return sc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Z1(o,r,s)}catch(l){return sc(l instanceof Th?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let r=0;return i.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,s,null),r++)}),r}It(e){const t=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&rw(a.target)){const l=new Ce(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Gn.newNoDocument(l,e))}s.Le&&(t.set(o,s.qe()),s.Qe())}});let i=qe();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const r=new cv(e,t,this.Ze,this.He,i);return this.He=Gs(),this.Je=Np(),this.Ye=Np(),this.Ze=new Rt(We),r}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new lA,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new un(We),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new un(We),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new lA),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Np(){return new Rt(Ce.comparator)}function uA(){return new Rt(Ce.comparator)}const MG={asc:"ASCENDING",desc:"DESCENDING"},NG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OG={and:"AND",or:"OR"};class jG{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function aw(n,e){return n.useProto3Json||iv(e)?e:{value:e}}function Pg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KO(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function LG(n,e){return Pg(n,e.toTimestamp())}function Zr(n){return at(!!n,49232),Oe.fromTimestamp(function(t){const i=ua(t);return new ln(i.seconds,i.nanos)}(n))}function J1(n,e){return lw(n,e).canonicalString()}function lw(n,e){const t=function(r){return new xt(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function qO(n){const e=xt.fromString(n);return at(tj(e),10190,{key:e.toString()}),e}function uw(n,e){return J1(n.databaseId,e.path)}function H0(n,e){const t=qO(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ce(ZO(t))}function QO(n,e){return J1(n.databaseId,e)}function FG(n){const e=qO(n);return e.length===4?xt.emptyPath():ZO(e)}function cw(n){return new xt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ZO(n){return at(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function cA(n,e,t){return{name:uw(n,e),fields:t.value.mapValue.fields}}function VG(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ie(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(at(c===void 0||typeof c=="string",58123),Rn.fromBase64String(c||"")):(at(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Rn.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?ie.UNKNOWN:GO(u.code);return new ve(c,u.message||"")}(o);t=new XO(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=H0(n,i.document.name),s=Zr(i.document.updateTime),o=i.document.createTime?Zr(i.document.createTime):Oe.min(),a=new Yi({mapValue:{fields:i.document.fields}}),l=Gn.newFoundDocument(r,s,o,a),u=i.targetIds||[],c=i.removedTargetIds||[];t=new Em(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=H0(n,i.document),s=i.readTime?Zr(i.readTime):Oe.min(),o=Gn.newNoDocument(r,s),a=i.removedTargetIds||[];t=new Em([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=H0(n,i.document),s=i.removedTargetIds||[];t=new Em([],s,r,null)}else{if(!("filter"in e))return Ie(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new kG(r,s),a=i.targetId;t=new YO(a,o)}}return t}function BG(n,e){let t;if(e instanceof Sf)t={update:cA(n,e.key,e.value)};else if(e instanceof q1)t={delete:uw(n,e.key)};else if(e instanceof Ol)t={update:cA(n,e.key,e.data),updateMask:KG(e.fieldMask)};else{if(!(e instanceof SG))return Ie(16599,{ft:e.type});t={verify:uw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof Od)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof jd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ld)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Eg)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw Ie(20930,{transform:o.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:LG(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ie(27497)}(n,e.precondition)),t}function UG(n,e){return n&&n.length>0?(at(e!==void 0,14353),n.map(t=>function(r,s){let o=r.updateTime?Zr(r.updateTime):Zr(s);return o.isEqual(Oe.min())&&(o=Zr(s)),new TG(o,r.transformResults||[])}(t,e))):[]}function $G(n,e){return{documents:[QO(n,e.path)]}}function zG(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=QO(n,r);const s=function(u){if(u.length!==0)return ej(Rr.create(u,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:Zl(d.field),direction:GG(d.dir)}}(c))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=aw(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:t,parent:r}}function HG(n){let e=FG(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){at(i===1,65062);const c=t.from[0];c.allDescendants?r=c.collectionId:e=e.child(c.collectionId)}let s=[];t.where&&(s=function(h){const d=JO(h);return d instanceof Rr&&kO(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=function(h){return h.map(d=>function(y){return new Nd(Jl(y.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(d))}(t.orderBy));let a=null;t.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,iv(d)?null:d}(t.limit));let l=null;t.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new Tg(f,d)}(t.startAt));let u=null;return t.endAt&&(u=function(h){const d=!h.before,f=h.values||[];return new Tg(f,d)}(t.endAt)),uG(e,r,o,s,a,"F",l,u)}function WG(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:r})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function JO(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Jl(t.unaryFilter.field);return Zt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Jl(t.unaryFilter.field);return Zt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Jl(t.unaryFilter.field);return Zt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Jl(t.unaryFilter.field);return Zt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}}(n):n.fieldFilter!==void 0?function(t){return Zt.create(Jl(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Rr.create(t.compositeFilter.filters.map(i=>JO(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}}(t.compositeFilter.op))}(n):Ie(30097,{filter:n})}function GG(n){return MG[n]}function YG(n){return NG[n]}function XG(n){return OG[n]}function Zl(n){return{fieldPath:n.canonicalString()}}function Jl(n){return An.fromServerFormat(n.fieldPath)}function ej(n){return n instanceof Zt?function(t){if(t.op==="=="){if(QC(t.value))return{unaryFilter:{field:Zl(t.field),op:"IS_NAN"}};if(qC(t.value))return{unaryFilter:{field:Zl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(QC(t.value))return{unaryFilter:{field:Zl(t.field),op:"IS_NOT_NAN"}};if(qC(t.value))return{unaryFilter:{field:Zl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zl(t.field),op:YG(t.op),value:t.value}}}(n):n instanceof Rr?function(t){const i=t.getFilters().map(r=>ej(r));return i.length===1?i[0]:{compositeFilter:{op:XG(t.op),filters:i}}}(n):Ie(54877,{filter:n})}function KG(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function tj(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,t,i,r,s=Oe.min(),o=Oe.min(),a=Rn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new jo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{constructor(e){this.wt=e}}function QG(n){const e=HG({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ow(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{constructor(){this.yn=new JG}addToCollectionParentIndex(e,t){return this.yn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(la.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(la.min())}updateCollectionGroup(e,t,i){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class JG{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new un(xt.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new un(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nj=41943040;class ci{static withCacheSize(e){return new ci(e,ci.DEFAULT_COLLECTION_PERCENTILE,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ci.DEFAULT_COLLECTION_PERCENTILE=10,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ci.DEFAULT=new ci(nj,ci.DEFAULT_COLLECTION_PERCENTILE,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ci.DISABLED=new ci(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new uc(0)}static ir(){return new uc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="LruGarbageCollector",eY=1048576;function fA([n,e],[t,i]){const r=We(n,t);return r===0?We(e,i):r}class tY{constructor(e){this.cr=e,this.buffer=new un(fA),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();fA(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class nY{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ye(dA,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Mc(t)?ye(dA,"Ignoring IndexedDB error during garbage collection: ",t):await Rc(t)}await this.Ir(3e5)})}}class iY{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return re.resolve(nv.le);const i=new tY(t);return this.Er.forEachTarget(e,r=>i.Pr(r.sequenceNumber)).next(()=>this.Er.Ar(e,r=>i.Pr(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Er.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(hA)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hA):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let i,r,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),r=this.params.maximumSequenceNumbersToCollect):r=h,o=Date.now(),this.nthSequenceNumber(e,r))).next(h=>(i=h,a=Date.now(),this.removeTargets(e,i,t))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(h=>(u=Date.now(),ql()<=Ke.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:h})))}}function rY(n,e){return new iY(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sY{constructor(){this.changes=new Nl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?re.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oY{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aY{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&Wh(i.mutation,r,br.empty(),ln.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,qe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=qe()){const r=Wa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=xh();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const i=Wa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,qe()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,i,r){let s=Gs();const o=Hh(),a=function(){return Hh()}();return t.forEach((l,u)=>{const c=i.get(u.key);r.has(u.key)&&(c===void 0||c.mutation instanceof Ol)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Wh(c.mutation,u,c.mutation.getFieldMask(),ln.now())):o.set(u.key,br.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),t.forEach((u,c)=>{var h;return a.set(u,new oY(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){const i=Hh();let r=new Rt((o,a)=>o-a),s=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=t.get(l);if(u===null)return;let c=i.get(l)||br.empty();c=a.applyToLocalView(u,c),i.set(l,c);const h=(r.get(a.batchId)||qe()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=FO();c.forEach(d=>{if(!s.has(d)){const f=HO(t.get(d),i.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return re.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(o){return Ce.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):MO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):re.resolve(Wa());let a=Id,l=s;return o.next(u=>re.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?re.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,qe())).next(c=>({batchId:a,changes:LO(c)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ce(t)).next(i=>{let r=xh();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const s=t.collectionGroup;let o=xh();return this.indexManager.getCollectionParents(e,s).next(a=>re.forEach(a,l=>{const u=function(h,d){return new Nc(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(c=>{c.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Gn.newInvalidDocument(c)))});let a=xh();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Wh(c.mutation,u,br.empty(),ln.now()),av(t,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lY{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return re.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:Zr(r.createTime)}}(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(r){return{name:r.name,query:QG(r.bundledQuery),readTime:Zr(r.readTime)}}(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uY{constructor(){this.overlays=new Rt(Ce.comparator),this.Or=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Wa();return re.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.St(e,t,s)}),re.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Or.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Or.delete(i)),re.resolve()}getOverlaysForCollection(e,t,i){const r=Wa(),s=t.length+1,o=new Ce(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return re.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Rt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>i){let c=s.get(u.largestBatchId);c===null&&(c=Wa(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Wa(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=r)););return re.resolve(a)}St(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Or.get(r.largestBatchId).delete(i.key);this.Or.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new AG(t,i));let s=this.Or.get(t);s===void 0&&(s=qe(),this.Or.set(t,s)),this.Or.set(t,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cY{constructor(){this.sessionToken=Rn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(){this.Nr=new un(mn.Br),this.Lr=new un(mn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const i=new mn(e,t);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Qr(new mn(e,t))}$r(e,t){e.forEach(i=>this.removeReference(i,t))}Ur(e){const t=new Ce(new xt([])),i=new mn(t,e),r=new mn(t,e+1),s=[];return this.Lr.forEachInRange([i,r],o=>{this.Qr(o),s.push(o.key)}),s}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Ce(new xt([])),i=new mn(t,e),r=new mn(t,e+1);let s=qe();return this.Lr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new mn(e,0),i=this.Nr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class mn{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Ce.comparator(e.key,t.key)||We(e.Gr,t.Gr)}static kr(e,t){return We(e.Gr,t.Gr)||Ce.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new un(mn.Br)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const s=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new CG(s,t,i,r);this.mutationQueue.push(o);for(const a of r)this.zr=this.zr.add(new mn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return re.resolve(o)}lookupMutationBatch(e,t){return re.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.Hr(i),s=r<0?0:r;return re.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?H1:this.Jn-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new mn(t,0),r=new mn(t,Number.POSITIVE_INFINITY),s=[];return this.zr.forEachInRange([i,r],o=>{const a=this.jr(o.Gr);s.push(a)}),re.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new un(We);return t.forEach(r=>{const s=new mn(r,0),o=new mn(r,Number.POSITIVE_INFINITY);this.zr.forEachInRange([s,o],a=>{i=i.add(a.Gr)})}),re.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;Ce.isDocumentKey(s)||(s=s.child(""));const o=new mn(new Ce(s),0);let a=new un(We);return this.zr.forEachWhile(l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(l.Gr)),!0)},o),re.resolve(this.Jr(a))}Jr(e){const t=[];return e.forEach(i=>{const r=this.jr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){at(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return re.forEach(t.mutations,r=>{const s=new mn(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,t){const i=new mn(t,0),r=this.zr.firstAfterOrEqual(i);return re.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dY{constructor(e){this.Zr=e,this.docs=function(){return new Rt(Ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.Zr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return re.resolve(i?i.document.mutableCopy():Gn.newInvalidDocument(t))}getEntries(e,t){let i=Gs();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Gn.newInvalidDocument(r))}),re.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=Gs();const o=t.path,a=new Ce(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||$7(U7(c),i)<=0||(r.has(c.key)||av(t,c))&&(s=s.insert(c.key,c.mutableCopy()))}return re.resolve(s)}getAllFromCollectionGroup(e,t,i,r){Ie(9500)}Xr(e,t){return re.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new fY(this)}getSize(e){return re.resolve(this.size)}}class fY extends sY{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.vr.addEntry(e,r)):this.vr.removeEntry(i)}),re.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pY{constructor(e){this.persistence=e,this.ei=new Nl(t=>Y1(t),X1),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.ti=0,this.ni=new eT,this.targetCount=0,this.ri=uc.rr()}forEachTarget(e,t){return this.ei.forEach((i,r)=>t(r)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ti&&(this.ti=t),re.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new uc(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.ar(t),re.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.ei.forEach((o,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.ei.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),re.waitFor(s).next(()=>r)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const i=this.ei.get(t)||null;return re.resolve(i)}addMatchingKeys(e,t,i){return this.ni.qr(t,i),re.resolve()}removeMatchingKeys(e,t,i){this.ni.$r(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),re.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),re.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ni.Wr(t);return re.resolve(i)}containsKey(e,t){return re.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,t){this.ii={},this.overlays={},this.si=new nv(0),this.oi=!1,this.oi=!0,this._i=new cY,this.referenceDelegate=e(this),this.ai=new pY(this),this.indexManager=new ZG,this.remoteDocumentCache=function(r){return new dY(r)}(i=>this.referenceDelegate.ui(i)),this.serializer=new qG(t),this.ci=new lY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uY,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ii[e.toKey()];return i||(i=new hY(t,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,i){ye("MemoryPersistence","Starting transaction:",e);const r=new mY(this.si.next());return this.referenceDelegate.li(),i(r).next(s=>this.referenceDelegate.hi(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Pi(e,t){return re.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,t)))}}class mY extends H7{constructor(e){super(),this.currentSequenceNumber=e}}class tT{constructor(e){this.persistence=e,this.Ti=new eT,this.Ii=null}static Ei(e){return new tT(e)}get di(){if(this.Ii)return this.Ii;throw Ie(60996)}addReference(e,t,i){return this.Ti.addReference(i,t),this.di.delete(i.toString()),re.resolve()}removeReference(e,t,i){return this.Ti.removeReference(i,t),this.di.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),re.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(r=>this.di.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.di.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.di,i=>{const r=Ce.fromPath(i);return this.Ai(e,r).next(s=>{s||t.removeEntry(r,Oe.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return re.or([()=>re.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Sg{constructor(e,t){this.persistence=e,this.Ri=new Nl(i=>Y7(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=rY(this,t)}static Ei(e,t){return new Sg(e,t)}li(){}hi(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Vr(e){let t=0;return this.Ar(e,i=>{t++}).next(()=>t)}Ar(e,t){return re.forEach(this.Ri,(i,r)=>this.gr(e,i,r).next(s=>s?re.resolve():t(r)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.Xr(e,o=>this.gr(e,o,t).next(a=>{a||(i++,s.removeEntry(o,Oe.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),re.resolve()}removeReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),re.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=wm(e.data.value)),t}gr(e,t,i){return re.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.Ri.get(t);return re.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ls=i,this.hs=r}static Ps(e,t){let i=qe(),r=qe();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new nT(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yY{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return c8()?8:W7(Kn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,i,r){const s={result:null};return this.Rs(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Vs(e,t,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new gY;return this.fs(e,t,o).next(a=>{if(s.result=a,this.Is)return this.gs(e,t,o,a.size)})}).next(()=>s.result)}gs(e,t,i,r){return i.documentReadCount<this.Es?(ql()<=Ke.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Ql(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),re.resolve()):(ql()<=Ke.DEBUG&&ye("QueryEngine","Query:",Ql(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ds*r?(ql()<=Ke.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Ql(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qr(t))):re.resolve())}Rs(e,t){if(tA(t))return re.resolve(null);let i=qr(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=ow(t,null,"F"),i=qr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=qe(...s);return this.As.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const u=this.ps(t,a);return this.ys(t,u,o,l.readTime)?this.Rs(e,ow(t,null,"F")):this.ws(e,u,t,l)}))})))}Vs(e,t,i,r){return tA(t)||r.isEqual(Oe.min())?re.resolve(null):this.As.getDocuments(e,i).next(s=>{const o=this.ps(t,s);return this.ys(t,o,i,r)?re.resolve(null):(ql()<=Ke.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ql(t)),this.ws(e,o,t,B7(r,Id)).next(a=>a))})}ps(e,t){let i=new un(OO(e));return t.forEach((r,s)=>{av(e,s)&&(i=i.add(s))}),i}ys(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}fs(e,t,i){return ql()<=Ke.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Ql(t)),this.As.getDocumentsMatchingQuery(e,t,la.min(),i)}ws(e,t,i,r){return this.As.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="LocalStore",vY=3e8;class bY{constructor(e,t,i,r){this.persistence=e,this.bs=t,this.serializer=r,this.Ss=new Rt(We),this.Ds=new Nl(s=>Y1(s),X1),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aY(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function _Y(n,e,t,i){return new bY(n,e,t,i)}async function rj(n,e){const t=je(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.Fs(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=qe();for(const u of r){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return t.localDocuments.getDocuments(i,l).next(u=>({Ms:u,removedBatchIds:o,addedBatchIds:a}))})})}function wY(n,e){const t=je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,d=h.keys();let f=re.resolve();return d.forEach(y=>{f=f.next(()=>c.getEntry(l,y)).next(g=>{const _=u.docVersions.get(y);at(_!==null,48541),g.version.compareTo(_)<0&&(h.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=qe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function sj(n){const e=je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function xY(n,e){const t=je(n),i=e.snapshotVersion;let r=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Cs.newChangeBuffer({trackRemovals:!0});r=t.Ss;const a=[];e.targetChanges.forEach((c,h)=>{const d=r.get(h);if(!d)return;a.push(t.ai.removeMatchingKeys(s,c.removedDocuments,h).next(()=>t.ai.addMatchingKeys(s,c.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(Rn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,i)),r=r.insert(h,f),function(g,_,v){return g.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=vY?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,f,c)&&a.push(t.ai.updateTargetData(s,f))});let l=Gs(),u=qe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(TY(s,o,e.documentUpdates).next(c=>{l=c.xs,u=c.Os})),!i.isEqual(Oe.min())){const c=t.ai.getLastRemoteSnapshotVersion(s).next(h=>t.ai.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(c)}return re.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(t.Ss=r,s))}function TY(n,e,t){let i=qe(),r=qe();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=Gs();return t.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Oe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ye(iT,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{xs:o,Os:r}})}function EY(n,e){const t=je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=H1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function PY(n,e){const t=je(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.ai.getTargetData(i,e).next(s=>s?(r=s,re.resolve(r)):t.ai.allocateTargetId(i).next(o=>(r=new jo(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.ai.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ss.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(i.targetId,i),t.Ds.set(e,i.targetId)),i})}async function hw(n,e,t){const i=je(n),r=i.Ss.get(e),s=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Mc(o))throw o;ye(iT,`Failed to update sequence numbers for target ${e}: ${o}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(r.target)}function pA(n,e,t){const i=je(n);let r=Oe.min(),s=qe();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=je(l),d=h.Ds.get(c);return d!==void 0?re.resolve(h.Ss.get(d)):h.ai.getTargetData(u,c)}(i,o,qr(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.bs.getDocumentsMatchingQuery(o,e,t?r:Oe.min(),t?s:qe())).next(a=>(SY(i,hG(e),a),{documents:a,Ns:s})))}function SY(n,e,t){let i=n.vs.get(e)||Oe.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.vs.set(e,i)}class mA{constructor(){this.activeTargetIds=yG()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CY{constructor(){this.So=new mA,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,i){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new mA,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="ConnectivityMonitor";class yA{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ye(gA,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ye(gA,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Op=null;function dw(){return Op===null?Op=function(){return 268435456+Math.round(2147483648*Math.random())}():Op++,"0x"+Op.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="RestConnection",kY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IY{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${i}/databases/${r}`,this.qo=this.databaseId.database===wg?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Qo(e,t,i,r,s){const o=dw(),a=this.$o(e,t.toUriEncodedString());ye(W0,`Sending RPC '${e}' ${o}:`,a,i);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,r,s);const{host:u}=new URL(a),c=Ic(u);return this.Ko(e,a,l,i,c).then(h=>(ye(W0,`Received RPC '${e}' ${o}: `,h),h),h=>{throw sc(W0,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",i),h})}Wo(e,t,i,r,s,o){return this.Qo(e,t,i,r,s)}Uo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Dc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}$o(e,t){const i=kY[e];return`${this.Lo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DY{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn="WebChannelConnection";class RY extends IY{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,i,r,s){const o=dw();return new Promise((a,l)=>{const u=new aO;u.setWithCredentials(!0),u.listenOnce(lO.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case _m.NO_ERROR:const h=u.getResponseJson();ye(Bn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case _m.TIMEOUT:ye(Bn,`RPC '${e}' ${o} timed out`),l(new ve(ie.DEADLINE_EXCEEDED,"Request time out"));break;case _m.HTTP_ERROR:const d=u.getStatus();if(ye(Bn,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const y=f==null?void 0:f.error;if(y&&y.status&&y.message){const g=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(b)>=0?b:ie.UNKNOWN}(y.status);l(new ve(g,y.message))}else l(new ve(ie.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ve(ie.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{s_:e,streamId:o,o_:u.getLastErrorCode(),__:u.getLastError()})}}finally{ye(Bn,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(r);ye(Bn,`RPC '${e}' ${o} sending request:`,r),u.send(t,"POST",c,i,15)})}a_(e,t,i){const r=dw(),s=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=hO(),a=cO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;const c=s.join("");ye(Bn,`Creating RPC '${e}' stream ${r}: ${c}`,l);const h=o.createWebChannel(c,l);let d=!1,f=!1;const y=new DY({Go:_=>{f?ye(Bn,`Not sending because RPC '${e}' stream ${r} is closed:`,_):(d||(ye(Bn,`Opening RPC '${e}' stream ${r} transport.`),h.open(),d=!0),ye(Bn,`RPC '${e}' stream ${r} sending:`,_),h.send(_))},zo:()=>h.close()}),g=(_,v,b)=>{_.listen(v,x=>{try{b(x)}catch(P){setTimeout(()=>{throw P},0)}})};return g(h,wh.EventType.OPEN,()=>{f||(ye(Bn,`RPC '${e}' stream ${r} transport opened.`),y.t_())}),g(h,wh.EventType.CLOSE,()=>{f||(f=!0,ye(Bn,`RPC '${e}' stream ${r} transport closed`),y.r_())}),g(h,wh.EventType.ERROR,_=>{f||(f=!0,sc(Bn,`RPC '${e}' stream ${r} transport errored. Name:`,_.name,"Message:",_.message),y.r_(new ve(ie.UNAVAILABLE,"The operation could not be completed")))}),g(h,wh.EventType.MESSAGE,_=>{var v;if(!f){const b=_.data[0];at(!!b,16349);const x=b,P=(x==null?void 0:x.error)||((v=x[0])===null||v===void 0?void 0:v.error);if(P){ye(Bn,`RPC '${e}' stream ${r} received error:`,P);const k=P.status;let M=function(E){const C=Yt[E];if(C!==void 0)return GO(C)}(k),A=P.message;M===void 0&&(M=ie.INTERNAL,A="Unknown error status: "+k+" with message "+P.message),f=!0,y.r_(new ve(M,A)),h.close()}else ye(Bn,`RPC '${e}' stream ${r} received:`,b),y.i_(b)}}),g(a,uO.STAT_EVENT,_=>{_.stat===J_.PROXY?ye(Bn,`RPC '${e}' stream ${r} detected buffering proxy`):_.stat===J_.NOPROXY&&ye(Bn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{y.n_()},0),y}}function G0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(n){return new jG(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,t,i=1e3,r=1.5,s=6e4){this.bi=e,this.timerId=t,this.u_=i,this.c_=r,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),r=Math.max(0,t-i);r>0&&ye("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,r,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="PersistentStream";class aj{constructor(e,t,i,r,s,o,a,l){this.bi=e,this.R_=i,this.V_=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new oj(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Ws(t.toString()),Ws("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.m_===t&&this.B_(i,r)},i=>{e(()=>{const r=new ve(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(r)})})}B_(e,t){const i=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(r=>{i(()=>this.L_(r))}),this.stream.onMessage(r=>{i(()=>++this.p_==1?this.q_(r):this.onNext(r))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ye(vA,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(ye(vA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MY extends aj{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=VG(this.serializer,e),i=function(s){if(!("targetChange"in s))return Oe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Oe.min():o.readTime?Zr(o.readTime):Oe.min()}(e);return this.listener.Q_(t,i)}U_(e){const t={};t.database=cw(this.serializer),t.addTarget=function(s,o){let a;const l=o.target;if(a=rw(l)?{documents:$G(s,l)}:{query:zG(s,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=KO(s,o.resumeToken);const u=aw(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Oe.min())>0){a.readTime=Pg(s,o.snapshotVersion.toTimestamp());const u=aw(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const i=WG(this.serializer,e);i&&(t.labels=i),this.F_(t)}K_(e){const t={};t.database=cw(this.serializer),t.removeTarget=e,this.F_(t)}}class NY extends aj{constructor(e,t,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=UG(e.writeResults,e.commitTime),i=Zr(e.commitTime);return this.listener.j_(i,t)}H_(){const e={};e.database=cw(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>BG(this.serializer,i))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OY{}class jY extends OY{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.J_=!1}Y_(){if(this.J_)throw new ve(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,i,r){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Qo(e,lw(t,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ve(ie.UNKNOWN,s.toString())})}Wo(e,t,i,r,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(e,lw(t,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(ie.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class LY{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ws(t),this.ea=!1):ye("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl="RemoteStore";class FY{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=s,this.ca.vo(o=>{i.enqueueAndForget(async()=>{jl(this)&&(ye(bl,"Restarting streams for network reachability change."),await async function(l){const u=je(l);u.aa.add(4),await Af(u),u.la.set("Unknown"),u.aa.delete(4),await dv(u)}(this))})}),this.la=new LY(i,r)}}async function dv(n){if(jl(n))for(const e of n.ua)await e(!0)}async function Af(n){for(const e of n.ua)await e(!1)}function lj(n,e){const t=je(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),aT(t)?oT(t):Oc(t).b_()&&sT(t,e))}function rT(n,e){const t=je(n),i=Oc(t);t._a.delete(e),i.b_()&&uj(t,e),t._a.size===0&&(i.b_()?i.v_():jl(t)&&t.la.set("Unknown"))}function sT(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Oc(n).U_(e)}function uj(n,e){n.ha.Ke(e),Oc(n).K_(e)}function oT(n){n.ha=new RG({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Oc(n).start(),n.la.ta()}function aT(n){return jl(n)&&!Oc(n).w_()&&n._a.size>0}function jl(n){return je(n).aa.size===0}function cj(n){n.ha=void 0}async function VY(n){n.la.set("Online")}async function BY(n){n._a.forEach((e,t)=>{sT(n,e)})}async function UY(n,e){cj(n),aT(n)?(n.la.ia(e),oT(n)):n.la.set("Unknown")}async function $Y(n,e,t){if(n.la.set("Online"),e instanceof XO&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r._a.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r._a.delete(a),r.ha.removeTarget(a))}(n,e)}catch(i){ye(bl,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Cg(n,i)}else if(e instanceof Em?n.ha.Xe(e):e instanceof YO?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Oe.min()))try{const i=await sj(n.localStore);t.compareTo(i)>=0&&await function(s,o){const a=s.ha.It(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s._a.get(u);c&&s._a.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s._a.get(l);if(!c)return;s._a.set(l,c.withResumeToken(Rn.EMPTY_BYTE_STRING,c.snapshotVersion)),uj(s,l);const h=new jo(c.target,l,u,c.sequenceNumber);sT(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t)}catch(i){ye(bl,"Failed to raise snapshot:",i),await Cg(n,i)}}async function Cg(n,e,t){if(!Mc(e))throw e;n.aa.add(1),await Af(n),n.la.set("Offline"),t||(t=()=>sj(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ye(bl,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await dv(n)})}function hj(n,e){return e().catch(t=>Cg(n,t,e))}async function fv(n){const e=je(n),t=da(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:H1;for(;zY(e);)try{const r=await EY(e.localStore,i);if(r===null){e.oa.length===0&&t.v_();break}i=r.batchId,HY(e,r)}catch(r){await Cg(e,r)}dj(e)&&fj(e)}function zY(n){return jl(n)&&n.oa.length<10}function HY(n,e){n.oa.push(e);const t=da(n);t.b_()&&t.W_&&t.G_(e.mutations)}function dj(n){return jl(n)&&!da(n).w_()&&n.oa.length>0}function fj(n){da(n).start()}async function WY(n){da(n).H_()}async function GY(n){const e=da(n);for(const t of n.oa)e.G_(t.mutations)}async function YY(n,e,t){const i=n.oa.shift(),r=Q1.from(i,e,t);await hj(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await fv(n)}async function XY(n,e){e&&da(n).W_&&await async function(i,r){if(function(o){return IG(o)&&o!==ie.ABORTED}(r.code)){const s=i.oa.shift();da(i).D_(),await hj(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await fv(i)}}(n,e),dj(n)&&fj(n)}async function bA(n,e){const t=je(n);t.asyncQueue.verifyOperationInProgress(),ye(bl,"RemoteStore received new credentials");const i=jl(t);t.aa.add(3),await Af(t),i&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await dv(t)}async function KY(n,e){const t=je(n);e?(t.aa.delete(2),await dv(t)):e||(t.aa.add(2),await Af(t),t.la.set("Unknown"))}function Oc(n){return n.Pa||(n.Pa=function(t,i,r){const s=je(t);return s.Y_(),new MY(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{jo:VY.bind(null,n),Jo:BY.bind(null,n),Zo:UY.bind(null,n),Q_:$Y.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),aT(n)?oT(n):n.la.set("Unknown")):(await n.Pa.stop(),cj(n))})),n.Pa}function da(n){return n.Ta||(n.Ta=function(t,i,r){const s=je(t);return s.Y_(),new NY(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:WY.bind(null,n),Zo:XY.bind(null,n),z_:GY.bind(null,n),j_:YY.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await fv(n)):(await n.Ta.stop(),n.oa.length>0&&(ye(bl,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){const o=Date.now()+i,a=new lT(e,t,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uT(n,e){if(Ws("AsyncQueue",`${e}: ${n}`),Mc(n))return new ve(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{static emptySet(e){return new ku(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ce.comparator(t.key,i.key):(t,i)=>Ce.comparator(t.key,i.key),this.keyedMap=xh(),this.sortedSet=new Rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ku)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ku;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(){this.Ia=new Rt(Ce.comparator)}track(e){const t=e.doc.key,i=this.Ia.get(t);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(t):e.type===1&&i.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Ie(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,i)=>{e.push(i)}),e}}class cc{constructor(e,t,i,r,s,o,a,l,u){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,i,r,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new cc(e,t,ku.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ov(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qY{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class QY{constructor(){this.queries=wA(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,i){const r=je(t),s=r.queries;r.queries=wA(),s.forEach((o,a)=>{for(const l of a.Ra)l.onError(i)})})(this,new ve(ie.ABORTED,"Firestore shutting down"))}}function wA(){return new Nl(n=>NO(n),ov)}async function cT(n,e){const t=je(n);let i=3;const r=e.query;let s=t.queries.get(r);s?!s.Va()&&e.ma()&&(i=2):(s=new qY,i=e.ma()?0:1);try{switch(i){case 0:s.Aa=await t.onListen(r,!0);break;case 1:s.Aa=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(o){const a=uT(o,`Initialization of query '${Ql(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.Ra.push(e),e.ga(t.onlineState),s.Aa&&e.pa(s.Aa)&&dT(t)}async function hT(n,e){const t=je(n),i=e.query;let r=3;const s=t.queries.get(i);if(s){const o=s.Ra.indexOf(e);o>=0&&(s.Ra.splice(o,1),s.Ra.length===0?r=e.ma()?0:1:!s.Va()&&e.ma()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function ZY(n,e){const t=je(n);let i=!1;for(const r of e){const s=r.query,o=t.queries.get(s);if(o){for(const a of o.Ra)a.pa(r)&&(i=!0);o.Aa=r}}i&&dT(t)}function JY(n,e,t){const i=je(n),r=i.queries.get(e);if(r)for(const s of r.Ra)s.onError(t);i.queries.delete(e)}function dT(n){n.fa.forEach(e=>{e.next()})}var fw,xA;(xA=fw||(fw={})).ya="default",xA.Cache="cache";class fT{constructor(e,t,i){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new cc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const i=t!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=cc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==fw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e){this.key=e}}class mj{constructor(e){this.key=e}}class eX{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=qe(),this.mutatedKeys=qe(),this.Ua=OO(e),this.Ka=new ku(this.Ua)}get Wa(){return this.qa}Ga(e,t){const i=t?t.za:new _A,r=t?t.Ka:this.Ka;let s=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((c,h)=>{const d=r.get(c),f=av(this.query,h)?h:null,y=!!d&&this.mutatedKeys.has(d.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;d&&f?d.data.isEqual(f.data)?y!==g&&(i.track({type:3,doc:f}),_=!0):this.ja(d,f)||(i.track({type:2,doc:f}),_=!0,(l&&this.Ua(f,l)>0||u&&this.Ua(f,u)<0)&&(a=!0)):!d&&f?(i.track({type:0,doc:f}),_=!0):d&&!f&&(i.track({type:1,doc:d}),_=!0,(l||u)&&(a=!0)),_&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),i.track({type:1,doc:c})}return{Ka:o,za:i,ys:a,mutatedKeys:s}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const s=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((c,h)=>function(f,y){const g=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Vt:_})}};return g(f)-g(y)}(c.type,h.type)||this.Ua(c.doc,h.doc)),this.Ha(i),r=r!=null&&r;const a=t&&!r?this.Ja():[],l=this.$a.size===0&&this.current&&!r?1:0,u=l!==this.Qa;return this.Qa=l,o.length!==0||u?{snapshot:new cc(this.query,e.Ka,s,o,e.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new _A,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=qe(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const t=[];return e.forEach(i=>{this.$a.has(i)||t.push(new mj(i))}),this.$a.forEach(i=>{e.has(i)||t.push(new pj(i))}),t}Xa(e){this.qa=e.Ns,this.$a=qe();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return cc.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const pT="SyncEngine";class tX{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class nX{constructor(e){this.key=e,this.tu=!1}}class iX{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new Nl(a=>NO(a),ov),this.iu=new Map,this.su=new Set,this.ou=new Rt(Ce.comparator),this._u=new Map,this.au=new eT,this.uu={},this.cu=new Map,this.lu=uc.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function rX(n,e,t=!0){const i=wj(n);let r;const s=i.ru.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.eu()):r=await gj(i,e,t,!0),r}async function sX(n,e){const t=wj(n);await gj(t,e,!0,!1)}async function gj(n,e,t,i){const r=await PY(n.localStore,qr(e)),s=r.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let a;return i&&(a=await oX(n,e,s,o==="current",r.resumeToken)),n.isPrimaryClient&&t&&lj(n.remoteStore,r),a}async function oX(n,e,t,i,r){n.Pu=(h,d,f)=>async function(g,_,v,b){let x=_.view.Ga(v);x.ys&&(x=await pA(g.localStore,_.query,!1).then(({documents:A})=>_.view.Ga(A,x)));const P=b&&b.targetChanges.get(_.targetId),k=b&&b.targetMismatches.get(_.targetId)!=null,M=_.view.applyChanges(x,g.isPrimaryClient,P,k);return EA(g,_.targetId,M.Ya),M.snapshot}(n,h,d,f);const s=await pA(n.localStore,e,!0),o=new eX(e,s.Ns),a=o.Ga(s.documents),l=Cf.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),u=o.applyChanges(a,n.isPrimaryClient,l);EA(n,t,u.Ya);const c=new tX(e,t,o);return n.ru.set(e,c),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),u.snapshot}async function aX(n,e,t){const i=je(n),r=i.ru.get(e),s=i.iu.get(r.targetId);if(s.length>1)return i.iu.set(r.targetId,s.filter(o=>!ov(o,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await hw(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&rT(i.remoteStore,r.targetId),pw(i,r.targetId)}).catch(Rc)):(pw(i,r.targetId),await hw(i.localStore,r.targetId,!0))}async function lX(n,e){const t=je(n),i=t.ru.get(e),r=t.iu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),rT(t.remoteStore,i.targetId))}async function uX(n,e,t){const i=gX(n);try{const r=await function(o,a){const l=je(o),u=ln.now(),c=a.reduce((f,y)=>f.add(y.key),qe());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let y=Gs(),g=qe();return l.Cs.getEntries(f,c).next(_=>{y=_,y.forEach((v,b)=>{b.isValidDocument()||(g=g.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,y)).next(_=>{h=_;const v=[];for(const b of a){const x=PG(b,h.get(b.key).overlayedDocument);x!=null&&v.push(new Ol(b.key,x,SO(x.value.mapValue),Qr.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,v,a)}).next(_=>{d=_;const v=_.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(f,_.batchId,v)})}).then(()=>({batchId:d.batchId,changes:LO(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let u=o.uu[o.currentUser.toKey()];u||(u=new Rt(We)),u=u.insert(a,l),o.uu[o.currentUser.toKey()]=u}(i,r.batchId,t),await kf(i,r.changes),await fv(i.remoteStore)}catch(r){const s=uT(r,"Failed to persist write");t.reject(s)}}async function yj(n,e){const t=je(n);try{const i=await xY(t.localStore,e);e.targetChanges.forEach((r,s)=>{const o=t._u.get(s);o&&(at(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.tu=!0:r.modifiedDocuments.size>0?at(o.tu,14607):r.removedDocuments.size>0&&(at(o.tu,42227),o.tu=!1))}),await kf(t,i,e)}catch(i){await Rc(i)}}function TA(n,e,t){const i=je(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.ru.forEach((s,o)=>{const a=o.view.ga(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=je(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const d of h.Ra)d.ga(a)&&(u=!0)}),u&&dT(l)}(i.eventManager,e),r.length&&i.nu.Q_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function cX(n,e,t){const i=je(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i._u.get(e),s=r&&r.key;if(s){let o=new Rt(Ce.comparator);o=o.insert(s,Gn.newNoDocument(s,Oe.min()));const a=qe().add(s),l=new cv(Oe.min(),new Map,new Rt(We),o,a);await yj(i,l),i.ou=i.ou.remove(s),i._u.delete(e),mT(i)}else await hw(i.localStore,e,!1).then(()=>pw(i,e,t)).catch(Rc)}async function hX(n,e){const t=je(n),i=e.batch.batchId;try{const r=await wY(t.localStore,e);bj(t,i,null),vj(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await kf(t,r)}catch(r){await Rc(r)}}async function dX(n,e,t){const i=je(n);try{const r=await function(o,a){const l=je(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(at(h!==null,37113),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(i.localStore,e);bj(i,e,t),vj(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await kf(i,r)}catch(r){await Rc(r)}}function vj(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function bj(n,e,t){const i=je(n);let r=i.uu[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.uu[i.currentUser.toKey()]=r}}function pw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.iu.get(e))n.ru.delete(i),t&&n.nu.Tu(i,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(i=>{n.au.containsKey(i)||_j(n,i)})}function _j(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(rT(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),mT(n))}function EA(n,e,t){for(const i of t)i instanceof pj?(n.au.addReference(i.key,e),fX(n,i)):i instanceof mj?(ye(pT,"Document no longer in limbo: "+i.key),n.au.removeReference(i.key,e),n.au.containsKey(i.key)||_j(n,i.key)):Ie(19791,{Iu:i})}function fX(n,e){const t=e.key,i=t.path.canonicalString();n.ou.get(t)||n.su.has(i)||(ye(pT,"New document in limbo: "+t),n.su.add(i),mT(n))}function mT(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Ce(xt.fromString(e)),i=n.lu.next();n._u.set(i,new nX(t)),n.ou=n.ou.insert(t,i),lj(n.remoteStore,new jo(qr(sv(t.path)),i,"TargetPurposeLimboResolution",nv.le))}}async function kf(n,e,t){const i=je(n),r=[],s=[],o=[];i.ru.isEmpty()||(i.ru.forEach((a,l)=>{o.push(i.Pu(l,e,t).then(u=>{var c;if((u||t)&&i.isPrimaryClient){const h=u?!u.fromCache:(c=t==null?void 0:t.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;i.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){r.push(u);const h=nT.Ps(l.targetId,u);s.push(h)}}))}),await Promise.all(o),i.nu.Q_(r),await async function(l,u){const c=je(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>re.forEach(u,d=>re.forEach(d.ls,f=>c.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>re.forEach(d.hs,f=>c.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!Mc(h))throw h;ye(iT,"Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const f=c.Ss.get(d),y=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(y);c.Ss=c.Ss.insert(d,g)}}}(i.localStore,s))}async function pX(n,e){const t=je(n);if(!t.currentUser.isEqual(e)){ye(pT,"User change. New user:",e.toKey());const i=await rj(t.localStore,e);t.currentUser=e,function(s,o){s.cu.forEach(a=>{a.forEach(l=>{l.reject(new ve(ie.CANCELLED,o))})}),s.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await kf(t,i.Ms)}}function mX(n,e){const t=je(n),i=t._u.get(e);if(i&&i.tu)return qe().add(i.key);{let r=qe();const s=t.iu.get(e);if(!s)return r;for(const o of s){const a=t.ru.get(o);r=r.unionWith(a.view.Wa)}return r}}function wj(n){const e=je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cX.bind(null,e),e.nu.Q_=ZY.bind(null,e.eventManager),e.nu.Tu=JY.bind(null,e.eventManager),e}function gX(n){const e=je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dX.bind(null,e),e}class Ag{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hv(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return _Y(this.persistence,new yY,e.initialUser,this.serializer)}Ru(e){return new ij(tT.Ei,this.serializer)}Au(e){return new CY}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ag.provider={build:()=>new Ag};class yX extends Ag{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){at(this.persistence.referenceDelegate instanceof Sg,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new nY(i,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?ci.withCacheSize(this.cacheSizeBytes):ci.DEFAULT;return new ij(i=>Sg.Ei(i,t),this.serializer)}}class mw{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>TA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=pX.bind(null,this.syncEngine),await KY(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new QY}()}createDatastore(e){const t=hv(e.databaseInfo.databaseId),i=function(s){return new RY(s)}(e.databaseInfo);return function(s,o,a,l){return new jY(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,s,o,a){return new FY(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>TA(this.syncEngine,t,0),function(){return yA.C()?new yA:new AY}())}createSyncEngine(e,t){return function(r,s,o,a,l,u,c){const h=new iX(r,s,o,a,l,u);return c&&(h.hu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(r){const s=je(r);ye(bl,"RemoteStore shutting down."),s.aa.add(5),await Af(s),s.ca.shutdown(),s.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}mw.provider={build:()=>new mw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ws("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="FirestoreClient";class vX{constructor(e,t,i,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=$n.UNAUTHENTICATED,this.clientId=mO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async o=>{ye(fa,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(ye(fa,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=uT(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Y0(n,e){n.asyncQueue.verifyOperationInProgress(),ye(fa,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await rj(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function PA(n,e){n.asyncQueue.verifyOperationInProgress();const t=await bX(n);ye(fa,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>bA(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>bA(e.remoteStore,r)),n._onlineComponents=e}async function bX(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(fa,"Using user provided OfflineComponentProvider");try{await Y0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(r){return r.name==="FirebaseError"?r.code===ie.FAILED_PRECONDITION||r.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;sc("Error using user provided cache. Falling back to memory cache: "+t),await Y0(n,new Ag)}}else ye(fa,"Using default OfflineComponentProvider"),await Y0(n,new yX(void 0));return n._offlineComponents}async function xj(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(fa,"Using user provided OnlineComponentProvider"),await PA(n,n._uninitializedComponentsProvider._online)):(ye(fa,"Using default OnlineComponentProvider"),await PA(n,new mw))),n._onlineComponents}function _X(n){return xj(n).then(e=>e.syncEngine)}async function kg(n){const e=await xj(n),t=e.eventManager;return t.onListen=rX.bind(null,e.syncEngine),t.onUnlisten=aX.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=sX.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=lX.bind(null,e.syncEngine),t}function wX(n,e,t={}){const i=new Ms;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new gT({next:d=>{c.yu(),o.enqueueAndForget(()=>hT(s,h));const f=d.docs.has(a);!f&&d.fromCache?u.reject(new ve(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&l&&l.source==="server"?u.reject(new ve(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new fT(sv(a.path),c,{includeMetadataChanges:!0,Fa:!0});return cT(s,h)}(await kg(n),n.asyncQueue,e,t,i)),i.promise}function xX(n,e,t={}){const i=new Ms;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new gT({next:d=>{c.yu(),o.enqueueAndForget(()=>hT(s,h)),d.fromCache&&l.source==="server"?u.reject(new ve(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new fT(a,c,{includeMetadataChanges:!0,Fa:!0});return cT(s,h)}(await kg(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(n,e,t){if(!t)throw new ve(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function TX(n,e,t,i){if(e===!0&&i===!0)throw new ve(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function CA(n){if(!Ce.isDocumentKey(n))throw new ve(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function AA(n){if(Ce.isDocumentKey(n))throw new ve(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie(12329,{type:typeof n})}function Sr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pv(n);throw new ve(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj="firestore.googleapis.com",kA=!0;class IA{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Pj,this.ssl=kA}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:kA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eY)throw new ve(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tj((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mv{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new D7;switch(i.type){case"firstParty":return new O7(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=SA.get(t);i&&(ye("ComponentProvider","Removing Datastore"),SA.delete(t),i.terminate())}(this),Promise.resolve()}}function EX(n,e,t,i={}){var r;n=Sr(n,mv);const s=Ic(e),o=n._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),l=`${e}:${t}`;s&&ev(`https://${l}`),o.host!==Pj&&o.host!==l&&sc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:i});if(!yl(u,a)&&(n._setSettings(u),i.mockUserToken)){let c,h;if(typeof i.mockUserToken=="string")c=i.mockUserToken,h=$n.MOCK_USER;else{c=tO(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new ve(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new $n(d)}n._authCredentials=new R7(new fO(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ea(this.firestore,e,this._query)}}class ii{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ii(this.firestore,e,this._key)}}class Jo extends Ea{constructor(e,t,i){super(e,t,sv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ii(this.firestore,null,new Ce(e))}withConverter(e){return new Jo(this.firestore,e,this._path)}}function Ig(n,e,...t){if(n=tn(n),Ej("collection","path",e),n instanceof mv){const i=xt.fromString(e,...t);return AA(i),new Jo(n,null,i)}{if(!(n instanceof ii||n instanceof Jo))throw new ve(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xt.fromString(e,...t));return AA(i),new Jo(n.firestore,null,i)}}function wi(n,e,...t){if(n=tn(n),arguments.length===1&&(e=mO.newId()),Ej("doc","path",e),n instanceof mv){const i=xt.fromString(e,...t);return CA(i),new ii(n,null,new Ce(i))}{if(!(n instanceof ii||n instanceof Jo))throw new ve(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xt.fromString(e,...t));return CA(i),new ii(n.firestore,n instanceof Jo?n.converter:null,new Ce(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="AsyncQueue";class RA{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new oj(this,"async_queue_retry"),this.ju=()=>{const i=G0();i&&ye(DA,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const t=G0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=G0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Ms;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Mc(e))throw e;ye(DA,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,Ws("INTERNAL UNHANDLED ERROR: ",MA(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=t,t}enqueueAfterDelay(e,t,i){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const r=lT.createAndSchedule(this,e,t,i,s=>this.Xu(s));return this.Uu.push(r),r}Ju(){this.Ku&&Ie(47125,{ec:MA(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function MA(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const r=t;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(n,["next","error","complete"])}class _l extends mv{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new RA,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RA(e),this._firestoreClient=void 0,await e}}}function PX(n,e){const t=typeof n=="object"?n:tv(),i=typeof n=="string"?n:wg,r=Pf(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=V1("firestore");s&&EX(r,...s)}return r}function gv(n){if(n._terminated)throw new ve(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||SX(n),n._firestoreClient}function SX(n){var e,t,i;const r=n._freezeSettings(),s=function(a,l,u,c){return new q7(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Tj(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new vX(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hc(Rn.fromBase64String(e))}catch(t){throw new ve(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new hc(Rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new An(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CX=/^__.*__$/;class AX{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ol(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sf(e,this.data,t,this.fieldTransforms)}}function Sj(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{oc:n})}}class wT{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this._c(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new wT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.ac({path:i,cc:!1});return r.lc(e),r}hc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.ac({path:i,cc:!1});return r._c(),r}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Dg(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Sj(this.oc)&&CX.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class kX{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||hv(e)}dc(e,t,i,r=!1){return new wT({oc:e,methodName:t,Ec:i,path:An.emptyPath(),cc:!1,Ic:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cj(n){const e=n._freezeSettings(),t=hv(n._databaseId);return new kX(n._databaseId,!!e.ignoreUndefinedProperties,t)}function IX(n,e,t,i,r,s={}){const o=n.dc(s.merge||s.mergeFields?2:0,e,t,r);Ij("Data must be an object, but it was:",o,i);const a=Aj(i,o);let l,u;if(s.merge)l=new br(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const d=RX(e,h,t);if(!o.contains(d))throw new ve(ie.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);NX(c,d)||c.push(d)}l=new br(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new AX(new Yi(a),l,u)}class xT extends vT{_toFieldTransform(e){return new wG(e.path,new Od)}isEqual(e){return e instanceof xT}}function DX(n,e,t,i=!1){return TT(t,n.dc(i?4:3,e))}function TT(n,e){if(kj(n=tn(n)))return Ij("Unsupported field value:",e,n),Aj(n,e);if(n instanceof vT)return function(i,r){if(!Sj(r.oc))throw r.Tc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Tc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=TT(a,r.Pc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if((i=tn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return vG(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=ln.fromDate(i);return{timestampValue:Pg(r.serializer,s)}}if(i instanceof ln){const s=new ln(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Pg(r.serializer,s)}}if(i instanceof bT)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof hc)return{bytesValue:KO(r.serializer,i._byteString)};if(i instanceof ii){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:J1(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof _T)return function(o,a){return{mapValue:{fields:{[TO]:{stringValue:PO},[xg]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Tc("VectorValues must only contain numeric values.");return K1(a.serializer,u)})}}}}}}(i,r);throw r.Tc(`Unsupported field value: ${pv(i)}`)}(n,e)}function Aj(n,e){const t={};return yO(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ml(n,(i,r)=>{const s=TT(r,e.uc(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function kj(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ln||n instanceof bT||n instanceof hc||n instanceof ii||n instanceof vT||n instanceof _T)}function Ij(n,e,t){if(!kj(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){const i=pv(t);throw i==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+i)}}function RX(n,e,t){if((e=tn(e))instanceof yT)return e._internalPath;if(typeof e=="string")return Dj(n,e);throw Dg("Field path arguments must be of type string or ",n,!1,void 0,t)}const MX=new RegExp("[~\\*/\\[\\]]");function Dj(n,e,t){if(e.search(MX)>=0)throw Dg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new yT(...e.split("."))._internalPath}catch{throw Dg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Dg(n,e,t,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new ve(ie.INVALID_ARGUMENT,a+n+l)}function NX(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ii(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(yv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class OX extends Rj{data(){return super.data()}}function yv(n,e){return typeof e=="string"?Dj(n,e):e instanceof yT?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ET{}class Nj extends ET{}function Oj(n,e,...t){let i=[];e instanceof ET&&i.push(e),i=i.concat(t),function(s){const o=s.filter(l=>l instanceof PT).length,a=s.filter(l=>l instanceof vv).length;if(o>1||o>0&&a>0)throw new ve(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class vv extends Nj{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new vv(e,t,i)}_apply(e){const t=this._parse(e);return jj(e._query,t),new Ea(e.firestore,e.converter,sw(e._query,t))}_parse(e){const t=Cj(e.firestore);return function(s,o,a,l,u,c,h){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ve(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){jA(h,c);const y=[];for(const g of h)y.push(OA(l,s,g));d={arrayValue:{values:y}}}else d=OA(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||jA(h,c),d=DX(a,o,h,c==="in"||c==="not-in");return Zt.create(u,c,d)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function jX(n,e,t){const i=e,r=yv("where",n);return vv._create(r,i,t)}class PT extends ET{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new PT(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Rr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(r,s){let o=r;const a=s.getFlattenedFilters();for(const l of a)jj(o,l),o=sw(o,l)}(e._query,t),new Ea(e.firestore,e.converter,sw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ST extends Nj{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ST(e,t)}_apply(e){const t=function(r,s,o){if(r.startAt!==null)throw new ve(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ve(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nd(s,o)}(e._query,this._field,this._direction);return new Ea(e.firestore,e.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new Nc(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}function LX(n,e="asc"){const t=e,i=yv("orderBy",n);return ST._create(i,t)}function OA(n,e,t){if(typeof(t=tn(t))=="string"){if(t==="")throw new ve(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MO(e)&&t.indexOf("/")!==-1)throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(xt.fromString(t));if(!Ce.isDocumentKey(i))throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return KC(n,new Ce(i))}if(t instanceof ii)return KC(n,t._key);throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pv(t)}.`)}function jA(n,e){if(!Array.isArray(n)||n.length===0)throw new ve(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jj(n,e){const t=function(r,s){for(const o of r)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ve(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class FX{convertValue(e,t="none"){switch(ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ml(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertVectorValue(e){var t,i,r;const s=(r=(i=(t=e.fields)===null||t===void 0?void 0:t[xg].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>Ht(o.doubleValue));return new _T(s)}convertGeoPoint(e){return new bT(Ht(e.latitude),Ht(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=rv(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Dd(e));default:return null}}convertTimestamp(e){const t=ua(e);return new ln(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=xt.fromString(e);at(tj(i),9688,{name:e});const r=new Rd(i.get(1),i.get(3)),s=new Ce(i.popFirst(5));return r.isEqual(t)||Ws(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VX(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lj extends Rj{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Pm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(yv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Pm extends Lj{data(e={}){return super.data(e)}}class Fj{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Eh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Pm(this._firestore,this._userDataWriter,i.key,i,new Eh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const l=new Pm(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Eh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Pm(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Eh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:BX(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function BX(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(n){n=Sr(n,ii);const e=Sr(n.firestore,_l);return wX(gv(e),n._key).then(t=>$j(e,n,t))}class CT extends FX{constructor(e){super(),this.firestore=e}convertBytes(e){return new hc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ii(this.firestore,null,t)}}function Vj(n){n=Sr(n,Ea);const e=Sr(n.firestore,_l),t=gv(e),i=new CT(e);return Mj(n._query),xX(t,n._query).then(r=>new Fj(e,i,n,r))}function Lo(n,e,t){n=Sr(n,ii);const i=Sr(n.firestore,_l),r=VX(n.converter,e,t);return Uj(i,[IX(Cj(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,Qr.none())])}function UX(n){return Uj(Sr(n.firestore,_l),[new q1(n._key,Qr.none())])}function Bj(n,...e){var t,i,r;n=tn(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||NA(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(NA(e[o])){const h=e[o];e[o]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[o+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),e[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let l,u,c;if(n instanceof ii)u=Sr(n.firestore,_l),c=sv(n._key.path),l={next:h=>{e[o]&&e[o]($j(u,n,h))},error:e[o+1],complete:e[o+2]};else{const h=Sr(n,Ea);u=Sr(h.firestore,_l),c=h._query;const d=new CT(u);l={next:f=>{e[o]&&e[o](new Fj(u,d,h,f))},error:e[o+1],complete:e[o+2]},Mj(n._query)}return function(d,f,y,g){const _=new gT(g),v=new fT(f,_,y);return d.asyncQueue.enqueueAndForget(async()=>cT(await kg(d),v)),()=>{_.yu(),d.asyncQueue.enqueueAndForget(async()=>hT(await kg(d),v))}}(gv(u),c,a,l)}function Uj(n,e){return function(i,r){const s=new Ms;return i.asyncQueue.enqueueAndForget(async()=>uX(await _X(i),r,s)),s.promise}(gv(n),e)}function $j(n,e,t){const i=t.docs.get(e._key),r=new CT(n);return new Lj(n,r,e._key,i,new Eh(t.hasPendingWrites,t.fromCache),e.converter)}function jp(){return new xT("serverTimestamp")}(function(e,t=!0){(function(r){Dc=r})(Rl),aa(new zs("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new _l(new M7(i.getProvider("auth-internal")),new j7(o,i.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ve(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rd(u.options.projectId,c)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),nr(LC,FC,e),nr(LC,FC,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj="firebasestorage.googleapis.com",$X="storageBucket",zX=2*60*1e3,HX=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Nr{constructor(e,t,i=0){super(X0(e),`Firebase Storage: ${t} (${X0(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ps.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return X0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ls;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ls||(ls={}));function X0(n){return"storage/"+n}function WX(){const n="An unknown error occurred, please check the error payload for server response.";return new ps(ls.UNKNOWN,n)}function GX(){return new ps(ls.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function YX(){return new ps(ls.CANCELED,"User canceled the upload/download.")}function XX(n){return new ps(ls.INVALID_URL,"Invalid URL '"+n+"'.")}function KX(n){return new ps(ls.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function LA(n){return new ps(ls.INVALID_ARGUMENT,n)}function Hj(){return new ps(ls.APP_DELETED,"The Firebase app was deleted.")}function qX(n){return new ps(ls.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=_r.makeFromUrl(e,t)}catch{return new _r(e,"")}if(i.path==="")return i;throw KX(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),l={bucket:1,path:3};function u(P){P.path_=decodeURIComponent(P.path)}const c="v[A-Za-z0-9_]+",h=t.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",f=new RegExp(`^https?://${h}/${c}/b/${r}/o${d}`,"i"),y={bucket:1,path:3},g=t===zj?"(?:storage.googleapis.com|storage.cloud.google.com)":t,_="([^?#]*)",v=new RegExp(`^https?://${g}/${r}/${_}`,"i"),x=[{regex:a,indices:l,postModify:s},{regex:f,indices:y,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let P=0;P<x.length;P++){const k=x[P],M=k.regex.exec(e);if(M){const A=M[k.indices.bucket];let T=M[k.indices.path];T||(T=""),i=new _r(A,T),k.postModify(i);break}}if(i==null)throw XX(e);return i}}class QX{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZX(n,e,t){let i=1,r=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(..._){u||(u=!0,e.apply(null,_))}function h(_){r=setTimeout(()=>{r=null,n(f,l())},_)}function d(){s&&clearTimeout(s)}function f(_,...v){if(u){d();return}if(_){d(),c.call(null,_,...v);return}if(l()||o){d(),c.call(null,_,...v);return}i<64&&(i*=2);let x;a===1?(a=2,x=0):x=(i+Math.random())*1e3,h(x)}let y=!1;function g(_){y||(y=!0,d(),!u&&(r!==null?(_||(a=2),clearTimeout(r),h(0)):_||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,g(!0)},t),g}function JX(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eK(n){return n!==void 0}function FA(n,e,t,i){if(i<e)throw LA(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw LA(`Invalid value for '${n}'. Expected ${t} or less.`)}function tK(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const r=e(i)+"="+e(n[i]);t=t+r+"&"}return t=t.slice(0,-1),t}var Rg;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Rg||(Rg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nK(n,e){const t=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK{constructor(e,t,i,r,s,o,a,l,u,c,h,d=!0,f=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=d,this.isUsingEmulator=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,g)=>{this.resolve_=y,this.reject_=g,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new Lp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Rg.NO_ERROR,l=s.getStatus();if(!a||nK(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Rg.ABORT;i(!1,new Lp(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;i(!0,new Lp(u,s))})},t=(i,r)=>{const s=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());eK(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=WX();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(r.canceled){const l=this.appDelete_?Hj():YX();o(l)}else{const l=GX();o(l)}};this.canceled_?t(!1,new Lp(!1,null,!0)):this.backoffId_=ZX(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&JX(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Lp{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function rK(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function sK(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function oK(n,e){e&&(n["X-Firebase-GMPID"]=e)}function aK(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function lK(n,e,t,i,r,s,o=!0,a=!1){const l=tK(n.urlParams),u=n.url+l,c=Object.assign({},n.headers);return oK(c,e),rK(c,t),sK(c,s),aK(c,i),new iK(u,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uK(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function cK(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,t){this._service=e,t instanceof _r?this._location=t:this._location=_r.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Mg(e,t)}get root(){const e=new _r(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cK(this._location.path)}get storage(){return this._service}get parent(){const e=uK(this._location.path);if(e===null)return null;const t=new _r(this._location.bucket,e);return new Mg(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw qX(e)}}function VA(n,e){const t=e==null?void 0:e[$X];return t==null?null:_r.makeFromBucketSpec(t,n)}function hK(n,e,t,i={}){n.host=`${e}:${t}`;const r=Ic(e);r&&ev(`https://${n.host}`),n._isUsingEmulator=!0,n._protocol=r?"https":"http";const{mockUserToken:s}=i;s&&(n._overrideAuthToken=typeof s=="string"?s:tO(s,n.app.options.projectId))}class dK{constructor(e,t,i,r,s,o=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=zj,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zX,this._maxUploadRetryTime=HX,this._requests=new Set,r!=null?this._bucket=_r.makeFromBucketSpec(r,this._host):this._bucket=VA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=_r.makeFromBucketSpec(this._url,e):this._bucket=VA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){FA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){FA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Mg(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new QX(Hj());{const o=lK(e,this._appId,i,r,t,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,r).getPromise()}}const BA="@firebase/storage",UA="0.13.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj="storage";function fK(n=tv(),e){n=tn(n);const i=Pf(n,Wj).getImmediate({identifier:e}),r=V1("storage");return r&&pK(i,...r),i}function pK(n,e,t,i={}){hK(n,e,t,i)}function mK(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new dK(t,i,r,e,Rl)}function gK(){aa(new zs(Wj,mK,"PUBLIC").setMultipleInstances(!0)),nr(BA,UA,""),nr(BA,UA,"esm2017")}gK();var Gr=function(){return Gr=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Gr.apply(this,arguments)};function If(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function mi(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(i.next(c))}catch(h){o(h)}}function l(c){try{u(i.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})}function yK(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||Array.prototype.slice.call(e))}function Gj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vK=Gj,Yj=new Tf("auth","Firebase",Gj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng=new B1("@firebase/auth");function bK(n,...e){Ng.logLevel<=Ke.WARN&&Ng.warn(`Auth (${Rl}): ${n}`,...e)}function Sm(n,...e){Ng.logLevel<=Ke.ERROR&&Ng.error(`Auth (${Rl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(n,...e){throw kT(n,...e)}function Cr(n,...e){return kT(n,...e)}function AT(n,e,t){const i=Object.assign(Object.assign({},vK()),{[e]:t});return new Tf("auth","Firebase",i).create(e,{appName:n.name})}function Jr(n){return AT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xj(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&or(n,"argument-error"),AT(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function kT(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Yj.create(n,...e)}function ke(n,e,...t){if(!n)throw kT(e,...t)}function As(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Sm(e),new Error(e)}function Ys(n,e){n||As(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function _K(){return $A()==="http:"||$A()==="https:"}function $A(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_K()||a8()||"connection"in navigator)?navigator.onLine:!0}function xK(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ys(t>e,"Short delay should be less than long delay!"),this.isMobile=r8()||l8()}get(){return wK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(n,e){Ys(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EK=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PK=new Df(3e4,6e4);function Pa(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Sa(n,e,t,i,r={}){return qj(n,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=Ef(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const u=Object.assign({method:e,headers:l},s);return o8()||(u.referrerPolicy="no-referrer"),n.emulatorConfig&&Ic(n.emulatorConfig.host)&&(u.credentials="include"),Kj.fetch()(await Qj(n,n.config.apiHost,t,a),u)})}async function qj(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},TK),e);try{const r=new CK(n),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Fp(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fp(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Fp(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw Fp(n,"user-disabled",o);const c=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw AT(n,c,u);or(n,c)}}catch(r){if(r instanceof Nr)throw r;or(n,"network-request-failed",{message:String(r)})}}async function Rf(n,e,t,i,r={}){const s=await Sa(n,e,t,i,r);return"mfaPendingCredential"in s&&or(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function Qj(n,e,t,i){const r=`${e}${t}?${i}`,s=n,o=s.config.emulator?IT(n.config,r):`${n.config.apiScheme}://${r}`;return EK.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function SK(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CK{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Cr(this.auth,"network-request-failed")),PK.get())})}}function Fp(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Cr(n,e,i);return r.customData._tokenResponse=t,r}function zA(n){return n!==void 0&&n.enterprise!==void 0}class AK{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return SK(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kK(n,e){return Sa(n,"GET","/v2/recaptchaConfig",Pa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IK(n,e){return Sa(n,"POST","/v1/accounts:delete",e)}async function Og(n,e){return Sa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DK(n,e=!1){const t=tn(n),i=await t.getIdToken(e),r=DT(i);ke(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Gh(K0(r.auth_time)),issuedAtTime:Gh(K0(r.iat)),expirationTime:Gh(K0(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function K0(n){return Number(n)*1e3}function DT(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Sm("JWT malformed, contained fewer than 3 sections"),null;try{const r=QN(t);return r?JSON.parse(r):(Sm("Failed to decode base64 JWT payload"),null)}catch(r){return Sm("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function HA(n){const e=DT(n);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fd(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Nr&&RK(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function RK({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gh(this.lastLoginAt),this.creationTime=Gh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jg(n){var e;const t=n.auth,i=await n.getIdToken(),r=await Fd(n,Og(t,{idToken:i}));ke(r==null?void 0:r.users.length,t,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Zj(s.providerUserInfo):[],a=OK(n.providerData,o),l=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new yw(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(n,h)}async function NK(n){const e=tn(n);await jg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OK(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function Zj(n){return n.map(e=>{var{providerId:t}=e,i=If(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jK(n,e){const t=await qj(n,{},async()=>{const i=Ef({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=await Qj(n,r,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Kj.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function LK(n,e){return Sa(n,"POST","/v2/accounts:revokeToken",Pa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const t=HA(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:s}=await jK(e,t);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:s}=t,o=new Iu;return i&&(ke(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(ke(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(ke(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Iu,this.toJSON())}_performRefresh(){return As("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(n,e){ke(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class wr{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=If(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new MK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new yw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Fd(this,this.stsTokenManager.getToken(this.auth,e));return ke(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return DK(this,e)}reload(){return NK(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await jg(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Jr(this.auth));const e=await this.getIdToken();return await Fd(this,IK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,o,a,l,u,c;const h=(i=t.displayName)!==null&&i!==void 0?i:void 0,d=(r=t.email)!==null&&r!==void 0?r:void 0,f=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=t.photoURL)!==null&&o!==void 0?o:void 0,g=(a=t.tenantId)!==null&&a!==void 0?a:void 0,_=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=t.createdAt)!==null&&u!==void 0?u:void 0,b=(c=t.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:x,emailVerified:P,isAnonymous:k,providerData:M,stsTokenManager:A}=t;ke(x&&A,e,"internal-error");const T=Iu.fromJSON(this.name,A);ke(typeof x=="string",e,"internal-error"),ho(h,e.name),ho(d,e.name),ke(typeof P=="boolean",e,"internal-error"),ke(typeof k=="boolean",e,"internal-error"),ho(f,e.name),ho(y,e.name),ho(g,e.name),ho(_,e.name),ho(v,e.name),ho(b,e.name);const E=new wr({uid:x,auth:e,email:d,emailVerified:P,displayName:h,isAnonymous:k,photoURL:y,phoneNumber:f,tenantId:g,stsTokenManager:T,createdAt:v,lastLoginAt:b});return M&&Array.isArray(M)&&(E.providerData=M.map(C=>Object.assign({},C))),_&&(E._redirectEventId=_),E}static async _fromIdTokenResponse(e,t,i=!1){const r=new Iu;r.updateFromServerResponse(t);const s=new wr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await jg(s),s}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];ke(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?Zj(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new Iu;a.updateFromIdToken(i);const l=new wr({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new yw(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=new Map;function ks(n){Ys(n instanceof Function,"Expected a class definition");let e=WA.get(n);return e?(Ys(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,WA.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Jj.type="NONE";const GA=Jj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(n,e,t){return`firebase:${n}:${e}:${t}`}class Du{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Cm(this.userKey,r.apiKey,s),this.fullPersistenceKey=Cm("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Og(this.auth,{idToken:e}).catch(()=>{});return t?wr._fromGetAccountInfoResponse(this.auth,t,e):null}return wr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Du(ks(GA),e,i);const r=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=r[0]||ks(GA);const o=Cm(i,e.config.apiKey,e.name);let a=null;for(const u of t)try{const c=await u._get(o);if(c){let h;if(typeof c=="string"){const d=await Og(e,{idToken:c}).catch(()=>{});if(!d)break;h=await wr._fromGetAccountInfoResponse(e,d,c)}else h=wr._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Du(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Du(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sL(e))return"Blackberry";if(oL(e))return"Webos";if(tL(e))return"Safari";if((e.includes("chrome/")||nL(e))&&!e.includes("edge/"))return"Chrome";if(rL(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function eL(n=Kn()){return/firefox\//i.test(n)}function tL(n=Kn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nL(n=Kn()){return/crios\//i.test(n)}function iL(n=Kn()){return/iemobile/i.test(n)}function rL(n=Kn()){return/android/i.test(n)}function sL(n=Kn()){return/blackberry/i.test(n)}function oL(n=Kn()){return/webos/i.test(n)}function RT(n=Kn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function FK(n=Kn()){var e;return RT(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function VK(){return u8()&&document.documentMode===10}function aL(n=Kn()){return RT(n)||rL(n)||oL(n)||sL(n)||/windows phone/i.test(n)||iL(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(n,e=[]){let t;switch(n){case"Browser":t=YA(Kn());break;case"Worker":t=`${YA(Kn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Rl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UK(n,e={}){return Sa(n,"GET","/v2/passwordPolicy",Pa(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $K=6;class zK{constructor(e){var t,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:$K,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HK{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XA(this),this.idTokenSubscription=new XA(this),this.beforeStateQueue=new BK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ks(t)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Du.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Og(this,{idToken:e}),i=await wr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Yn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await jg(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(Jr(this));const t=e?tn(e):null;return t&&ke(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(Jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ks(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UK(this),t=new zK(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tf("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await LK(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ks(e)||this._popupRedirectResolver;ke(t,this,"argument-error"),this.redirectPersistenceManager=await Du.create(this,[ks(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,i,r);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&bK(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ms(n){return tn(n)}let XA=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=y8(t=>this.observer=t)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WK(n){bv=n}function uL(n){return bv.loadJS(n)}function GK(){return bv.recaptchaEnterpriseScript}function YK(){return bv.gapiScript}function XK(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class KK{constructor(){this.enterprise=new qK}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class qK{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const QK="recaptcha-enterprise",cL="NO_RECAPTCHA";class ZK{constructor(e){this.type=QK,this.auth=ms(e)}async verify(e="verify",t=!1){async function i(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{kK(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new AK(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function r(s,o,a){const l=window.grecaptcha;zA(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(cL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new KK().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{i(this.auth).then(a=>{if(!t&&zA(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=GK();l.length!==0&&(l+=a),uL(l).then(()=>{r(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function KA(n,e,t,i=!1,r=!1){const s=new ZK(n);let o;if(r)o=cL;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}const a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function vw(n,e,t,i,r){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await KA(n,e,t,t==="getOobCode");return i(n,o)}else return i(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await KA(n,e,t,t==="getOobCode");return i(n,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JK(n,e){const t=Pf(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),s=t.getOptions();if(yl(s,e??{}))return r;or(r,"already-initialized")}return t.initialize({options:e})}function eq(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(ks);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function tq(n,e,t){const i=ms(n);ke(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=hL(e),{host:o,port:a}=nq(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},c=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){ke(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ke(yl(u,i.config.emulator)&&yl(c,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=u,i.emulatorConfig=c,i.settings.appVerificationDisabledForTesting=!0,iq(),Ic(o)&&ev(`${s}//${o}${l}`)}function hL(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function nq(n){const e=hL(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:qA(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:qA(o)}}}function qA(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function iq(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return As("not implemented")}_getIdTokenResponse(e){return As("not implemented")}_linkToIdToken(e,t){return As("not implemented")}_getReauthenticationResolver(e){return As("not implemented")}}async function rq(n,e){return Sa(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sq(n,e){return Rf(n,"POST","/v1/accounts:signInWithPassword",Pa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oq(n,e){return Rf(n,"POST","/v1/accounts:signInWithEmailLink",Pa(n,e))}async function aq(n,e){return Rf(n,"POST","/v1/accounts:signInWithEmailLink",Pa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd extends MT{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Vd(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Vd(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vw(e,t,"signInWithPassword",sq);case"emailLink":return oq(e,{email:this._email,oobCode:this._password});default:or(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vw(e,i,"signUpPassword",rq);case"emailLink":return aq(e,{idToken:t,email:this._email,oobCode:this._password});default:or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ru(n,e){return Rf(n,"POST","/v1/accounts:signInWithIdp",Pa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lq="http://localhost";class wl extends MT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new wl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):or("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,s=If(t,["providerId","signInMethod"]);if(!i||!r)return null;const o=new wl(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Ru(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ru(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ru(e,t)}buildRequest(){const e={requestUri:lq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ef(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uq(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cq(n){const e=bh(_h(n)).link,t=e?bh(_h(e)).deep_link_id:null,i=bh(_h(n)).deep_link_id;return(i?bh(_h(i)).link:null)||i||t||e||n}class NT{constructor(e){var t,i,r,s,o,a;const l=bh(_h(e)),u=(t=l.apiKey)!==null&&t!==void 0?t:null,c=(i=l.oobCode)!==null&&i!==void 0?i:null,h=uq((r=l.mode)!==null&&r!==void 0?r:null);ke(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=cq(e);try{return new NT(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(){this.providerId=jc.PROVIDER_ID}static credential(e,t){return Vd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=NT.parseLink(t);return ke(i,"argument-error"),Vd._fromEmailAndCode(e,i.code,i.tenantId)}}jc.PROVIDER_ID="password";jc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends _v{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends Mf{constructor(){super("facebook.com")}static credential(e){return wl._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Eo.credential(e.oauthAccessToken)}catch{return null}}}Eo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Eo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Mf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return wl._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ps.credential(t,i)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends Mf{constructor(){super("github.com")}static credential(e){return wl._fromParams({providerId:Po.PROVIDER_ID,signInMethod:Po.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Po.credentialFromTaggedObject(e)}static credentialFromError(e){return Po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Po.credential(e.oauthAccessToken)}catch{return null}}}Po.GITHUB_SIGN_IN_METHOD="github.com";Po.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends Mf{constructor(){super("twitter.com")}static credential(e,t){return wl._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return So.credential(t,i)}catch{return null}}}So.TWITTER_SIGN_IN_METHOD="twitter.com";So.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hq(n,e){return Rf(n,"POST","/v1/accounts:signUp",Pa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const s=await wr._fromIdTokenResponse(e,i,r),o=QA(i);return new xl({user:s,providerId:o,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=QA(i);return new xl({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function QA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg extends Nr{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Lg.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new Lg(e,t,i,r)}}function dL(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Lg._fromErrorAndOperation(n,s,e,i):s})}async function dq(n,e,t=!1){const i=await Fd(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return xl._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fq(n,e,t=!1){const{auth:i}=n;if(Yn(i.app))return Promise.reject(Jr(i));const r="reauthenticate";try{const s=await Fd(n,dL(i,r,e,n),t);ke(s.idToken,i,"internal-error");const o=DT(s.idToken);ke(o,i,"internal-error");const{sub:a}=o;return ke(n.uid===a,i,"user-mismatch"),xl._forOperation(n,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&or(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fL(n,e,t=!1){if(Yn(n.app))return Promise.reject(Jr(n));const i="signIn",r=await dL(n,i,e),s=await xl._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(s.user),s}async function pq(n,e){return fL(ms(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pL(n){const e=ms(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function mq(n,e,t){if(Yn(n.app))return Promise.reject(Jr(n));const i=ms(n),o=await vw(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hq).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&pL(n),l}),a=await xl._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(a.user),a}function gq(n,e,t){return Yn(n.app)?Promise.reject(Jr(n)):pq(tn(n),jc.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&pL(n),i})}function yq(n,e,t,i){return tn(n).onIdTokenChanged(e,t,i)}function vq(n,e,t){return tn(n).beforeAuthStateChanged(e,t)}function mL(n,e,t,i){return tn(n).onAuthStateChanged(e,t,i)}function bq(n){return tn(n).signOut()}const Fg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fg,"1"),this.storage.removeItem(Fg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q=1e3,wq=10;class yL extends gL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!t&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);VK()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,wq):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},_q)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}yL.type="LOCAL";const xq=yL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL extends gL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}vL.type="SESSION";const bL=vL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tq(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new wv(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:s}=t.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async u=>u(t.origin,s)),l=await Tq(a);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=OT("",20);r.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(){return window}function Pq(n){es().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(){return typeof es().WorkerGlobalScope<"u"&&typeof es().importScripts=="function"}async function Sq(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Cq(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Aq(){return _L()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL="firebaseLocalStorageDb",kq=1,Vg="firebaseLocalStorage",xL="fbase_key";class Nf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function xv(n,e){return n.transaction([Vg],e?"readwrite":"readonly").objectStore(Vg)}function Iq(){const n=indexedDB.deleteDatabase(wL);return new Nf(n).toPromise()}function bw(){const n=indexedDB.open(wL,kq);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Vg,{keyPath:xL})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Vg)?e(i):(i.close(),await Iq(),e(await bw()))})})}async function ZA(n,e,t){const i=xv(n,!0).put({[xL]:e,value:t});return new Nf(i).toPromise()}async function Dq(n,e){const t=xv(n,!1).get(e),i=await new Nf(t).toPromise();return i===void 0?null:i.value}function JA(n,e){const t=xv(n,!0).delete(e);return new Nf(t).toPromise()}const Rq=800,Mq=3;class TL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bw(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>Mq)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _L()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wv._getInstance(Aq()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Sq(),!this.activeServiceWorker)return;this.sender=new Eq(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Cq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bw();return await ZA(e,Fg,"1"),await JA(e,Fg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ZA(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>Dq(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>JA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=xv(r,!1).getAll();return new Nf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Rq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TL.type="LOCAL";const Nq=TL;new Df(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(n,e){return e?ks(e):(ke(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT extends MT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ru(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ru(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ru(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Oq(n){return fL(n.auth,new LT(n),n.bypassAuthState)}function jq(n){const{auth:e,user:t}=n;return ke(t,e,"internal-error"),fq(t,new LT(n),n.bypassAuthState)}async function Lq(n){const{auth:e,user:t}=n;return ke(t,e,"internal-error"),dq(t,new LT(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Oq;case"linkViaPopup":case"linkViaRedirect":return Lq;case"reauthViaPopup":case"reauthViaRedirect":return jq;default:or(this.auth,"internal-error")}}resolve(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fq=new Df(2e3,1e4);async function Vq(n,e,t){if(Yn(n.app))return Promise.reject(Cr(n,"operation-not-supported-in-this-environment"));const i=ms(n);Xj(n,e,_v);const r=jT(i,t);return new Ga(i,"signInViaPopup",e,r).executeNotNull()}class Ga extends EL{constructor(e,t,i,r,s){super(e,t,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Ga.currentPopupAction&&Ga.currentPopupAction.cancel(),Ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){Ys(this.filter.length===1,"Popup operations only handle one event");const e=OT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ga.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Fq.get())};e()}}Ga.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq="pendingRedirect",Am=new Map;class Uq extends EL{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Am.get(this.auth._key());if(!e){try{const i=await $q(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Am.set(this.auth._key(),e)}return this.bypassAuthState||Am.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $q(n,e){const t=SL(e),i=PL(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}async function zq(n,e){return PL(n)._set(SL(e),"true")}function Hq(n,e){Am.set(n._key(),e)}function PL(n){return ks(n._redirectPersistence)}function SL(n){return Cm(Bq,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wq(n,e,t){return Gq(n,e,t)}async function Gq(n,e,t){if(Yn(n.app))return Promise.reject(Jr(n));const i=ms(n);Xj(n,e,_v),await i._initializationPromise;const r=jT(i,t);return await zq(r,i),r._openRedirect(i,e,"signInViaRedirect")}async function Yq(n,e){return await ms(n)._initializationPromise,CL(n,e,!1)}async function CL(n,e,t=!1){if(Yn(n.app))return Promise.reject(Jr(n));const i=ms(n),r=jT(i,e),o=await new Uq(i,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq=10*60*1e3;class Kq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qq(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!AL(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Cr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Xq&&this.cachedEventUids.clear(),this.cachedEventUids.has(ek(e))}saveEventToCache(e){this.cachedEventUids.add(ek(e)),this.lastProcessedEventTime=Date.now()}}function ek(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function AL({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qq(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AL(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qq(n,e={}){return Sa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jq=/^https?/;async function eQ(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Qq(n);for(const t of e)try{if(tQ(t))return}catch{}or(n,"unauthorized-domain")}function tQ(n){const e=gw(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===i}if(!Jq.test(t))return!1;if(Zq.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nQ=new Df(3e4,6e4);function tk(){const n=es().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function iQ(n){return new Promise((e,t)=>{var i,r,s;function o(){tk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tk(),t(Cr(n,"network-request-failed"))},timeout:nQ.get()})}if(!((r=(i=es().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=es().gapi)===null||s===void 0)&&s.load)o();else{const a=XK("iframefcb");return es()[a]=()=>{gapi.load?o():t(Cr(n,"network-request-failed"))},uL(`${YK()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw km=null,e})}let km=null;function rQ(n){return km=km||iQ(n),km}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sQ=new Df(5e3,15e3),oQ="__/auth/iframe",aQ="emulator/auth/iframe",lQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cQ(n){const e=n.config;ke(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?IT(e,aQ):`https://${n.config.authDomain}/${oQ}`,i={apiKey:e.apiKey,appName:n.name,v:Rl},r=uQ.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${Ef(i).slice(1)}`}async function hQ(n){const e=await rQ(n),t=es().gapi;return ke(t,n,"internal-error"),e.open({where:document.body,url:cQ(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lQ,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=Cr(n,"network-request-failed"),a=es().setTimeout(()=>{s(o)},sQ.get());function l(){es().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fQ=500,pQ=600,mQ="_blank",gQ="http://localhost";class nk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yQ(n,e,t,i=fQ,r=pQ){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},dQ),{width:i.toString(),height:r.toString(),top:s,left:o}),u=Kn().toLowerCase();t&&(a=nL(u)?mQ:t),eL(u)&&(e=e||gQ,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[f,y])=>`${d}${f}=${y},`,"");if(FK(u)&&a!=="_self")return vQ(e||"",a),new nk(null);const h=window.open(e||"",a,c);ke(h,n,"popup-blocked");try{h.focus()}catch{}return new nk(h)}function vQ(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bQ="__/auth/handler",_Q="emulator/auth/handler",wQ=encodeURIComponent("fac");async function ik(n,e,t,i,r,s){ke(n.config.authDomain,n,"auth-domain-config-required"),ke(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Rl,eventId:r};if(e instanceof _v){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",g8(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries({}))o[c]=h}if(e instanceof Mf){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await n._getAppCheckToken(),u=l?`#${wQ}=${encodeURIComponent(l)}`:"";return`${xQ(n)}?${Ef(a).slice(1)}${u}`}function xQ({config:n}){return n.emulator?IT(n,_Q):`https://${n.authDomain}/${bQ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="webStorageSupport";class TQ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bL,this._completeRedirectFn=CL,this._overrideRedirectResult=Hq}async _openPopup(e,t,i,r){var s;Ys((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await ik(e,t,i,gw(),r);return yQ(e,o,OT())}async _openRedirect(e,t,i,r){await this._originValidation(e);const s=await ik(e,t,i,gw(),r);return Pq(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(Ys(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await hQ(e),i=new Kq(e);return t.register("authEvent",r=>(ke(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(q0,{type:q0},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[q0];o!==void 0&&t(!!o),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=eQ(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return aL()||tL()||RT()}}const EQ=TQ;var rk="@firebase/auth",sk="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SQ(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CQ(n){aa(new zs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;ke(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lL(n)},u=new HK(i,r,s,l);return eq(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),aa(new zs("auth-internal",e=>{const t=ms(e.getProvider("auth").getImmediate());return(i=>new PQ(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),nr(rk,sk,SQ(n)),nr(rk,sk,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AQ=5*60,kQ=eO("authIdTokenMaxAge")||AQ;let ok=null;const IQ=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>kQ)return;const r=t==null?void 0:t.token;ok!==r&&(ok=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function FT(n=tv()){const e=Pf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=JK(n,{popupRedirectResolver:EQ,persistence:[Nq,xq,bL]}),i=eO("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=IQ(s.toString());vq(t,o,()=>o(t.currentUser)),yq(t,a=>o(a))}}const r=ZN("auth");return r&&tq(t,`http://${r}`),t}function DQ(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}WK({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const s=Cr("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",DQ().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CQ("Browser");const RQ={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_DEV_MODE:"true",VITE_FIREBASE_API_KEY:"AIzaSyAigHZtOY0Aa5i1bOzCHLgSTYjhcL7L-Mc",VITE_FIREBASE_APP_ID:"1:829824264022:web:569589e8538e04dc3a58f7",VITE_FIREBASE_AUTH_DOMAIN:"social-trends-29ac2.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"829824264022",VITE_FIREBASE_PROJECT_ID:"social-trends-29ac2",VITE_FIREBASE_STORAGE_BUCKET:"social-trends-29ac2.firebasestorage.app"},MQ=()=>{const e=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"].filter(t=>!RQ[t]);return e.length>0?(console.error(" Missing environment variables:"),e.forEach(t=>{console.error(`   - ${t}`)}),console.error(`
Please add these variables to your .env.local file`),!1):(console.log(" All required environment variables are present"),!0)};if(!MQ())throw new Error("Missing required environment variables for Firebase configuration");const bo={apiKey:"AIzaSyAigHZtOY0Aa5i1bOzCHLgSTYjhcL7L-Mc",authDomain:"social-trends-29ac2.firebaseapp.com",projectId:"social-trends-29ac2",storageBucket:"social-trends-29ac2.firebasestorage.app",messagingSenderId:"829824264022",appId:"1:829824264022:web:569589e8538e04dc3a58f7"};console.log("Firebase Config Status:",{hasApiKey:!!bo.apiKey,hasAuthDomain:!!bo.authDomain,hasProjectId:!!bo.projectId,hasStorageBucket:!!bo.storageBucket,hasMessagingSenderId:!!bo.messagingSenderId,hasAppId:!!bo.appId});console.log("FIREBASE CONFIG:",bo);let Vp,yn,NQ,us;try{Vp=$1(bo),yn=PX(Vp),NQ=fK(Vp),us=FT(Vp),console.log("Firebase initialized successfully")}catch(n){throw console.error("Error initializing Firebase:",n),new Error("Failed to initialize Firebase. Check your configuration.")}const VT=new Ps;VT.setCustomParameters({prompt:"select_account"});const OQ=async()=>{try{if(!us)throw new Error("Firebase Auth not initialized");if(typeof window>"u")throw new Error("Google sign-in requires a browser environment");const n=window.location.host,e=window.location.origin;console.log(" Attempting Google sign-in with popup..."),console.log("   Current domain:",n),console.log("   Current origin:",e);const i=(await Vq(us,VT)).user;return console.log(" Google sign-in successful:",i.email),i}catch(n){if(console.error(" Google sign-in popup error:",n),console.error("   Error code:",n==null?void 0:n.code),console.error("   Error message:",n==null?void 0:n.message),n.code==="auth/popup-closed-by-user")throw new Error("Sign-in was cancelled. Please try again.");if(n.code==="auth/popup-blocked")throw new Error("Pop-up was blocked by your browser. Please allow pop-ups for this site and try again.");if(n.code==="auth/unauthorized-domain"){const e=window.location.hostname,t="https://console.firebase.google.com/project/social-trends-29ac2/authentication/settings",i=`Domain "${e}" is not authorized. 
      
QUICK FIX:
1. Open: ${t}
2. Scroll to "Authorized domains"
3. Click "Add domain"
4. Enter: ${e}
5. Click "Add"

OR use localhost instead: http://localhost:${window.location.port||"8090"}`;throw console.error(" UNAUTHORIZED DOMAIN ERROR:"),console.error("   Current domain:",e),console.error("   Fix URL:",t),new Error(i)}else throw n.code==="auth/network-request-failed"?new Error("Network error. Please check your internet connection and try again."):new Error(`Sign-in failed: ${n.message||"Unknown error occurred"}`)}},jQ=async()=>{try{if(!us)throw new Error("Firebase Auth not initialized");console.log(" Attempting Google sign-in with redirect..."),await Wq(us,VT)}catch(n){throw console.error(" Google sign-in redirect error:",n),new Error(`Redirect sign-in failed: ${n.message||"Unknown error occurred"}`)}},LQ=async()=>{try{const n=await Yq(us);return n?(console.log(" Google sign-in redirect successful:",n.user.email),n.user):null}catch(n){throw console.error(" Error handling redirect result:",n),n}},kL=async()=>{try{await bq(us)}catch(n){throw console.error("Sign out error:",n),n}},Bd=()=>us.currentUser,Tv=n=>mL(us,n),FQ=[{title:"Instagram Analytics",description:"Track your growth, engagement, and audience insights with beautiful charts.",icon:""},{title:"Top Influencers",description:"Discover the most influential creators in every niche.",icon:""},{title:"Brand Collab Readiness",description:"See how ready your profile is for brand deals and partnerships.",icon:""},{title:"Daily Trend Explorer",description:"Stay ahead with real-time trending hashtags, posts, and audio.",icon:""}],VQ=()=>p.jsxs("div",{className:"max-w-5xl mx-auto py-12 px-2 md:px-0",children:[p.jsxs("section",{className:"w-full py-16 px-4 flex flex-col items-center text-center bg-gradient-to-br from-[#f9ce34]/10 via-[#ee2a7b]/10 to-[#6228d7]/10 rounded-2xl mb-12",children:[p.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold mb-4 bg-gradient-to-r from-[#f9ce34] via-[#ee2a7b] to-[#6228d7] bg-clip-text text-transparent",children:"Unlock Instagram Growth with AI"}),p.jsx("p",{className:"text-lg md:text-xl text-gray-700 max-w-3xl mb-8",children:"The all-in-one dashboard for creators, brands, and marketers. Analyze, grow, and stay ahead of the trends with powerful analytics and AI tools."}),p.jsx("a",{href:"/trending",className:"inline-block px-8 py-3 rounded-lg font-bold text-lg bg-gradient-to-r from-[#f9ce34] via-[#ee2a7b] to-[#6228d7] text-white shadow-lg hover:scale-105 transition-transform",children:"Explore Trending Now"})]}),p.jsx("section",{className:"w-full py-12 px-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:FQ.map((n,e)=>p.jsxs("div",{className:"bg-white rounded-2xl shadow p-6 flex flex-col items-center text-center hover:shadow-lg transition-shadow",children:[p.jsx("div",{className:"text-4xl mb-3",children:n.icon}),p.jsx("h3",{className:"font-bold text-lg mb-2 text-gray-900",children:n.title}),p.jsx("p",{className:"text-gray-600 text-base",children:n.description})]},e))}),p.jsxs("section",{className:"w-full py-12 flex flex-col items-center bg-gradient-to-r from-[#f9ce34]/10 via-[#ee2a7b]/10 to-[#6228d7]/10 rounded-2xl mb-12",children:[p.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Ready to get started?"}),p.jsx("a",{href:"/subscription",className:"inline-block px-8 py-3 rounded-lg font-bold text-lg bg-[#8b5cf6] text-white shadow hover:bg-[#7c3aed] transition-colors",children:"View Subscription Plans"})]}),p.jsx("footer",{className:"border-t py-6 mt-8",children:p.jsxs("div",{className:"flex flex-col items-center justify-between gap-4 md:h-16 md:flex-row",children:[p.jsxs("div",{className:"flex flex-row gap-6 text-sm text-muted-foreground mb-2 md:mb-0",children:[p.jsx("a",{href:"/terms-and-conditions",className:"hover:text-insta-primary transition-colors",children:"Terms of Service"}),p.jsx("a",{href:"/privacy",className:"hover:text-insta-primary transition-colors",children:"Privacy Policy"}),p.jsx("a",{href:"/refund",className:"hover:text-insta-primary transition-colors",children:"Refund Policy"})]}),p.jsxs("p",{className:"text-sm text-muted-foreground text-center md:text-left",children:[" ",new Date().getFullYear()," Insytiq. All rights reserved."]}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Data refreshes every 24 hours"})]})})]}),BQ=()=>{const n=no();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),p.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},UQ="modulepreload",$Q=function(n){return"/"+n},ak={},zQ=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(t.map(l=>{if(l=$Q(l),l in ak)return;ak[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":UQ,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var IL={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(n,e){((t,i)=>{n.exports=i()})(M5,function t(){var i=typeof self<"u"?self:typeof window<"u"?window:i!==void 0?i:{},r,s=!i.document&&!!i.postMessage,o=i.IS_PAPA_WORKER||!1,a={},l=0,u={};function c(T){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(E){var C=k(E);C.chunkSize=parseInt(C.chunkSize),E.step||E.chunk||(C.chunkSize=null),this._handle=new g(C),(this._handle.streamer=this)._config=C}).call(this,T),this.parseChunk=function(E,C){var D=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<D){let R=this._config.newline;R||(N=this._config.quoteChar||'"',R=this._handle.guessLineEndings(E,N)),E=[...E.split(R).slice(D)].join(R)}this.isFirstChunk&&A(this._config.beforeFirstChunk)&&(N=this._config.beforeFirstChunk(E))!==void 0&&(E=N),this.isFirstChunk=!1,this._halted=!1;var D=this._partialLine+E,N=(this._partialLine="",this._handle.parse(D,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(E=N.meta.cursor,D=(this._finished||(this._partialLine=D.substring(E-this._baseIndex),this._baseIndex=E),N&&N.data&&(this._rowCount+=N.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)i.postMessage({results:N,workerId:u.WORKER_ID,finished:D});else if(A(this._config.chunk)&&!C){if(this._config.chunk(N,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=N=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(N.data),this._completeResults.errors=this._completeResults.errors.concat(N.errors),this._completeResults.meta=N.meta),this._completed||!D||!A(this._config.complete)||N&&N.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),D||N&&N.meta.paused||this._nextChunk(),N}this._halted=!0},this._sendError=function(E){A(this._config.error)?this._config.error(E):o&&this._config.error&&i.postMessage({workerId:u.WORKER_ID,error:E,finished:!1})}}function h(T){var E;(T=T||{}).chunkSize||(T.chunkSize=u.RemoteChunkSize),c.call(this,T),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(C){this._input=C,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(E=new XMLHttpRequest,this._config.withCredentials&&(E.withCredentials=this._config.withCredentials),s||(E.onload=M(this._chunkLoaded,this),E.onerror=M(this._chunkError,this)),E.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var C,D=this._config.downloadRequestHeaders;for(C in D)E.setRequestHeader(C,D[C])}var N;this._config.chunkSize&&(N=this._start+this._config.chunkSize-1,E.setRequestHeader("Range","bytes="+this._start+"-"+N));try{E.send(this._config.downloadRequestBody)}catch(R){this._chunkError(R.message)}s&&E.status===0&&this._chunkError()}},this._chunkLoaded=function(){E.readyState===4&&(E.status<200||400<=E.status?this._chunkError():(this._start+=this._config.chunkSize||E.responseText.length,this._finished=!this._config.chunkSize||this._start>=(C=>(C=C.getResponseHeader("Content-Range"))!==null?parseInt(C.substring(C.lastIndexOf("/")+1)):-1)(E),this.parseChunk(E.responseText)))},this._chunkError=function(C){C=E.statusText||C,this._sendError(new Error(C))}}function d(T){(T=T||{}).chunkSize||(T.chunkSize=u.LocalChunkSize),c.call(this,T);var E,C,D=typeof FileReader<"u";this.stream=function(N){this._input=N,C=N.slice||N.webkitSlice||N.mozSlice,D?((E=new FileReader).onload=M(this._chunkLoaded,this),E.onerror=M(this._chunkError,this)):E=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var N=this._input,R=(this._config.chunkSize&&(R=Math.min(this._start+this._config.chunkSize,this._input.size),N=C.call(N,this._start,R)),E.readAsText(N,this._config.encoding));D||this._chunkLoaded({target:{result:R}})},this._chunkLoaded=function(N){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(N.target.result)},this._chunkError=function(){this._sendError(E.error)}}function f(T){var E;c.call(this,T=T||{}),this.stream=function(C){return E=C,this._nextChunk()},this._nextChunk=function(){var C,D;if(!this._finished)return C=this._config.chunkSize,E=C?(D=E.substring(0,C),E.substring(C)):(D=E,""),this._finished=!E,this.parseChunk(D)}}function y(T){c.call(this,T=T||{});var E=[],C=!0,D=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(N){this._input=N,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){D&&E.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),E.length?this.parseChunk(E.shift()):C=!0},this._streamData=M(function(N){try{E.push(typeof N=="string"?N:N.toString(this._config.encoding)),C&&(C=!1,this._checkIsFinished(),this.parseChunk(E.shift()))}catch(R){this._streamError(R)}},this),this._streamError=M(function(N){this._streamCleanUp(),this._sendError(N)},this),this._streamEnd=M(function(){this._streamCleanUp(),D=!0,this._streamData("")},this),this._streamCleanUp=M(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(T){var E,C,D,N,R=Math.pow(2,53),V=-R,q=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ee=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,H=this,F=0,j=0,L=!1,B=!1,z=[],$={data:[],errors:[],meta:{}};function oe(X){return T.skipEmptyLines==="greedy"?X.join("").trim()==="":X.length===1&&X[0].length===0}function K(){if($&&D&&(le("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),D=!1),T.skipEmptyLines&&($.data=$.data.filter(function(fe){return!oe(fe)})),ne()){let fe=function(Pe,xe){A(T.transformHeader)&&(Pe=T.transformHeader(Pe,xe)),z.push(Pe)};if($)if(Array.isArray($.data[0])){for(var X=0;ne()&&X<$.data.length;X++)$.data[X].forEach(fe);$.data.splice(0,1)}else $.data.forEach(fe)}function ce(fe,Pe){for(var xe=T.header?{}:[],ge=0;ge<fe.length;ge++){var De=ge,Ee=fe[ge],Ee=((Ve,Te)=>(Se=>(T.dynamicTypingFunction&&T.dynamicTyping[Se]===void 0&&(T.dynamicTyping[Se]=T.dynamicTypingFunction(Se)),(T.dynamicTyping[Se]||T.dynamicTyping)===!0))(Ve)?Te==="true"||Te==="TRUE"||Te!=="false"&&Te!=="FALSE"&&((Se=>{if(q.test(Se)&&(Se=parseFloat(Se),V<Se&&Se<R))return 1})(Te)?parseFloat(Te):ee.test(Te)?new Date(Te):Te===""?null:Te):Te)(De=T.header?ge>=z.length?"__parsed_extra":z[ge]:De,Ee=T.transform?T.transform(Ee,De):Ee);De==="__parsed_extra"?(xe[De]=xe[De]||[],xe[De].push(Ee)):xe[De]=Ee}return T.header&&(ge>z.length?le("FieldMismatch","TooManyFields","Too many fields: expected "+z.length+" fields but parsed "+ge,j+Pe):ge<z.length&&le("FieldMismatch","TooFewFields","Too few fields: expected "+z.length+" fields but parsed "+ge,j+Pe)),xe}var me;$&&(T.header||T.dynamicTyping||T.transform)&&(me=1,!$.data.length||Array.isArray($.data[0])?($.data=$.data.map(ce),me=$.data.length):$.data=ce($.data,0),T.header&&$.meta&&($.meta.fields=z),j+=me)}function ne(){return T.header&&z.length===0}function le(X,ce,me,fe){X={type:X,code:ce,message:me},fe!==void 0&&(X.row=fe),$.errors.push(X)}A(T.step)&&(N=T.step,T.step=function(X){$=X,ne()?K():(K(),$.data.length!==0&&(F+=X.data.length,T.preview&&F>T.preview?C.abort():($.data=$.data[0],N($,H))))}),this.parse=function(X,ce,me){var fe=T.quoteChar||'"',fe=(T.newline||(T.newline=this.guessLineEndings(X,fe)),D=!1,T.delimiter?A(T.delimiter)&&(T.delimiter=T.delimiter(X),$.meta.delimiter=T.delimiter):((fe=((Pe,xe,ge,De,Ee)=>{var Ve,Te,Se,Be;Ee=Ee||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var gt=0;gt<Ee.length;gt++){for(var ft,ut=Ee[gt],vt=0,nn=0,Ue=0,ze=(Se=void 0,new v({comments:De,delimiter:ut,newline:xe,preview:10}).parse(Pe)),tt=0;tt<ze.data.length;tt++)ge&&oe(ze.data[tt])?Ue++:(ft=ze.data[tt].length,nn+=ft,Se===void 0?Se=ft:0<ft&&(vt+=Math.abs(ft-Se),Se=ft));0<ze.data.length&&(nn/=ze.data.length-Ue),(Te===void 0||vt<=Te)&&(Be===void 0||Be<nn)&&1.99<nn&&(Te=vt,Ve=ut,Be=nn)}return{successful:!!(T.delimiter=Ve),bestDelimiter:Ve}})(X,T.newline,T.skipEmptyLines,T.comments,T.delimitersToGuess)).successful?T.delimiter=fe.bestDelimiter:(D=!0,T.delimiter=u.DefaultDelimiter),$.meta.delimiter=T.delimiter),k(T));return T.preview&&T.header&&fe.preview++,E=X,C=new v(fe),$=C.parse(E,ce,me),K(),L?{meta:{paused:!0}}:$||{meta:{paused:!1}}},this.paused=function(){return L},this.pause=function(){L=!0,C.abort(),E=A(T.chunk)?"":E.substring(C.getCharIndex())},this.resume=function(){H.streamer._halted?(L=!1,H.streamer.parseChunk(E,!0)):setTimeout(H.resume,3)},this.aborted=function(){return B},this.abort=function(){B=!0,C.abort(),$.meta.aborted=!0,A(T.complete)&&T.complete($),E=""},this.guessLineEndings=function(Pe,fe){Pe=Pe.substring(0,1048576);var fe=new RegExp(_(fe)+"([^]*?)"+_(fe),"gm"),me=(Pe=Pe.replace(fe,"")).split("\r"),fe=Pe.split(`
`),Pe=1<fe.length&&fe[0].length<me[0].length;if(me.length===1||Pe)return`
`;for(var xe=0,ge=0;ge<me.length;ge++)me[ge][0]===`
`&&xe++;return xe>=me.length/2?`\r
`:"\r"}}function _(T){return T.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(T){var E=(T=T||{}).delimiter,C=T.newline,D=T.comments,N=T.step,R=T.preview,V=T.fastMode,q=null,ee=!1,H=T.quoteChar==null?'"':T.quoteChar,F=H;if(T.escapeChar!==void 0&&(F=T.escapeChar),(typeof E!="string"||-1<u.BAD_DELIMITERS.indexOf(E))&&(E=","),D===E)throw new Error("Comment character same as delimiter");D===!0?D="#":(typeof D!="string"||-1<u.BAD_DELIMITERS.indexOf(D))&&(D=!1),C!==`
`&&C!=="\r"&&C!==`\r
`&&(C=`
`);var j=0,L=!1;this.parse=function(B,z,$){if(typeof B!="string")throw new Error("Input must be a string");var oe=B.length,K=E.length,ne=C.length,le=D.length,X=A(N),ce=[],me=[],fe=[],Pe=j=0;if(!B)return vt();if(V||V!==!1&&B.indexOf(H)===-1){for(var xe=B.split(C),ge=0;ge<xe.length;ge++){if(fe=xe[ge],j+=fe.length,ge!==xe.length-1)j+=C.length;else if($)return vt();if(!D||fe.substring(0,le)!==D){if(X){if(ce=[],Be(fe.split(E)),nn(),L)return vt()}else Be(fe.split(E));if(R&&R<=ge)return ce=ce.slice(0,R),vt(!0)}}return vt()}for(var De=B.indexOf(E,j),Ee=B.indexOf(C,j),Ve=new RegExp(_(F)+_(H),"g"),Te=B.indexOf(H,j);;)if(B[j]===H)for(Te=j,j++;;){if((Te=B.indexOf(H,Te+1))===-1)return $||me.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ce.length,index:j}),ft();if(Te===oe-1)return ft(B.substring(j,Te).replace(Ve,H));if(H===F&&B[Te+1]===F)Te++;else if(H===F||Te===0||B[Te-1]!==F){De!==-1&&De<Te+1&&(De=B.indexOf(E,Te+1));var Se=gt((Ee=Ee!==-1&&Ee<Te+1?B.indexOf(C,Te+1):Ee)===-1?De:Math.min(De,Ee));if(B.substr(Te+1+Se,K)===E){fe.push(B.substring(j,Te).replace(Ve,H)),B[j=Te+1+Se+K]!==H&&(Te=B.indexOf(H,j)),De=B.indexOf(E,j),Ee=B.indexOf(C,j);break}if(Se=gt(Ee),B.substring(Te+1+Se,Te+1+Se+ne)===C){if(fe.push(B.substring(j,Te).replace(Ve,H)),ut(Te+1+Se+ne),De=B.indexOf(E,j),Te=B.indexOf(H,j),X&&(nn(),L))return vt();if(R&&ce.length>=R)return vt(!0);break}me.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ce.length,index:j}),Te++}}else if(D&&fe.length===0&&B.substring(j,j+le)===D){if(Ee===-1)return vt();j=Ee+ne,Ee=B.indexOf(C,j),De=B.indexOf(E,j)}else if(De!==-1&&(De<Ee||Ee===-1))fe.push(B.substring(j,De)),j=De+K,De=B.indexOf(E,j);else{if(Ee===-1)break;if(fe.push(B.substring(j,Ee)),ut(Ee+ne),X&&(nn(),L))return vt();if(R&&ce.length>=R)return vt(!0)}return ft();function Be(Ue){ce.push(Ue),Pe=j}function gt(Ue){var ze=0;return ze=Ue!==-1&&(Ue=B.substring(Te+1,Ue))&&Ue.trim()===""?Ue.length:ze}function ft(Ue){return $||(Ue===void 0&&(Ue=B.substring(j)),fe.push(Ue),j=oe,Be(fe),X&&nn()),vt()}function ut(Ue){j=Ue,Be(fe),fe=[],Ee=B.indexOf(C,j)}function vt(Ue){if(T.header&&!z&&ce.length&&!ee){var ze=ce[0],tt=Object.create(null),Mn=new Set(ze);let Ti=!1;for(let li=0;li<ze.length;li++){let Ft=ze[li];if(tt[Ft=A(T.transformHeader)?T.transformHeader(Ft,li):Ft]){let Ei,ys=tt[Ft];for(;Ei=Ft+"_"+ys,ys++,Mn.has(Ei););Mn.add(Ei),ze[li]=Ei,tt[Ft]++,Ti=!0,(q=q===null?{}:q)[Ei]=Ft}else tt[Ft]=1,ze[li]=Ft;Mn.add(Ft)}Ti&&console.warn("Duplicate headers found and renamed."),ee=!0}return{data:ce,errors:me,meta:{delimiter:E,linebreak:C,aborted:L,truncated:!!Ue,cursor:Pe+(z||0),renamedHeaders:q}}}function nn(){N(vt()),ce=[],me=[]}},this.abort=function(){L=!0},this.getCharIndex=function(){return j}}function b(T){var E=T.data,C=a[E.workerId],D=!1;if(E.error)C.userError(E.error,E.file);else if(E.results&&E.results.data){var N={abort:function(){D=!0,x(E.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:P,resume:P};if(A(C.userStep)){for(var R=0;R<E.results.data.length&&(C.userStep({data:E.results.data[R],errors:E.results.errors,meta:E.results.meta},N),!D);R++);delete E.results}else A(C.userChunk)&&(C.userChunk(E.results,N,E.file),delete E.results)}E.finished&&!D&&x(E.workerId,E.results)}function x(T,E){var C=a[T];A(C.userComplete)&&C.userComplete(E),C.terminate(),delete a[T]}function P(){throw new Error("Not implemented.")}function k(T){if(typeof T!="object"||T===null)return T;var E,C=Array.isArray(T)?[]:{};for(E in T)C[E]=k(T[E]);return C}function M(T,E){return function(){T.apply(E,arguments)}}function A(T){return typeof T=="function"}return u.parse=function(T,E){var C=(E=E||{}).dynamicTyping||!1;if(A(C)&&(E.dynamicTypingFunction=C,C={}),E.dynamicTyping=C,E.transform=!!A(E.transform)&&E.transform,!E.worker||!u.WORKERS_SUPPORTED)return C=null,u.NODE_STREAM_INPUT,typeof T=="string"?(T=(D=>D.charCodeAt(0)!==65279?D:D.slice(1))(T),C=new(E.download?h:f)(E)):T.readable===!0&&A(T.read)&&A(T.on)?C=new y(E):(i.File&&T instanceof File||T instanceof Object)&&(C=new d(E)),C.stream(T);(C=(()=>{var D;return!!u.WORKERS_SUPPORTED&&(D=(()=>{var N=i.URL||i.webkitURL||null,R=t.toString();return u.BLOB_URL||(u.BLOB_URL=N.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",R,")();"],{type:"text/javascript"})))})(),(D=new i.Worker(D)).onmessage=b,D.id=l++,a[D.id]=D)})()).userStep=E.step,C.userChunk=E.chunk,C.userComplete=E.complete,C.userError=E.error,E.step=A(E.step),E.chunk=A(E.chunk),E.complete=A(E.complete),E.error=A(E.error),delete E.worker,C.postMessage({input:T,config:E,workerId:C.id})},u.unparse=function(T,E){var C=!1,D=!0,N=",",R=`\r
`,V='"',q=V+V,ee=!1,H=null,F=!1,j=((()=>{if(typeof E=="object"){if(typeof E.delimiter!="string"||u.BAD_DELIMITERS.filter(function(z){return E.delimiter.indexOf(z)!==-1}).length||(N=E.delimiter),typeof E.quotes!="boolean"&&typeof E.quotes!="function"&&!Array.isArray(E.quotes)||(C=E.quotes),typeof E.skipEmptyLines!="boolean"&&typeof E.skipEmptyLines!="string"||(ee=E.skipEmptyLines),typeof E.newline=="string"&&(R=E.newline),typeof E.quoteChar=="string"&&(V=E.quoteChar),typeof E.header=="boolean"&&(D=E.header),Array.isArray(E.columns)){if(E.columns.length===0)throw new Error("Option columns is empty");H=E.columns}E.escapeChar!==void 0&&(q=E.escapeChar+V),E.escapeFormulae instanceof RegExp?F=E.escapeFormulae:typeof E.escapeFormulae=="boolean"&&E.escapeFormulae&&(F=/^[=+\-@\t\r].*$/)}})(),new RegExp(_(V),"g"));if(typeof T=="string"&&(T=JSON.parse(T)),Array.isArray(T)){if(!T.length||Array.isArray(T[0]))return L(null,T,ee);if(typeof T[0]=="object")return L(H||Object.keys(T[0]),T,ee)}else if(typeof T=="object")return typeof T.data=="string"&&(T.data=JSON.parse(T.data)),Array.isArray(T.data)&&(T.fields||(T.fields=T.meta&&T.meta.fields||H),T.fields||(T.fields=Array.isArray(T.data[0])?T.fields:typeof T.data[0]=="object"?Object.keys(T.data[0]):[]),Array.isArray(T.data[0])||typeof T.data[0]=="object"||(T.data=[T.data])),L(T.fields||[],T.data||[],ee);throw new Error("Unable to serialize unrecognized input");function L(z,$,oe){var K="",ne=(typeof z=="string"&&(z=JSON.parse(z)),typeof $=="string"&&($=JSON.parse($)),Array.isArray(z)&&0<z.length),le=!Array.isArray($[0]);if(ne&&D){for(var X=0;X<z.length;X++)0<X&&(K+=N),K+=B(z[X],X);0<$.length&&(K+=R)}for(var ce=0;ce<$.length;ce++){var me=(ne?z:$[ce]).length,fe=!1,Pe=ne?Object.keys($[ce]).length===0:$[ce].length===0;if(oe&&!ne&&(fe=oe==="greedy"?$[ce].join("").trim()==="":$[ce].length===1&&$[ce][0].length===0),oe==="greedy"&&ne){for(var xe=[],ge=0;ge<me;ge++){var De=le?z[ge]:ge;xe.push($[ce][De])}fe=xe.join("").trim()===""}if(!fe){for(var Ee=0;Ee<me;Ee++){0<Ee&&!Pe&&(K+=N);var Ve=ne&&le?z[Ee]:Ee;K+=B($[ce][Ve],Ee)}ce<$.length-1&&(!oe||0<me&&!Pe)&&(K+=R)}}return K}function B(z,$){var oe,K;return z==null?"":z.constructor===Date?JSON.stringify(z).slice(1,25):(K=!1,F&&typeof z=="string"&&F.test(z)&&(z="'"+z,K=!0),oe=z.toString().replace(j,q),(K=K||C===!0||typeof C=="function"&&C(z,$)||Array.isArray(C)&&C[$]||((ne,le)=>{for(var X=0;X<le.length;X++)if(-1<ne.indexOf(le[X]))return!0;return!1})(oe,u.BAD_DELIMITERS)||-1<oe.indexOf(N)||oe.charAt(0)===" "||oe.charAt(oe.length-1)===" ")?V+oe+V:oe)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!s&&!!i.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=v,u.ParserHandle=g,u.NetworkStreamer=h,u.FileStreamer=d,u.StringStreamer=f,u.ReadableStreamStreamer=y,i.jQuery&&((r=i.jQuery).fn.parse=function(T){var E=T.config||{},C=[];return this.each(function(R){if(!(r(this).prop("tagName").toUpperCase()==="INPUT"&&r(this).attr("type").toLowerCase()==="file"&&i.FileReader)||!this.files||this.files.length===0)return!0;for(var V=0;V<this.files.length;V++)C.push({file:this.files[V],inputElem:this,instanceConfig:r.extend({},E)})}),D(),this;function D(){if(C.length===0)A(T.complete)&&T.complete();else{var R,V,q,ee,H=C[0];if(A(T.before)){var F=T.before(H.file,H.inputElem);if(typeof F=="object"){if(F.action==="abort")return R="AbortError",V=H.file,q=H.inputElem,ee=F.reason,void(A(T.error)&&T.error({name:R},V,q,ee));if(F.action==="skip")return void N();typeof F.config=="object"&&(H.instanceConfig=r.extend(H.instanceConfig,F.config))}else if(F==="skip")return void N()}var j=H.instanceConfig.complete;H.instanceConfig.complete=function(L){A(j)&&j(L,H.file,H.inputElem),N()},u.parse(H.file,H.instanceConfig)}}function N(){C.splice(0,1),D()}}),o&&(i.onmessage=function(T){T=T.data,u.WORKER_ID===void 0&&T&&(u.WORKER_ID=T.workerId),typeof T.input=="string"?i.postMessage({workerId:u.WORKER_ID,results:u.parse(T.input,T.config),finished:!0}):(i.File&&T.input instanceof File||T.input instanceof Object)&&(T=u.parse(T.input,T.config))&&i.postMessage({workerId:u.WORKER_ID,results:T,finished:!0})}),(h.prototype=Object.create(c.prototype)).constructor=h,(d.prototype=Object.create(c.prototype)).constructor=d,(f.prototype=Object.create(f.prototype)).constructor=f,(y.prototype=Object.create(c.prototype)).constructor=y,u})})(IL);var DL=IL.exports;const Ev=xx(DL),HQ=qD({__proto__:null,default:Ev},[DL]),WQ="https://docs.google.com/spreadsheets/d/1PJ4DTnYDBFBWdaEKT2uhIBo-OlNThjFCf0c6tzngXZY/gviz/tq?tqx=out:csv&sheet=Top%20Influencers",RL="whoistrend_influencers_data_v1",GQ=1e3*60*60,Lr={data:null,promise:null};function Q0(n,e){return e.filter(t=>t.Category&&t.Category.trim().toLowerCase()===n.trim().toLowerCase())}function YQ(){try{const n=localStorage.getItem(RL);if(!n)return null;const e=JSON.parse(n);return!e.data||!e.timestamp||Date.now()-e.timestamp>GQ?null:e.data}catch{return null}}function lk(n){try{localStorage.setItem(RL,JSON.stringify({data:n,timestamp:Date.now()}))}catch{}}function XQ(n){const[e,t]=w.useState([]),[i,r]=w.useState(!1);return w.useEffect(()=>{if(!n){t([]);return}if(r(!0),!Lr.data){const s=YQ();s&&(Lr.data=s)}if(Lr.data){t(Q0(n,Lr.data)),r(!1);return}if(Lr.promise){Lr.promise.then(s=>{t(Q0(n,s)),r(!1)});return}Lr.promise=fetch(WQ).then(s=>s.text()).then(s=>new Promise(o=>{Ev.parse(s,{header:!0,complete:a=>{Lr.data=a.data,lk(a.data),o(a.data)},error:()=>{Lr.data=[],lk([]),o([])}})})),Lr.promise.then(s=>{t(Q0(n,s)),r(!1)})},[n]),{data:e,loading:i}}const xr={FREE:"Free",TRENDS_PLUS:"Trends+",ANALYTICS_PLUS:"Analytics+",PRO_COMBO:"Pro Combo"},BT=(n,e)=>{var i;return(i={[xr.FREE]:{trendingContentLimit:5,topInfluencerLimit:10,analytics:!1},[xr.TRENDS_PLUS]:{trendingContentLimit:20,topInfluencerLimit:20,analytics:!1},[xr.ANALYTICS_PLUS]:{trendingContentLimit:0,topInfluencerLimit:0,analytics:!0},[xr.PRO_COMBO]:{trendingContentLimit:50,topInfluencerLimit:50,analytics:!0}}[e])==null?void 0:i[n]},uk=[{id:"food",name:"Food",icon:F6},{id:"travel",name:"Travel",icon:A6},{id:"beauty",name:"Beauty",icon:y6},{id:"sport-fitness",name:"Sport & Fitness",icon:c6},{id:"lifestyle",name:"Lifestyle",icon:x6},{id:"parenting",name:"Parenting",icon:LM},{id:"business",name:"Business",icon:v6},{id:"music",name:"Music",icon:b6},{id:"photography",name:"Photography",icon:i6},{id:"fashion",name:"Fashion",icon:M6},{id:"animals",name:"Animals",icon:r6}],Ua=new Map;function KQ(n){return p.jsx("span",{className:"gradient-text",children:n.charAt(0).toUpperCase()+n.slice(1)})}const qQ=()=>p.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 flex flex-col md:flex-row items-center gap-6 px-6 py-6 md:py-8 animate-pulse",children:[p.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[p.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200"}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"h-5 w-32 bg-gray-200 rounded"}),p.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded"})]})]}),p.jsx("div",{className:"flex-1 flex flex-wrap justify-center md:justify-end gap-8 md:gap-12",children:[...Array(6)].map((n,e)=>p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded mb-1"}),p.jsx("div",{className:"h-3 w-12 bg-gray-200 rounded"})]},e))})]}),ck=async n=>{if(!Ua.has(n))try{const t=await(await fetch("https://docs.google.com/spreadsheets/d/1PJ4DTnYDBFBWdaEKT2uhIBo-OlNThjFCf0c6tzngXZY/gviz/tq?tqx=out:csv&sheet=Top%20Influencers")).text();(await zQ(()=>Promise.resolve().then(()=>HQ),void 0)).parse(t,{header:!0,complete:r=>{const s=r.data.filter(o=>o.Category&&o.Category.trim().toLowerCase()===n.trim().toLowerCase());Ua.set(n,s)}})}catch(e){console.error("Error preloading data:",e)}};function QQ({isPremium:n=!1,userPlan:e=xr.FREE}){const[t,i]=w.useState(null),[r,s]=w.useState(!1),[o,a]=w.useState([]),{data:l,loading:u}=XQ(t||"");w.useEffect(()=>{uk.forEach(y=>ck(y.id))},[]);const c=y=>{Ua.has(y)||ck(y)},h=async y=>{if(s(!0),i(y),Ua.has(y))a(Ua.get(y)),s(!1);else{const g=setInterval(()=>{Ua.has(y)&&(a(Ua.get(y)),s(!1),clearInterval(g))},100);setTimeout(()=>{clearInterval(g),s(!1)},3e3)}},d=w.useMemo(()=>t&&o.length>0?o:l,[t,o,l]),f=BT("topInfluencerLimit",e||xr.FREE)||10;return t?p.jsx(p.Fragment,{children:p.jsxs("div",{className:"max-w-5xl mx-auto py-12 px-4",children:[p.jsx("div",{className:"flex items-center gap-4 mb-6",children:p.jsxs("button",{onClick:()=>{i(null),s(!1),a([])},className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 transition-colors",children:[p.jsx(n6,{className:"w-5 h-5"}),"Back to Categories"]})}),p.jsxs("h1",{className:"text-4xl md:text-5xl font-extrabold text-center mb-4",children:["Instagram ",KQ(t)," Top Influencers"]}),p.jsxs("p",{className:"text-center text-lg md:text-xl text-gray-700 mb-10 max-w-3xl mx-auto",children:["On Instagram, ",t," is always a trend: we have selected the top 20 Influencers who share posts, reels, videos and stories about ",t,". Watch their style and post ",p.jsx("b",{children:"original contents"}),"."]}),p.jsx("div",{className:"space-y-6",children:u?[...Array(10)].map((y,g)=>p.jsx(qQ,{},g)):d.length>0?d.slice(0,20).map((y,g)=>{const _=e===xr.FREE&&g>=f;return p.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 flex flex-col md:flex-row items-center gap-6 px-6 py-6 md:py-8 hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02] relative",style:{animationDelay:`${g*50}ms`},children:[p.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[p.jsx("a",{href:`https://instagram.com/${y.Username}`,target:"_blank",rel:"noopener noreferrer",className:"block",children:p.jsx("img",{src:y.Avatar,alt:y.Username,className:`w-16 h-16 rounded-full object-cover border-2 border-white shadow cursor-pointer hover:scale-105 transition-transform ${_?"blur-lg pointer-events-none select-none":""}`,loading:"lazy"})}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:`font-bold text-lg ${_?"blur-md pointer-events-none select-none":""}`,children:y.Name}),p.jsxs("div",{className:`text-gray-500 text-sm ${_?"blur-md pointer-events-none select-none":""}`,children:["@",y.Username]})]})]}),p.jsxs("div",{className:"flex-1 flex flex-wrap justify-center md:justify-end gap-8 md:gap-12",children:[p.jsxs("div",{className:`text-center ${_?"blur-md pointer-events-none select-none":""}`,children:[p.jsx("div",{className:"text-xl font-bold",children:y.Followers}),p.jsx("div",{className:"text-xs text-gray-500",children:"Followers"})]}),p.jsxs("div",{className:`text-center ${_?"blur-md pointer-events-none select-none":""}`,children:[p.jsx("div",{className:"text-xl font-bold",children:y.Following}),p.jsx("div",{className:"text-xs text-gray-500",children:"Following"})]}),p.jsxs("div",{className:`text-center ${_?"blur-md pointer-events-none select-none":""}`,children:[p.jsx("div",{className:"text-xl font-bold",children:y.Posts}),p.jsx("div",{className:"text-xs text-gray-500",children:"Posts"})]}),p.jsxs("div",{className:`text-center ${_?"blur-md pointer-events-none select-none":""}`,children:[p.jsx("div",{className:"text-xl font-bold",children:y.ER}),p.jsx("div",{className:"text-xs text-gray-500",children:"ER"})]}),p.jsxs("div",{className:`text-center ${_?"blur-md pointer-events-none select-none":""}`,children:[p.jsx("div",{className:"text-xl font-bold",children:y.AverageLikes}),p.jsx("div",{className:"text-xs text-gray-500",children:"Average Likes"})]}),p.jsxs("div",{className:`text-center ${_?"blur-md pointer-events-none select-none":""}`,children:[p.jsx("div",{className:"text-xl font-bold",children:y.AverageComments}),p.jsx("div",{className:"text-xs text-gray-500",children:"Average Comments"})]})]}),_&&g===f&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20",children:p.jsx("div",{className:"p-[2px] rounded-full bg-gradient-to-r from-[#f9ce34] via-[#ee2a7b] to-[#6228d7]",children:p.jsx("a",{href:"/subscription",className:"rounded-full px-6 py-2 font-bold text-base shadow-lg bg-white bg-opacity-95 flex items-center justify-center whitespace-nowrap min-w-[180px]",style:{display:"inline-block",fontWeight:700,letterSpacing:"0.01em",backgroundClip:"padding-box",minWidth:"fit-content",maxWidth:"90%"},children:p.jsx("span",{style:{background:"linear-gradient(90deg, #f9ce34, #ee2a7b, #6228d7)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontWeight:700,fontSize:"1.1rem",whiteSpace:"nowrap"},children:"Upgrade for Full Access"})})})})]},y.Username+g)}):p.jsxs("div",{className:"text-center py-12",children:[p.jsx(T6,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-gray-400"}),p.jsx("p",{className:"text-gray-500",children:"Loading influencers..."})]})})]})}):p.jsx(p.Fragment,{children:p.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center py-12 px-4",children:[p.jsx("h1",{className:"text-4xl font-bold mb-8 text-center gradient-text",children:"Top Influencer Categories"}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 w-full max-w-5xl",children:uk.map(({id:y,name:g,icon:_})=>p.jsxs("button",{onClick:()=>h(y),onMouseEnter:()=>c(y),className:"flex flex-col items-center justify-center p-6 bg-white rounded-xl shadow-md hover:shadow-lg border border-gray-100 hover:bg-insta-primary/10 transition-all duration-300 group focus:outline-none transform hover:scale-105",children:[p.jsx(_,{className:"w-10 h-10 mb-3 text-insta-primary group-hover:text-insta-primary-dark transition-colors"}),p.jsx("span",{className:"text-lg font-semibold text-gray-800 group-hover:text-insta-primary-dark transition-colors",children:g})]},y))})]})})}const ZQ=n=>p.jsx(QQ,{...n}),ML="https://docs.google.com/spreadsheets/d/1PJ4DTnYDBFBWdaEKT2uhIBo-OlNThjFCf0c6tzngXZY/gviz/tq?tqx=out:csv&sheet=Top%20Influencers",Hr=new Map;let hk=!0;function Xt(n,e){const t=r=>r.replace(/[\s_]/g,"").toLowerCase(),i=Object.keys(n).find(r=>t(r)===t(e));return i?n[i]:void 0}async function JQ(){if(Hr.size>0)return Hr;try{const e=await(await fetch(ML)).text();return new Promise(t=>{Ev.parse(e,{header:!0,complete:i=>{const r=i.data,s=new Set;r.forEach(o=>{if(o.Category){const a=o.Category.trim().toLowerCase();s.add(a),Hr.has(a)||Hr.set(a,[]);const l={...o,Username:Xt(o,"Username"),Name:Xt(o,"Name"),Avatar:Xt(o,"Avatar"),Followers:Xt(o,"Followers"),Following:Xt(o,"Following"),Posts:Xt(o,"Posts"),ER:Xt(o,"ER"),AverageLikes:Xt(o,"AverageLikes"),AverageComments:Xt(o,"AverageComments"),Category:Xt(o,"Category")};a==="travel"&&console.log("Mapped influencer row:",JSON.stringify(l,null,2)),Hr.get(a).push(l)}}),t(Hr)},error:i=>{console.error("Error parsing CSV:",i),t(new Map)}})})}catch(n){return console.error("Error fetching data:",n),new Map}}function eZ(n){const[e,t]=w.useState([]),[i,r]=w.useState(!1);return w.useEffect(()=>{if(!n){t([]);return}(async()=>{r(!0);try{if(Hr.has(n.toLowerCase())){t(Hr.get(n.toLowerCase())),r(!1);return}if(hk&&(hk=!1,await JQ(),Hr.has(n.toLowerCase()))){t(Hr.get(n.toLowerCase())),r(!1);return}const a=await(await fetch(ML)).text();Ev.parse(a,{header:!0,complete:l=>{const u=l.data.filter(c=>c.Category&&c.Category.trim().toLowerCase()===n.trim().toLowerCase()).map(c=>{const h={...c,Username:Xt(c,"Username"),Name:Xt(c,"Name"),Avatar:Xt(c,"Avatar"),Followers:Xt(c,"Followers"),Following:Xt(c,"Following"),Posts:Xt(c,"Posts"),ER:Xt(c,"ER"),AverageLikes:Xt(c,"AverageLikes"),AverageComments:Xt(c,"AverageComments"),Category:Xt(c,"Category")};return(c.Category||"").trim().toLowerCase()==="travel"&&console.log("Mapped influencer row (fallback):",JSON.stringify(h,null,2)),h});t(u),r(!1)},error:l=>{console.error("Error parsing CSV:",l),t([]),r(!1)}})}catch(o){console.error("Error fetching data:",o),t([]),r(!1)}})()},[n]),e}const NL=typeof document<"u"?te.useLayoutEffect:()=>{};function tZ(n){const e=w.useRef(null);return NL(()=>{e.current=n},[n]),w.useCallback((...t)=>{const i=e.current;return i==null?void 0:i(...t)},[])}const Ca=n=>{var e;return(e=n==null?void 0:n.ownerDocument)!==null&&e!==void 0?e:document},Ya=n=>n&&"window"in n&&n.window===n?n:Ca(n).defaultView||window;function nZ(n){return n!==null&&typeof n=="object"&&"nodeType"in n&&typeof n.nodeType=="number"}function iZ(n){return nZ(n)&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in n}let rZ=!1;function UT(){return rZ}function OL(n,e){if(!UT())return e&&n?n.contains(e):!1;if(!n||!e)return!1;let t=e;for(;t!==null;){if(t===n)return!0;t.tagName==="SLOT"&&t.assignedSlot?t=t.assignedSlot.parentNode:iZ(t)?t=t.host:t=t.parentNode}return!1}const _w=(n=document)=>{var e;if(!UT())return n.activeElement;let t=n.activeElement;for(;t&&"shadowRoot"in t&&(!((e=t.shadowRoot)===null||e===void 0)&&e.activeElement);)t=t.shadowRoot.activeElement;return t};function jL(n){return UT()&&n.target.shadowRoot&&n.composedPath?n.composedPath()[0]:n.target}function sZ(n){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(t=>n.test(t.brand)))||n.test(window.navigator.userAgent)}function oZ(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function LL(n){let e=null;return()=>(e==null&&(e=n()),e)}const aZ=LL(function(){return oZ(/^Mac/i)}),lZ=LL(function(){return sZ(/Android/i)});function FL(){let n=w.useRef(new Map),e=w.useCallback((r,s,o,a)=>{let l=a!=null&&a.once?(...u)=>{n.current.delete(o),o(...u)}:o;n.current.set(o,{type:s,eventTarget:r,fn:l,options:a}),r.addEventListener(s,l,a)},[]),t=w.useCallback((r,s,o,a)=>{var l;let u=((l=n.current.get(o))===null||l===void 0?void 0:l.fn)||o;r.removeEventListener(s,u,a),n.current.delete(o)},[]),i=w.useCallback(()=>{n.current.forEach((r,s)=>{t(r.eventTarget,r.type,s,r.options)})},[t]);return w.useEffect(()=>i,[i]),{addGlobalListener:e,removeGlobalListener:t,removeAllGlobalListeners:i}}function uZ(n){return n.mozInputSource===0&&n.isTrusted?!0:lZ()&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}function VL(n){let e=n;return e.nativeEvent=n,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function cZ(n,e){Object.defineProperty(n,"target",{value:e}),Object.defineProperty(n,"currentTarget",{value:e})}function BL(n){let e=w.useRef({isFocused:!1,observer:null});NL(()=>{const i=e.current;return()=>{i.observer&&(i.observer.disconnect(),i.observer=null)}},[]);let t=tZ(i=>{n==null||n(i)});return w.useCallback(i=>{if(i.target instanceof HTMLButtonElement||i.target instanceof HTMLInputElement||i.target instanceof HTMLTextAreaElement||i.target instanceof HTMLSelectElement){e.current.isFocused=!0;let r=i.target,s=o=>{if(e.current.isFocused=!1,r.disabled){let a=VL(o);t(a)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};r.addEventListener("focusout",s,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&r.disabled){var o;(o=e.current.observer)===null||o===void 0||o.disconnect();let a=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),e.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[t])}let hZ=!1,Of=null,ww=new Set,Yh=new Map,Tl=!1,xw=!1;const dZ={Tab:!0,Escape:!0};function $T(n,e){for(let t of ww)t(n,e)}function fZ(n){return!(n.metaKey||!aZ()&&n.altKey||n.ctrlKey||n.key==="Control"||n.key==="Shift"||n.key==="Meta")}function Bg(n){Tl=!0,fZ(n)&&(Of="keyboard",$T("keyboard",n))}function Mu(n){Of="pointer",(n.type==="mousedown"||n.type==="pointerdown")&&(Tl=!0,$T("pointer",n))}function UL(n){uZ(n)&&(Tl=!0,Of="virtual")}function $L(n){n.target===window||n.target===document||hZ||!n.isTrusted||(!Tl&&!xw&&(Of="virtual",$T("virtual",n)),Tl=!1,xw=!1)}function zL(){Tl=!1,xw=!0}function Tw(n){if(typeof window>"u"||typeof document>"u"||Yh.get(Ya(n)))return;const e=Ya(n),t=Ca(n);let i=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Tl=!0,i.apply(this,arguments)},t.addEventListener("keydown",Bg,!0),t.addEventListener("keyup",Bg,!0),t.addEventListener("click",UL,!0),e.addEventListener("focus",$L,!0),e.addEventListener("blur",zL,!1),typeof PointerEvent<"u"&&(t.addEventListener("pointerdown",Mu,!0),t.addEventListener("pointermove",Mu,!0),t.addEventListener("pointerup",Mu,!0)),e.addEventListener("beforeunload",()=>{HL(n)},{once:!0}),Yh.set(e,{focus:i})}const HL=(n,e)=>{const t=Ya(n),i=Ca(n);e&&i.removeEventListener("DOMContentLoaded",e),Yh.has(t)&&(t.HTMLElement.prototype.focus=Yh.get(t).focus,i.removeEventListener("keydown",Bg,!0),i.removeEventListener("keyup",Bg,!0),i.removeEventListener("click",UL,!0),t.removeEventListener("focus",$L,!0),t.removeEventListener("blur",zL,!1),typeof PointerEvent<"u"&&(i.removeEventListener("pointerdown",Mu,!0),i.removeEventListener("pointermove",Mu,!0),i.removeEventListener("pointerup",Mu,!0)),Yh.delete(t))};function pZ(n){const e=Ca(n);let t;return e.readyState!=="loading"?Tw(n):(t=()=>{Tw(n)},e.addEventListener("DOMContentLoaded",t)),()=>HL(n,t)}typeof document<"u"&&pZ();function WL(){return Of!=="pointer"}const mZ=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function gZ(n,e,t){let i=Ca(t==null?void 0:t.target);const r=typeof window<"u"?Ya(t==null?void 0:t.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?Ya(t==null?void 0:t.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?Ya(t==null?void 0:t.target).HTMLElement:HTMLElement,a=typeof window<"u"?Ya(t==null?void 0:t.target).KeyboardEvent:KeyboardEvent;return n=n||i.activeElement instanceof r&&!mZ.has(i.activeElement.type)||i.activeElement instanceof s||i.activeElement instanceof o&&i.activeElement.isContentEditable,!(n&&e==="keyboard"&&t instanceof a&&!dZ[t.key])}function yZ(n,e,t){Tw(),w.useEffect(()=>{let i=(r,s)=>{gZ(!!(t!=null&&t.isTextInput),r,s)&&n(WL())};return ww.add(i),()=>{ww.delete(i)}},e)}function vZ(n){let{isDisabled:e,onFocus:t,onBlur:i,onFocusChange:r}=n;const s=w.useCallback(l=>{if(l.target===l.currentTarget)return i&&i(l),r&&r(!1),!0},[i,r]),o=BL(s),a=w.useCallback(l=>{const u=Ca(l.target),c=u?_w(u):_w();l.target===l.currentTarget&&c===jL(l.nativeEvent)&&(t&&t(l),r&&r(!0),o(l))},[r,t,o]);return{focusProps:{onFocus:!e&&(t||r||i)?a:void 0,onBlur:!e&&(i||r)?s:void 0}}}function bZ(n){let{isDisabled:e,onBlurWithin:t,onFocusWithin:i,onFocusWithinChange:r}=n,s=w.useRef({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:a}=FL(),l=w.useCallback(h=>{h.currentTarget.contains(h.target)&&s.current.isFocusWithin&&!h.currentTarget.contains(h.relatedTarget)&&(s.current.isFocusWithin=!1,a(),t&&t(h),r&&r(!1))},[t,r,s,a]),u=BL(l),c=w.useCallback(h=>{if(!h.currentTarget.contains(h.target))return;const d=Ca(h.target),f=_w(d);if(!s.current.isFocusWithin&&f===jL(h.nativeEvent)){i&&i(h),r&&r(!0),s.current.isFocusWithin=!0,u(h);let y=h.currentTarget;o(d,"focus",g=>{if(s.current.isFocusWithin&&!OL(y,g.target)){let _=new d.defaultView.FocusEvent("blur",{relatedTarget:g.target});cZ(_,y);let v=VL(_);l(v)}},{capture:!0})}},[i,r,u,o,l]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:c,onBlur:l}}}let Ew=!1,Z0=0;function _Z(){Ew=!0,setTimeout(()=>{Ew=!1},50)}function dk(n){n.pointerType==="touch"&&_Z()}function wZ(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",dk),Z0++,()=>{Z0--,!(Z0>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",dk)}}function xZ(n){let{onHoverStart:e,onHoverChange:t,onHoverEnd:i,isDisabled:r}=n,[s,o]=w.useState(!1),a=w.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;w.useEffect(wZ,[]);let{addGlobalListener:l,removeAllGlobalListeners:u}=FL(),{hoverProps:c,triggerHoverEnd:h}=w.useMemo(()=>{let d=(g,_)=>{if(a.pointerType=_,r||_==="touch"||a.isHovered||!g.currentTarget.contains(g.target))return;a.isHovered=!0;let v=g.currentTarget;a.target=v,l(Ca(g.target),"pointerover",b=>{a.isHovered&&a.target&&!OL(a.target,b.target)&&f(b,b.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:v,pointerType:_}),t&&t(!0),o(!0)},f=(g,_)=>{let v=a.target;a.pointerType="",a.target=null,!(_==="touch"||!a.isHovered||!v)&&(a.isHovered=!1,u(),i&&i({type:"hoverend",target:v,pointerType:_}),t&&t(!1),o(!1))},y={};return typeof PointerEvent<"u"&&(y.onPointerEnter=g=>{Ew&&g.pointerType==="mouse"||d(g,g.pointerType)},y.onPointerLeave=g=>{!r&&g.currentTarget.contains(g.target)&&f(g,g.pointerType)}),{hoverProps:y,triggerHoverEnd:f}},[e,t,i,r,a,l,u]);return w.useEffect(()=>{r&&h({currentTarget:a.target},a.pointerType)},[r]),{hoverProps:c,isHovered:s}}function TZ(n={}){let{autoFocus:e=!1,isTextInput:t,within:i}=n,r=w.useRef({isFocused:!1,isFocusVisible:e||WL()}),[s,o]=w.useState(!1),[a,l]=w.useState(()=>r.current.isFocused&&r.current.isFocusVisible),u=w.useCallback(()=>l(r.current.isFocused&&r.current.isFocusVisible),[]),c=w.useCallback(f=>{r.current.isFocused=f,o(f),u()},[u]);yZ(f=>{r.current.isFocusVisible=f,u()},[],{isTextInput:t});let{focusProps:h}=vZ({isDisabled:i,onFocusChange:c}),{focusWithinProps:d}=bZ({isDisabled:!i,onFocusWithinChange:c});return{isFocused:s,isFocusVisible:a,focusProps:i?d:h}}var EZ=Object.defineProperty,PZ=(n,e,t)=>e in n?EZ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,J0=(n,e,t)=>(PZ(n,typeof e!="symbol"?e+"":e,t),t);let SZ=class{constructor(){J0(this,"current",this.detect()),J0(this,"handoffState","pending"),J0(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},sl=new SZ;function jf(n){var e,t;return sl.isServer?null:n?"ownerDocument"in n?n.ownerDocument:"current"in n?(t=(e=n.current)==null?void 0:e.ownerDocument)!=null?t:document:null:document}function GL(n){typeof queueMicrotask=="function"?queueMicrotask(n):Promise.resolve().then(n).catch(e=>setTimeout(()=>{throw e}))}function Aa(){let n=[],e={addEventListener(t,i,r,s){return t.addEventListener(i,r,s),e.add(()=>t.removeEventListener(i,r,s))},requestAnimationFrame(...t){let i=requestAnimationFrame(...t);return e.add(()=>cancelAnimationFrame(i))},nextFrame(...t){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...t))},setTimeout(...t){let i=setTimeout(...t);return e.add(()=>clearTimeout(i))},microTask(...t){let i={current:!0};return GL(()=>{i.current&&t[0]()}),e.add(()=>{i.current=!1})},style(t,i,r){let s=t.style.getPropertyValue(i);return Object.assign(t.style,{[i]:r}),this.add(()=>{Object.assign(t.style,{[i]:s})})},group(t){let i=Aa();return t(i),this.add(()=>i.dispose())},add(t){return n.includes(t)||n.push(t),()=>{let i=n.indexOf(t);if(i>=0)for(let r of n.splice(i,1))r()}},dispose(){for(let t of n.splice(0))t()}};return e}function zT(){let[n]=w.useState(Aa);return w.useEffect(()=>()=>n.dispose(),[n]),n}let ar=(n,e)=>{sl.isServer?w.useEffect(n,e):w.useLayoutEffect(n,e)};function ma(n){let e=w.useRef(n);return ar(()=>{e.current=n},[n]),e}let ht=function(n){let e=ma(n);return te.useCallback((...t)=>e.current(...t),[e])};function CZ(n){let e=n.width/2,t=n.height/2;return{top:n.clientY-t,right:n.clientX+e,bottom:n.clientY+t,left:n.clientX-e}}function AZ(n,e){return!(!n||!e||n.right<e.left||n.left>e.right||n.bottom<e.top||n.top>e.bottom)}function kZ({disabled:n=!1}={}){let e=w.useRef(null),[t,i]=w.useState(!1),r=zT(),s=ht(()=>{e.current=null,i(!1),r.dispose()}),o=ht(a=>{if(r.dispose(),e.current===null){e.current=a.currentTarget,i(!0);{let l=jf(a.currentTarget);r.addEventListener(l,"pointerup",s,!1),r.addEventListener(l,"pointermove",u=>{if(e.current){let c=CZ(u);i(AZ(c,e.current.getBoundingClientRect()))}},!1),r.addEventListener(l,"pointercancel",s,!1)}}});return{pressed:t,pressProps:n?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}function fk(...n){return Array.from(new Set(n.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function cs(n,e,...t){if(n in e){let r=e[n];return typeof r=="function"?r(...t):r}let i=new Error(`Tried to handle "${n}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(r=>`"${r}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,cs),i}var Ud=(n=>(n[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static",n))(Ud||{}),IZ=(n=>(n[n.Unmount=0]="Unmount",n[n.Hidden=1]="Hidden",n))(IZ||{});function io(){let n=RZ();return w.useCallback(e=>DZ({mergeRefs:n,...e}),[n])}function DZ({ourProps:n,theirProps:e,slot:t,defaultTag:i,features:r,visible:s=!0,name:o,mergeRefs:a}){a=a??MZ;let l=YL(e,n);if(s)return Bp(l,t,i,o,a);let u=r??0;if(u&2){let{static:c=!1,...h}=l;if(c)return Bp(h,t,i,o,a)}if(u&1){let{unmount:c=!0,...h}=l;return cs(c?0:1,{0(){return null},1(){return Bp({...h,hidden:!0,style:{display:"none"}},t,i,o,a)}})}return Bp(l,t,i,o,a)}function Bp(n,e={},t,i,r){let{as:s=t,children:o,refName:a="ref",...l}=eb(n,["unmount","static"]),u=n.ref!==void 0?{[a]:n.ref}:{},c=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(e){let d=!1,f=[];for(let[y,g]of Object.entries(e))typeof g=="boolean"&&(d=!0),g===!0&&f.push(y.replace(/([A-Z])/g,_=>`-${_.toLowerCase()}`));if(d){h["data-headlessui-state"]=f.join(" ");for(let y of f)h[`data-${y}`]=""}}if(s===w.Fragment&&(Object.keys(Wl(l)).length>0||Object.keys(Wl(h)).length>0))if(!w.isValidElement(c)||Array.isArray(c)&&c.length>1){if(Object.keys(Wl(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Wl(l)).concat(Object.keys(Wl(h))).map(d=>`  - ${d}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(d=>`  - ${d}`).join(`
`)].join(`
`))}else{let d=c.props,f=d==null?void 0:d.className,y=typeof f=="function"?(...v)=>fk(f(...v),l.className):fk(f,l.className),g=y?{className:y}:{},_=YL(c.props,Wl(eb(l,["ref"])));for(let v in h)v in _&&delete h[v];return w.cloneElement(c,Object.assign({},_,h,u,{ref:r(NZ(c),u.ref)},g))}return w.createElement(s,Object.assign({},eb(l,["ref"]),s!==w.Fragment&&u,s!==w.Fragment&&h),c)}function RZ(){let n=w.useRef([]),e=w.useCallback(t=>{for(let i of n.current)i!=null&&(typeof i=="function"?i(t):i.current=t)},[]);return(...t)=>{if(!t.every(i=>i==null))return n.current=t,e}}function MZ(...n){return n.every(e=>e==null)?void 0:e=>{for(let t of n)t!=null&&(typeof t=="function"?t(e):t.current=e)}}function YL(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let i of n)for(let r in i)r.startsWith("on")&&typeof i[r]=="function"?(t[r]!=null||(t[r]=[]),t[r].push(i[r])):e[r]=i[r];if(e.disabled||e["aria-disabled"])for(let i in t)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(i)&&(t[i]=[r=>{var s;return(s=r==null?void 0:r.preventDefault)==null?void 0:s.call(r)}]);for(let i in t)Object.assign(e,{[i](r,...s){let o=t[i];for(let a of o){if((r instanceof Event||(r==null?void 0:r.nativeEvent)instanceof Event)&&r.defaultPrevented)return;a(r,...s)}}});return e}function Pw(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let i of n)for(let r in i)r.startsWith("on")&&typeof i[r]=="function"?(t[r]!=null||(t[r]=[]),t[r].push(i[r])):e[r]=i[r];for(let i in t)Object.assign(e,{[i](...r){let s=t[i];for(let o of s)o==null||o(...r)}});return e}function gs(n){var e;return Object.assign(w.forwardRef(n),{displayName:(e=n.displayName)!=null?e:n.name})}function Wl(n){let e=Object.assign({},n);for(let t in e)e[t]===void 0&&delete e[t];return e}function eb(n,e=[]){let t=Object.assign({},n);for(let i of e)i in t&&delete t[i];return t}function NZ(n){return te.version.split(".")[0]>="19"?n.props.ref:n.ref}let OZ="span";var $d=(n=>(n[n.None=1]="None",n[n.Focusable=2]="Focusable",n[n.Hidden=4]="Hidden",n))($d||{});function jZ(n,e){var t;let{features:i=1,...r}=n,s={ref:e,"aria-hidden":(i&2)===2?!0:(t=r["aria-hidden"])!=null?t:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return io()({ourProps:s,theirProps:r,slot:{},defaultTag:OZ,name:"Hidden"})}let Ug=gs(jZ);function XL(n){return typeof n!="object"||n===null?!1:"nodeType"in n}function ol(n){return XL(n)&&"tagName"in n}function Xs(n){return ol(n)&&"accessKey"in n}function fu(n){return ol(n)&&"tabIndex"in n}function LZ(n){return ol(n)&&"style"in n}function FZ(n){return Xs(n)&&n.nodeName==="IFRAME"}function VZ(n){return Xs(n)&&n.nodeName==="INPUT"}function BZ(n){return Xs(n)&&n.nodeName==="FIELDSET"}function KL(n){return Xs(n)&&n.nodeName==="LEGEND"}function qL(n){let e=n.parentElement,t=null;for(;e&&!BZ(e);)KL(e)&&(t=e),e=e.parentElement;let i=(e==null?void 0:e.getAttribute("disabled"))==="";return i&&UZ(t)?!1:i}function UZ(n){if(!n)return!1;let e=n.previousElementSibling;for(;e!==null;){if(KL(e))return!1;e=e.previousElementSibling}return!0}let QL=Symbol();function ZL(n,e=!0){return Object.assign(n,{[QL]:e})}function Ks(...n){let e=w.useRef(n);w.useEffect(()=>{e.current=n},[n]);let t=ht(i=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(i):r.current=i)});return n.every(i=>i==null||(i==null?void 0:i[QL]))?void 0:t}var _o=(n=>(n.Space=" ",n.Enter="Enter",n.Escape="Escape",n.Backspace="Backspace",n.Delete="Delete",n.ArrowLeft="ArrowLeft",n.ArrowUp="ArrowUp",n.ArrowRight="ArrowRight",n.ArrowDown="ArrowDown",n.Home="Home",n.End="End",n.PageUp="PageUp",n.PageDown="PageDown",n.Tab="Tab",n))(_o||{});let $Z=w.createContext(()=>{});function JL({value:n,children:e}){return te.createElement($Z.Provider,{value:n},e)}function zZ(n){if(n===null)return{width:0,height:0};let{width:e,height:t}=n.getBoundingClientRect();return{width:e,height:t}}function HZ(n,e=!1){let[t,i]=w.useReducer(()=>({}),{}),r=w.useMemo(()=>zZ(n),[n,t]);return ar(()=>{if(!n)return;let s=new ResizeObserver(i);return s.observe(n),()=>{s.disconnect()}},[n]),e?{width:`${r.width}px`,height:`${r.height}px`}:r}let eF=class extends Map{constructor(e){super(),this.factory=e}get(e){let t=super.get(e);return t===void 0&&(t=this.factory(e),this.set(e,t)),t}};var WZ=Object.defineProperty,GZ=(n,e,t)=>e in n?WZ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,YZ=(n,e,t)=>(GZ(n,e+"",t),t),tF=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},Ui=(n,e,t)=>(tF(n,e,"read from private field"),t?t.call(n):e.get(n)),tb=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},pk=(n,e,t,i)=>(tF(n,e,"write to private field"),e.set(n,t),t),Fr,Ph,Sh;let nF=class{constructor(e){tb(this,Fr,{}),tb(this,Ph,new eF(()=>new Set)),tb(this,Sh,new Set),YZ(this,"disposables",Aa()),pk(this,Fr,e)}dispose(){this.disposables.dispose()}get state(){return Ui(this,Fr)}subscribe(e,t){let i={selector:e,callback:t,current:e(Ui(this,Fr))};return Ui(this,Sh).add(i),this.disposables.add(()=>{Ui(this,Sh).delete(i)})}on(e,t){return Ui(this,Ph).get(e).add(t),this.disposables.add(()=>{Ui(this,Ph).get(e).delete(t)})}send(e){let t=this.reduce(Ui(this,Fr),e);if(t!==Ui(this,Fr)){pk(this,Fr,t);for(let i of Ui(this,Sh)){let r=i.selector(Ui(this,Fr));iF(i.current,r)||(i.current=r,i.callback(r))}for(let i of Ui(this,Ph).get(e.type))i(Ui(this,Fr),e)}}};Fr=new WeakMap,Ph=new WeakMap,Sh=new WeakMap;function iF(n,e){return Object.is(n,e)?!0:typeof n!="object"||n===null||typeof e!="object"||e===null?!1:Array.isArray(n)&&Array.isArray(e)?n.length!==e.length?!1:nb(n[Symbol.iterator](),e[Symbol.iterator]()):n instanceof Map&&e instanceof Map||n instanceof Set&&e instanceof Set?n.size!==e.size?!1:nb(n.entries(),e.entries()):mk(n)&&mk(e)?nb(Object.entries(n)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function nb(n,e){do{let t=n.next(),i=e.next();if(t.done&&i.done)return!0;if(t.done||i.done||!Object.is(t.value,i.value))return!1}while(!0)}function mk(n){if(Object.prototype.toString.call(n)!=="[object Object]")return!1;let e=Object.getPrototypeOf(n);return e===null||Object.getPrototypeOf(e)===null}var XZ=Object.defineProperty,KZ=(n,e,t)=>e in n?XZ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,gk=(n,e,t)=>(KZ(n,typeof e!="symbol"?e+"":e,t),t),qZ=(n=>(n[n.Push=0]="Push",n[n.Pop=1]="Pop",n))(qZ||{});let QZ={0(n,e){let t=e.id,i=n.stack,r=n.stack.indexOf(t);if(r!==-1){let s=n.stack.slice();return s.splice(r,1),s.push(t),i=s,{...n,stack:i}}return{...n,stack:[...n.stack,t]}},1(n,e){let t=e.id,i=n.stack.indexOf(t);if(i===-1)return n;let r=n.stack.slice();return r.splice(i,1),{...n,stack:r}}},ZZ=class rF extends nF{constructor(){super(...arguments),gk(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),gk(this,"selectors",{isTop:(e,t)=>e.stack[e.stack.length-1]===t,inStack:(e,t)=>e.stack.includes(t)})}static new(){return new rF({stack:[]})}reduce(e,t){return cs(t.type,QZ,e,t)}};const sF=new eF(()=>ZZ.new());var oF={exports:{}},aF={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf=w;function JZ(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var eJ=typeof Object.is=="function"?Object.is:JZ,tJ=Lf.useSyncExternalStore,nJ=Lf.useRef,iJ=Lf.useEffect,rJ=Lf.useMemo,sJ=Lf.useDebugValue;aF.useSyncExternalStoreWithSelector=function(n,e,t,i,r){var s=nJ(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=rJ(function(){function l(f){if(!u){if(u=!0,c=f,f=i(f),r!==void 0&&o.hasValue){var y=o.value;if(r(y,f))return h=y}return h=f}if(y=h,eJ(c,f))return y;var g=i(f);return r!==void 0&&r(y,g)?(c=f,y):(c=f,h=g)}var u=!1,c,h,d=t===void 0?null:t;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,t,i,r]);var a=tJ(n,s[0],s[1]);return iJ(function(){o.hasValue=!0,o.value=a},[a]),sJ(a),a};oF.exports=aF;var oJ=oF.exports;function El(n,e,t=iF){return oJ.useSyncExternalStoreWithSelector(ht(i=>n.subscribe(aJ,i)),ht(()=>n.state),ht(()=>n.state),ht(e),t)}function aJ(n){return n}function lJ(n,e){let t=w.useId(),i=sF.get(e),[r,s]=El(i,w.useCallback(o=>[i.selectors.isTop(o,t),i.selectors.inStack(o,t)],[i,t]));return ar(()=>{if(n)return i.actions.push(t),()=>i.actions.pop(t)},[i,n,t]),n?s?r:!0:!1}function uJ(n,e,t){let i=ma(r=>{let s=r.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&t()});w.useEffect(()=>{if(!n)return;let r=e===null?null:Xs(e)?e:e.current;if(!r)return;let s=Aa();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>i.current(r));o.observe(r),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>i.current(r));o.observe(r),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,i,n])}let Sw=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(n=>`${n}:not([tabindex='-1'])`).join(","),cJ=["[data-autofocus]"].map(n=>`${n}:not([tabindex='-1'])`).join(",");var Is=(n=>(n[n.First=1]="First",n[n.Previous=2]="Previous",n[n.Next=4]="Next",n[n.Last=8]="Last",n[n.WrapAround=16]="WrapAround",n[n.NoScroll=32]="NoScroll",n[n.AutoFocus=64]="AutoFocus",n))(Is||{}),$g=(n=>(n[n.Error=0]="Error",n[n.Overflow=1]="Overflow",n[n.Success=2]="Success",n[n.Underflow=3]="Underflow",n))($g||{}),hJ=(n=>(n[n.Previous=-1]="Previous",n[n.Next=1]="Next",n))(hJ||{});function Pv(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(Sw)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}function dJ(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(cJ)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var HT=(n=>(n[n.Strict=0]="Strict",n[n.Loose=1]="Loose",n))(HT||{});function lF(n,e=0){var t;return n===((t=jf(n))==null?void 0:t.body)?!1:cs(e,{0(){return n.matches(Sw)},1(){let i=n;for(;i!==null;){if(i.matches(Sw))return!0;i=i.parentElement}return!1}})}var fJ=(n=>(n[n.Keyboard=0]="Keyboard",n[n.Mouse=1]="Mouse",n))(fJ||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",n=>{n.metaKey||n.altKey||n.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",n=>{n.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:n.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let pJ=["textarea","input"].join(",");function mJ(n){var e,t;return(t=(e=n==null?void 0:n.matches)==null?void 0:e.call(n,pJ))!=null?t:!1}function gJ(n,e=t=>t){return n.slice().sort((t,i)=>{let r=e(t),s=e(i);if(r===null||s===null)return 0;let o=r.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Xa(n,e,{sorted:t=!0,relativeTo:i=null,skipElements:r=[]}={}){let s=Array.isArray(n)?n.length>0?n[0].ownerDocument:document:n.ownerDocument,o=Array.isArray(n)?t?gJ(n):n:e&64?dJ(n):Pv(n);r.length>0&&o.length>1&&(o=o.filter(f=>!r.some(y=>y!=null&&"current"in y?(y==null?void 0:y.current)===f:y===f))),i=i??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(i))-1;if(e&4)return Math.max(0,o.indexOf(i))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},c=0,h=o.length,d;do{if(c>=h||c+h<=0)return 0;let f=l+c;if(e&16)f=(f+h)%h;else{if(f<0)return 3;if(f>=h)return 1}d=o[f],d==null||d.focus(u),c+=a}while(d!==s.activeElement);return e&6&&mJ(d)&&d.select(),2}function uF(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function yJ(){return/Android/gi.test(window.navigator.userAgent)}function yk(){return uF()||yJ()}function Up(n,e,t,i){let r=ma(t);w.useEffect(()=>{if(!n)return;function s(o){r.current(o)}return document.addEventListener(e,s,i),()=>document.removeEventListener(e,s,i)},[n,e,i])}function cF(n,e,t,i){let r=ma(t);w.useEffect(()=>{if(!n)return;function s(o){r.current(o)}return window.addEventListener(e,s,i),()=>window.removeEventListener(e,s,i)},[n,e,i])}const vk=30;function vJ(n,e,t){let i=ma(t),r=w.useCallback(function(a,l){if(a.defaultPrevented)return;let u=l(a);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let c=function h(d){return typeof d=="function"?h(d()):Array.isArray(d)||d instanceof Set?d:[d]}(e);for(let h of c)if(h!==null&&(h.contains(u)||a.composed&&a.composedPath().includes(h)))return;return!lF(u,HT.Loose)&&u.tabIndex!==-1&&a.preventDefault(),i.current(a,u)},[i,e]),s=w.useRef(null);Up(n,"pointerdown",a=>{var l,u;yk()||(s.current=((u=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:u[0])||a.target)},!0),Up(n,"pointerup",a=>{if(yk()||!s.current)return;let l=s.current;return s.current=null,r(a,()=>l)},!0);let o=w.useRef({x:0,y:0});Up(n,"touchstart",a=>{o.current.x=a.touches[0].clientX,o.current.y=a.touches[0].clientY},!0),Up(n,"touchend",a=>{let l={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(l.x-o.current.x)>=vk||Math.abs(l.y-o.current.y)>=vk))return r(a,()=>fu(a.target)?a.target:null)},!0),cF(n,"blur",a=>r(a,()=>FZ(window.document.activeElement)?window.document.activeElement:null),!0)}function dc(...n){return w.useMemo(()=>jf(...n),[...n])}function bJ(n,e,t,i){let r=ma(t);w.useEffect(()=>{n=n??window;function s(o){r.current(o)}return n.addEventListener(e,s,i),()=>n.removeEventListener(e,s,i)},[n,e,i])}function _J(n,e){return w.useMemo(()=>{var t;if(n.type)return n.type;let i=(t=n.as)!=null?t:"button";if(typeof i=="string"&&i.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[n.type,n.as,e])}function wJ(n){return w.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getSnapshot)}function xJ(n,e){let t=n(),i=new Set;return{getSnapshot(){return t},subscribe(r){return i.add(r),()=>i.delete(r)},dispatch(r,...s){let o=e[r].call(t,...s);o&&(t=o,i.forEach(a=>a()))}}}function TJ(){let n;return{before({doc:e}){var t;let i=e.documentElement,r=(t=e.defaultView)!=null?t:window;n=Math.max(0,r.innerWidth-i.clientWidth)},after({doc:e,d:t}){let i=e.documentElement,r=Math.max(0,i.clientWidth-i.offsetWidth),s=Math.max(0,n-r);t.style(i,"paddingRight",`${s}px`)}}}function EJ(){return uF()?{before({doc:n,d:e,meta:t}){function i(r){return t.containers.flatMap(s=>s()).some(s=>s.contains(r))}e.microTask(()=>{var r;if(window.getComputedStyle(n.documentElement).scrollBehavior!=="auto"){let a=Aa();a.style(n.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(r=window.scrollY)!=null?r:window.pageYOffset,o=null;e.addEventListener(n,"click",a=>{if(fu(a.target))try{let l=a.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),c=n.querySelector(u);fu(c)&&!i(c)&&(o=c)}catch{}},!0),e.addEventListener(n,"touchstart",a=>{if(fu(a.target)&&LZ(a.target))if(i(a.target)){let l=a.target;for(;l.parentElement&&i(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(n,"touchmove",a=>{if(fu(a.target)){if(VZ(a.target))return;if(i(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function PJ(){return{before({doc:n,d:e}){e.style(n.documentElement,"overflow","hidden")}}}function SJ(n){let e={};for(let t of n)Object.assign(e,t(e));return e}let Ka=xJ(()=>new Map,{PUSH(n,e){var t;let i=(t=this.get(n))!=null?t:{doc:n,count:0,d:Aa(),meta:new Set};return i.count++,i.meta.add(e),this.set(n,i),this},POP(n,e){let t=this.get(n);return t&&(t.count--,t.meta.delete(e)),this},SCROLL_PREVENT({doc:n,d:e,meta:t}){let i={doc:n,d:e,meta:SJ(t)},r=[EJ(),TJ(),PJ()];r.forEach(({before:s})=>s==null?void 0:s(i)),r.forEach(({after:s})=>s==null?void 0:s(i))},SCROLL_ALLOW({d:n}){n.dispose()},TEARDOWN({doc:n}){this.delete(n)}});Ka.subscribe(()=>{let n=Ka.getSnapshot(),e=new Map;for(let[t]of n)e.set(t,t.documentElement.style.overflow);for(let t of n.values()){let i=e.get(t.doc)==="hidden",r=t.count!==0;(r&&!i||!r&&i)&&Ka.dispatch(t.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",t),t.count===0&&Ka.dispatch("TEARDOWN",t)}});function CJ(n,e,t=()=>({containers:[]})){let i=wJ(Ka),r=e?i.get(e):void 0,s=r?r.count>0:!1;return ar(()=>{if(!(!e||!n))return Ka.dispatch("PUSH",e,t),()=>Ka.dispatch("POP",e,t)},[n,e]),s}function AJ(n,e,t=()=>[document.body]){let i=lJ(n,"scroll-lock");CJ(i,e,r=>{var s;return{containers:[...(s=r.containers)!=null?s:[],t]}})}function kJ(n=0){let[e,t]=w.useState(n),i=w.useCallback(l=>t(l),[e]),r=w.useCallback(l=>t(u=>u|l),[e]),s=w.useCallback(l=>(e&l)===l,[e]),o=w.useCallback(l=>t(u=>u&~l),[t]),a=w.useCallback(l=>t(u=>u^l),[t]);return{flags:e,setFlag:i,addFlag:r,hasFlag:s,removeFlag:o,toggleFlag:a}}var IJ={},bk,_k;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((bk=process==null?void 0:IJ)==null?void 0:bk.NODE_ENV)==="test"&&typeof((_k=Element==null?void 0:Element.prototype)==null?void 0:_k.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var DJ=(n=>(n[n.None=0]="None",n[n.Closed=1]="Closed",n[n.Enter=2]="Enter",n[n.Leave=4]="Leave",n))(DJ||{});function hF(n){let e={};for(let t in n)n[t]===!0&&(e[`data-${t}`]="");return e}function dF(n,e,t,i){let[r,s]=w.useState(t),{hasFlag:o,addFlag:a,removeFlag:l}=kJ(n&&r?3:0),u=w.useRef(!1),c=w.useRef(!1),h=zT();return ar(()=>{var d;if(n){if(t&&s(!0),!e){t&&a(3);return}return(d=void 0)==null||d.call(i,t),RJ(e,{inFlight:u,prepare(){c.current?c.current=!1:c.current=u.current,u.current=!0,!c.current&&(t?(a(3),l(4)):(a(4),l(2)))},run(){c.current?t?(l(3),a(4)):(l(4),a(3)):t?l(1):a(1)},done(){var f;c.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(u.current=!1,l(7),t||s(!1),(f=void 0)==null||f.call(i,t))}})}},[n,t,e,h]),n?[r,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[t,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function RJ(n,{prepare:e,run:t,done:i,inFlight:r}){let s=Aa();return NJ(n,{prepare:e,inFlight:r}),s.nextFrame(()=>{t(),s.requestAnimationFrame(()=>{s.add(MJ(n,i))})}),s.dispose}function MJ(n,e){var t,i;let r=Aa();if(!n)return r.dispose;let s=!1;r.add(()=>{s=!0});let o=(i=(t=n.getAnimations)==null?void 0:t.call(n).filter(a=>a instanceof CSSTransition))!=null?i:[];return o.length===0?(e(),r.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||e()}),r.dispose)}function NJ(n,{inFlight:e,prepare:t}){if(e!=null&&e.current){t();return}let i=n.style.transition;n.style.transition="none",t(),n.offsetHeight,n.style.transition=i}function OJ(){const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?n.brands.map(e=>{let{brand:t,version:i}=e;return t+"/"+i}).join(" "):navigator.userAgent}const fF={...rd},jJ=fF.useInsertionEffect,LJ=jJ||(n=>n());function pF(n){const e=w.useRef(()=>{});return LJ(()=>{e.current=n}),w.useCallback(function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e.current==null?void 0:e.current(...i)},[])}var Cw=typeof document<"u"?w.useLayoutEffect:w.useEffect;let wk=!1,FJ=0;const xk=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+FJ++;function VJ(){const[n,e]=w.useState(()=>wk?xk():void 0);return Cw(()=>{n==null&&e(xk())},[]),w.useEffect(()=>{wk=!0},[]),n}const BJ=fF.useId,UJ=BJ||VJ;function $J(){const n=new Map;return{emit(e,t){var i;(i=n.get(e))==null||i.forEach(r=>r(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var i;n.set(e,((i=n.get(e))==null?void 0:i.filter(r=>r!==t))||[])}}}const zJ=w.createContext(null),HJ=w.createContext(null),WJ=()=>{var n;return((n=w.useContext(zJ))==null?void 0:n.id)||null},GJ=()=>w.useContext(HJ),YJ="data-floating-ui-focusable";function XJ(n){const{open:e=!1,onOpenChange:t,elements:i}=n,r=UJ(),s=w.useRef({}),[o]=w.useState(()=>$J()),a=WJ()!=null,[l,u]=w.useState(i.reference),c=pF((f,y,g)=>{s.current.openEvent=f?y:void 0,o.emit("openchange",{open:f,event:y,reason:g,nested:a}),t==null||t(f,y,g)}),h=w.useMemo(()=>({setPositionReference:u}),[]),d=w.useMemo(()=>({reference:l||i.reference||null,floating:i.floating||null,domReference:i.reference}),[l,i.reference,i.floating]);return w.useMemo(()=>({dataRef:s,open:e,onOpenChange:c,elements:d,events:o,floatingId:r,refs:h}),[e,c,d,o,r,h])}function KJ(n){n===void 0&&(n={});const{nodeId:e}=n,t=XJ({...n,elements:{reference:null,floating:null,...n.elements}}),i=n.rootContext||t,r=i.elements,[s,o]=w.useState(null),[a,l]=w.useState(null),c=(r==null?void 0:r.domReference)||s,h=w.useRef(null),d=GJ();Cw(()=>{c&&(h.current=c)},[c]);const f=sN({...n,elements:{...r,...a&&{reference:a}}}),y=w.useCallback(x=>{const P=ei(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;l(P),f.refs.setReference(P)},[f.refs]),g=w.useCallback(x=>{(ei(x)||x===null)&&(h.current=x,o(x)),(ei(f.refs.reference.current)||f.refs.reference.current===null||x!==null&&!ei(x))&&f.refs.setReference(x)},[f.refs]),_=w.useMemo(()=>({...f.refs,setReference:g,setPositionReference:y,domReference:h}),[f.refs,g,y]),v=w.useMemo(()=>({...f.elements,domReference:c}),[f.elements,c]),b=w.useMemo(()=>({...f,...i,refs:_,elements:v,nodeId:e}),[f,_,v,e,i]);return Cw(()=>{i.dataRef.current.floatingContext=b;const x=d==null?void 0:d.nodesRef.current.find(P=>P.id===e);x&&(x.context=b)}),w.useMemo(()=>({...f,context:b,refs:_,elements:v}),[f,_,v,b])}const Tk="active",Ek="selected";function ib(n,e,t){const i=new Map,r=t==="item";let s=n;if(r&&n){const{[Tk]:o,[Ek]:a,...l}=n;s=l}return{...t==="floating"&&{tabIndex:-1,[YJ]:""},...s,...e.map(o=>{const a=o?o[t]:null;return typeof a=="function"?n?a(n):null:a}).concat(n).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[u,c]=l;if(!(r&&[Tk,Ek].includes(u)))if(u.indexOf("on")===0){if(i.has(u)||i.set(u,[]),typeof c=="function"){var h;(h=i.get(u))==null||h.push(c),o[u]=function(){for(var d,f=arguments.length,y=new Array(f),g=0;g<f;g++)y[g]=arguments[g];return(d=i.get(u))==null?void 0:d.map(_=>_(...y)).find(_=>_!==void 0)}}}else o[u]=c}),o),{})}}function qJ(n){n===void 0&&(n=[]);const e=n.map(a=>a==null?void 0:a.reference),t=n.map(a=>a==null?void 0:a.floating),i=n.map(a=>a==null?void 0:a.item),r=w.useCallback(a=>ib(a,n,"reference"),e),s=w.useCallback(a=>ib(a,n,"floating"),t),o=w.useCallback(a=>ib(a,n,"item"),i);return w.useMemo(()=>({getReferenceProps:r,getFloatingProps:s,getItemProps:o}),[r,s,o])}function Pk(n,e){return{...n,rects:{...n.rects,floating:{...n.rects.floating,height:e}}}}const QJ=n=>({name:"inner",options:n,async fn(e){const{listRef:t,overflowRef:i,onFallbackChange:r,offset:s=0,index:o=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:u,...c}=ss(n,e),{rects:h,elements:{floating:d}}=e,f=t.current[o],y=(u==null?void 0:u.current)||d,g=d.clientTop||y.clientTop,_=d.clientTop!==0,v=y.clientTop!==0,b=d===y;if(!f)return{};const x={...e,...await D1(-f.offsetTop-d.clientTop-h.reference.height/2-f.offsetHeight/2-s).fn(e)},P=await O0(Pk(x,y.scrollHeight+g+d.clientTop),c),k=await O0(x,{...c,elementContext:"reference"}),M=Wn(0,P.top),A=x.y+M,C=(y.scrollHeight>y.clientHeight?D=>D:xd)(Wn(0,y.scrollHeight+(_&&b||v?g*2:0)-M-Wn(0,P.bottom)));if(y.style.maxHeight=C+"px",y.scrollTop=M,r){const D=y.offsetHeight<f.offsetHeight*Us(a,t.current.length)-1||k.top>=-l||k.bottom>=-l;Bs.flushSync(()=>r(D))}return i&&(i.current=await O0(Pk({...x,y:A},y.offsetHeight+g+d.clientTop),c)),{y:A}}});function ZJ(n,e){const{open:t,elements:i}=n,{enabled:r=!0,overflowRef:s,scrollRef:o,onChange:a}=e,l=pF(a),u=w.useRef(!1),c=w.useRef(null),h=w.useRef(null);w.useEffect(()=>{if(!r)return;function f(g){if(g.ctrlKey||!y||s.current==null)return;const _=g.deltaY,v=s.current.top>=-.5,b=s.current.bottom>=-.5,x=y.scrollHeight-y.clientHeight,P=_<0?-1:1,k=_<0?"max":"min";y.scrollHeight<=y.clientHeight||(!v&&_>0||!b&&_<0?(g.preventDefault(),Bs.flushSync(()=>{l(M=>M+Math[k](_,x*P))})):/firefox/i.test(OJ())&&(y.scrollTop+=_))}const y=(o==null?void 0:o.current)||i.floating;if(t&&y)return y.addEventListener("wheel",f),requestAnimationFrame(()=>{c.current=y.scrollTop,s.current!=null&&(h.current={...s.current})}),()=>{c.current=null,h.current=null,y.removeEventListener("wheel",f)}},[r,t,i.floating,s,o,l]);const d=w.useMemo(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const f=(o==null?void 0:o.current)||i.floating;if(!(!s.current||!f||!u.current)){if(c.current!==null){const y=f.scrollTop-c.current;(s.current.bottom<-.5&&y<-1||s.current.top<-.5&&y>1)&&Bs.flushSync(()=>l(g=>g+y))}requestAnimationFrame(()=>{c.current=f.scrollTop})}}}),[i.floating,l,s,o]);return w.useMemo(()=>r?{floating:d}:{},[r,d])}let Ff=w.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Ff.displayName="FloatingContext";let WT=w.createContext(null);WT.displayName="PlacementContext";function JJ(n){return w.useMemo(()=>n?typeof n=="string"?{to:n}:n:null,[n])}function eee(){return w.useContext(Ff).setReference}function tee(){let{getFloatingProps:n,slot:e}=w.useContext(Ff);return w.useCallback((...t)=>Object.assign({},n(...t),{"data-anchor":e.anchor}),[n,e])}function nee(n=null){n===!1&&(n=null),typeof n=="string"&&(n={to:n});let e=w.useContext(WT),t=w.useMemo(()=>n,[JSON.stringify(n,(r,s)=>{var o;return(o=s==null?void 0:s.outerHTML)!=null?o:s})]);ar(()=>{e==null||e(t??null)},[e,t]);let i=w.useContext(Ff);return w.useMemo(()=>[i.setFloating,n?i.styles:{}],[i.setFloating,n,i.styles])}let Sk=4;function iee({children:n,enabled:e=!0}){let[t,i]=w.useState(null),[r,s]=w.useState(0),o=w.useRef(null),[a,l]=w.useState(null);ree(a);let u=e&&t!==null&&a!==null,{to:c="bottom",gap:h=0,offset:d=0,padding:f=0,inner:y}=see(t,a),[g,_="center"]=c.split(" ");ar(()=>{u&&s(0)},[u]);let{refs:v,floatingStyles:b,context:x}=KJ({open:u,placement:g==="selection"?_==="center"?"bottom":`bottom-${_}`:_==="center"?`${g}`:`${g}-${_}`,strategy:"absolute",transform:!1,middleware:[D1({mainAxis:g==="selection"?0:h,crossAxis:d}),oN({padding:f}),g!=="selection"&&aN({padding:f}),g==="selection"&&y?QJ({...y,padding:f,overflowRef:o,offset:r,minItemsVisible:Sk,referenceOverflowThreshold:f,onFallbackChange(D){var N,R;if(!D)return;let V=x.elements.floating;if(!V)return;let q=parseFloat(getComputedStyle(V).scrollPaddingBottom)||0,ee=Math.min(Sk,V.childElementCount),H=0,F=0;for(let j of(R=(N=x.elements.floating)==null?void 0:N.childNodes)!=null?R:[])if(Xs(j)){let L=j.offsetTop,B=L+j.clientHeight+q,z=V.scrollTop,$=z+V.clientHeight;if(L>=z&&B<=$)ee--;else{F=Math.max(0,Math.min(B,$)-Math.max(L,z)),H=j.clientHeight;break}}ee>=1&&s(j=>{let L=H*ee-F+q;return j>=L?j:L})}}):null,lN({padding:f,apply({availableWidth:D,availableHeight:N,elements:R}){Object.assign(R.floating.style,{overflow:"auto",maxWidth:`${D}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${N}px)`})}})].filter(Boolean),whileElementsMounted:iN}),[P=g,k=_]=x.placement.split("-");g==="selection"&&(P="selection");let M=w.useMemo(()=>({anchor:[P,k].filter(Boolean).join(" ")}),[P,k]),A=ZJ(x,{overflowRef:o,onChange:s}),{getReferenceProps:T,getFloatingProps:E}=qJ([A]),C=ht(D=>{l(D),v.setFloating(D)});return w.createElement(WT.Provider,{value:i},w.createElement(Ff.Provider,{value:{setFloating:C,setReference:v.setReference,styles:b,getReferenceProps:T,getFloatingProps:E,slot:M}},n))}function ree(n){ar(()=>{if(!n)return;let e=new MutationObserver(()=>{let t=window.getComputedStyle(n).maxHeight,i=parseFloat(t);if(isNaN(i))return;let r=parseInt(t);isNaN(r)||i!==r&&(n.style.maxHeight=`${Math.ceil(i)}px`)});return e.observe(n,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[n])}function see(n,e){var t,i,r;let s=rb((t=n==null?void 0:n.gap)!=null?t:"var(--anchor-gap, 0)",e),o=rb((i=n==null?void 0:n.offset)!=null?i:"var(--anchor-offset, 0)",e),a=rb((r=n==null?void 0:n.padding)!=null?r:"var(--anchor-padding, 0)",e);return{...n,gap:s,offset:o,padding:a}}function rb(n,e,t=void 0){let i=zT(),r=ht((l,u)=>{if(l==null)return[t,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!u)return[t,null];let c=Ck(l,u);return[c,h=>{let d=mF(l);{let f=d.map(y=>window.getComputedStyle(u).getPropertyValue(y));i.requestAnimationFrame(function y(){i.nextFrame(y);let g=!1;for(let[v,b]of d.entries()){let x=window.getComputedStyle(u).getPropertyValue(b);if(f[v]!==x){f[v]=x,g=!0;break}}if(!g)return;let _=Ck(l,u);c!==_&&(h(_),c=_)})}return i.dispose}]}return[t,null]}),s=w.useMemo(()=>r(n,e)[0],[n,e]),[o=s,a]=w.useState();return ar(()=>{let[l,u]=r(n,e);if(a(l),!!u)return u(a)},[n,e]),o}function mF(n){let e=/var\((.*)\)/.exec(n);if(e){let t=e[1].indexOf(",");if(t===-1)return[e[1]];let i=e[1].slice(0,t).trim(),r=e[1].slice(t+1).trim();return r?[i,...mF(r)]:[i]}return[]}function Ck(n,e){let t=document.createElement("div");e.appendChild(t),t.style.setProperty("margin-top","0px","important"),t.style.setProperty("margin-top",n,"important");let i=parseFloat(window.getComputedStyle(t).marginTop)||0;return e.removeChild(t),i}let Sv=w.createContext(null);Sv.displayName="OpenClosedContext";var Pl=(n=>(n[n.Open=1]="Open",n[n.Closed=2]="Closed",n[n.Closing=4]="Closing",n[n.Opening=8]="Opening",n))(Pl||{});function gF(){return w.useContext(Sv)}function oee({value:n,children:e}){return te.createElement(Sv.Provider,{value:n},e)}function aee({children:n}){return te.createElement(Sv.Provider,{value:null},n)}function yF(n){let e=ht(n),t=w.useRef(!1);w.useEffect(()=>(t.current=!1,()=>{t.current=!0,GL(()=>{t.current&&e()})}),[e])}function lee(){let n=typeof document>"u";return"useSyncExternalStore"in rd?(e=>e.useSyncExternalStore)(rd)(()=>()=>{},()=>!1,()=>!n):!1}function uee(){let n=lee(),[e,t]=w.useState(sl.isHandoffComplete);return e&&sl.isHandoffComplete===!1&&t(!1),w.useEffect(()=>{e!==!0&&t(!0)},[e]),w.useEffect(()=>sl.handoff(),[]),n?!1:e}let cee=w.createContext(!1);function hee(){return w.useContext(cee)}function dee(n){let e=hee(),t=w.useContext(bF),[i,r]=w.useState(()=>{var s;if(!e&&t!==null)return(s=t.current)!=null?s:null;if(sl.isServer)return null;let o=n==null?void 0:n.getElementById("headlessui-portal-root");if(o)return o;if(n===null)return null;let a=n.createElement("div");return a.setAttribute("id","headlessui-portal-root"),n.body.appendChild(a)});return w.useEffect(()=>{i!==null&&(n!=null&&n.body.contains(i)||n==null||n.body.appendChild(i))},[i,n]),w.useEffect(()=>{e||t!==null&&r(t.current)},[t,r,e]),i}let vF=w.Fragment,fee=gs(function(n,e){let{ownerDocument:t=null,...i}=n,r=w.useRef(null),s=Ks(ZL(f=>{r.current=f}),e),o=dc(r),a=t??o,l=dee(a),[u]=w.useState(()=>{var f;return sl.isServer?null:(f=a==null?void 0:a.createElement("div"))!=null?f:null}),c=w.useContext(Aw),h=uee();ar(()=>{!l||!u||l.contains(u)||(u.setAttribute("data-headlessui-portal",""),l.appendChild(u))},[l,u]),ar(()=>{if(u&&c)return c.register(u)},[c,u]),yF(()=>{var f;!l||!u||(XL(u)&&l.contains(u)&&l.removeChild(u),l.childNodes.length<=0&&((f=l.parentElement)==null||f.removeChild(l)))});let d=io();return h?!l||!u?null:Bs.createPortal(d({ourProps:{ref:s},theirProps:i,slot:{},defaultTag:vF,name:"Portal"}),u):null});function pee(n,e){let t=Ks(e),{enabled:i=!0,ownerDocument:r,...s}=n,o=io();return i?te.createElement(fee,{...s,ownerDocument:r,ref:t}):o({ourProps:{ref:t},theirProps:s,slot:{},defaultTag:vF,name:"Portal"})}let mee=w.Fragment,bF=w.createContext(null);function gee(n,e){let{target:t,...i}=n,r={ref:Ks(e)},s=io();return te.createElement(bF.Provider,{value:t},s({ourProps:r,theirProps:i,defaultTag:mee,name:"Popover.Group"}))}let Aw=w.createContext(null);function yee(){let n=w.useContext(Aw),e=w.useRef([]),t=ht(s=>(e.current.push(s),n&&n.register(s),()=>i(s))),i=ht(s=>{let o=e.current.indexOf(s);o!==-1&&e.current.splice(o,1),n&&n.unregister(s)}),r=w.useMemo(()=>({register:t,unregister:i,portals:e}),[t,i,e]);return[e,w.useMemo(()=>function({children:s}){return te.createElement(Aw.Provider,{value:r},s)},[r])]}let vee=gs(pee),bee=gs(gee),_ee=Object.assign(vee,{Group:bee});function wee({defaultContainers:n=[],portals:e,mainTreeNode:t}={}){let i=dc(t),r=ht(()=>{var s,o;let a=[];for(let l of n)l!==null&&(ol(l)?a.push(l):"current"in l&&ol(l.current)&&a.push(l.current));if(e!=null&&e.current)for(let l of e.current)a.push(l);for(let l of(s=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?s:[])l!==document.body&&l!==document.head&&ol(l)&&l.id!=="headlessui-portal-root"&&(t&&(l.contains(t)||l.contains((o=t==null?void 0:t.getRootNode())==null?void 0:o.host))||a.some(u=>l.contains(u))||a.push(l));return a});return{resolveContainers:r,contains:ht(s=>r().some(o=>o.contains(s)))}}let _F=w.createContext(null);function wF({children:n,node:e}){let[t,i]=w.useState(null),r=xF(e??t);return te.createElement(_F.Provider,{value:r},n,r===null&&te.createElement(Ug,{features:$d.Hidden,ref:s=>{var o,a;if(s){for(let l of(a=(o=jf(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&ol(l)&&l!=null&&l.contains(s)){i(l);break}}}}))}function xF(n=null){var e;return(e=w.useContext(_F))!=null?e:n}var Ds=(n=>(n[n.Forwards=0]="Forwards",n[n.Backwards=1]="Backwards",n))(Ds||{});function TF(){let n=w.useRef(0);return cF(!0,"keydown",e=>{e.key==="Tab"&&(n.current=e.shiftKey?1:0)},!0),n}var xee=Object.defineProperty,Tee=(n,e,t)=>e in n?xee(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ak=(n,e,t)=>(Tee(n,typeof e!="symbol"?e+"":e,t),t),qt=(n=>(n[n.Open=0]="Open",n[n.Closed=1]="Closed",n))(qt||{}),Eee=(n=>(n[n.OpenPopover=0]="OpenPopover",n[n.ClosePopover=1]="ClosePopover",n[n.SetButton=2]="SetButton",n[n.SetButtonId=3]="SetButtonId",n[n.SetPanel=4]="SetPanel",n[n.SetPanelId=5]="SetPanelId",n))(Eee||{});let Pee={0:n=>n.popoverState===0?n:{...n,popoverState:0,__demoMode:!1},1(n){return n.popoverState===1?n:{...n,popoverState:1,__demoMode:!1}},2(n,e){return n.button===e.button?n:{...n,button:e.button}},3(n,e){return n.buttonId===e.buttonId?n:{...n,buttonId:e.buttonId}},4(n,e){return n.panel===e.panel?n:{...n,panel:e.panel}},5(n,e){return n.panelId===e.panelId?n:{...n,panelId:e.panelId}}};class GT extends nF{constructor(e){super(e),Ak(this,"actions",{close:()=>this.send({type:1}),refocusableClose:t=>{this.actions.close();let i=t?Xs(t)?t:"current"in t&&Xs(t.current)?t.current:this.state.button:this.state.button;i==null||i.focus()},open:()=>this.send({type:0}),setButtonId:t=>this.send({type:3,buttonId:t}),setButton:t=>this.send({type:2,button:t}),setPanelId:t=>this.send({type:5,panelId:t}),setPanel:t=>this.send({type:4,panel:t})}),Ak(this,"selectors",{isPortalled:t=>{if(!t.button||!t.panel)return!1;for(let u of document.querySelectorAll("body > *"))if(Number(u==null?void 0:u.contains(t.button))^Number(u==null?void 0:u.contains(t.panel)))return!0;let i=Pv(),r=i.indexOf(t.button),s=(r+i.length-1)%i.length,o=(r+1)%i.length,a=i[s],l=i[o];return!t.panel.contains(a)&&!t.panel.contains(l)}});{let t=this.state.id,i=sF.get(null);this.on(0,()=>i.actions.push(t)),this.on(1,()=>i.actions.pop(t))}}static new({id:e,__demoMode:t=!1}){return new GT({id:e,__demoMode:t,popoverState:t?0:1,buttons:{current:[]},button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:{current:null},afterPanelSentinel:{current:null},afterButtonSentinel:{current:null}})}reduce(e,t){return cs(t.type,Pee,e,t)}}const EF=w.createContext(null);function Cv(n){let e=w.useContext(EF);if(e===null){let t=new Error(`<${n} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Cv),t}return e}function See({id:n,__demoMode:e=!1}){let t=w.useMemo(()=>GT.new({id:n,__demoMode:e}),[]);return yF(()=>t.dispose()),t}let YT=w.createContext(null);YT.displayName="PopoverGroupContext";function PF(){return w.useContext(YT)}let Av=w.createContext(null);Av.displayName="PopoverPanelContext";function Cee(){return w.useContext(Av)}let Aee="div";function kee(n,e){var t;let i=w.useId(),{__demoMode:r=!1,...s}=n,o=See({id:i,__demoMode:r}),a=w.useRef(null),l=Ks(e,ZL(V=>{a.current=V})),[u,c,h,d,f]=El(o,w.useCallback(V=>[V.popoverState,V.button,V.panel,V.buttonId,V.panelId],[])),y=dc((t=a.current)!=null?t:c),g=ma(d),_=ma(f),v=w.useMemo(()=>({buttonId:g,panelId:_,close:o.actions.close}),[g,_,o]),b=PF(),x=b==null?void 0:b.registerPopover,P=ht(()=>{var V;return(V=b==null?void 0:b.isFocusWithinPopoverGroup())!=null?V:(y==null?void 0:y.activeElement)&&((c==null?void 0:c.contains(y.activeElement))||(h==null?void 0:h.contains(y.activeElement)))});w.useEffect(()=>x==null?void 0:x(v),[x,v]);let[k,M]=yee(),A=xF(c),T=wee({mainTreeNode:A,portals:k,defaultContainers:[{get current(){return o.state.button}},{get current(){return o.state.panel}}]});bJ(y==null?void 0:y.defaultView,"focus",V=>{var q,ee,H,F,j,L;V.target!==window&&fu(V.target)&&o.state.popoverState===qt.Open&&(P()||o.state.button&&o.state.panel&&(T.contains(V.target)||(ee=(q=o.state.beforePanelSentinel.current)==null?void 0:q.contains)!=null&&ee.call(q,V.target)||(F=(H=o.state.afterPanelSentinel.current)==null?void 0:H.contains)!=null&&F.call(H,V.target)||(L=(j=o.state.afterButtonSentinel.current)==null?void 0:j.contains)!=null&&L.call(j,V.target)||o.actions.close()))},!0);let E=u===qt.Open;vJ(E,T.resolveContainers,(V,q)=>{o.actions.close(),lF(q,HT.Loose)||(V.preventDefault(),c==null||c.focus())});let C=w.useMemo(()=>({open:u===qt.Open,close:o.actions.refocusableClose}),[u,o]),D=El(o,w.useCallback(V=>cs(V.popoverState,{[qt.Open]:Pl.Open,[qt.Closed]:Pl.Closed}),[])),N={ref:l},R=io();return te.createElement(wF,{node:A},te.createElement(iee,null,te.createElement(Av.Provider,{value:null},te.createElement(EF.Provider,{value:o},te.createElement(JL,{value:o.actions.refocusableClose},te.createElement(oee,{value:D},te.createElement(M,null,R({ourProps:N,theirProps:s,slot:C,defaultTag:Aee,name:"Popover"}))))))))}let Iee="button";function Dee(n,e){let t=w.useId(),{id:i=`headlessui-popover-button-${t}`,disabled:r=!1,autoFocus:s=!1,...o}=n,a=Cv("Popover.Button"),[l,u,c,h,d,f,y]=El(a,w.useCallback(K=>[K.popoverState,a.selectors.isPortalled(K),K.button,K.buttonId,K.panel,K.panelId,K.afterButtonSentinel],[])),g=w.useRef(null),_=`headlessui-focus-sentinel-${w.useId()}`,v=PF(),b=v==null?void 0:v.closeOthers,x=Cee()!==null;w.useEffect(()=>{if(!x)return a.actions.setButtonId(i),()=>a.actions.setButtonId(null)},[x,i,a]);let[P]=w.useState(()=>Symbol()),k=Ks(g,e,eee(),ht(K=>{if(!x){if(K)a.state.buttons.current.push(P);else{let ne=a.state.buttons.current.indexOf(P);ne!==-1&&a.state.buttons.current.splice(ne,1)}a.state.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),K&&a.actions.setButton(K)}})),M=Ks(g,e),A=dc(g),T=ht(K=>{var ne,le,X;if(x){if(a.state.popoverState===qt.Closed)return;switch(K.key){case _o.Space:case _o.Enter:K.preventDefault(),(le=(ne=K.target).click)==null||le.call(ne),a.actions.close(),(X=a.state.button)==null||X.focus();break}}else switch(K.key){case _o.Space:case _o.Enter:K.preventDefault(),K.stopPropagation(),a.state.popoverState===qt.Closed?(b==null||b(a.state.buttonId),a.actions.open()):a.actions.close();break;case _o.Escape:if(a.state.popoverState!==qt.Open)return b==null?void 0:b(a.state.buttonId);if(!g.current||A!=null&&A.activeElement&&!g.current.contains(A.activeElement))return;K.preventDefault(),K.stopPropagation(),a.actions.close();break}}),E=ht(K=>{x||K.key===_o.Space&&K.preventDefault()}),C=ht(K=>{var ne,le;qL(K.currentTarget)||r||(x?(a.actions.close(),(ne=a.state.button)==null||ne.focus()):(K.preventDefault(),K.stopPropagation(),a.state.popoverState===qt.Closed?(b==null||b(a.state.buttonId),a.actions.open()):a.actions.close(),(le=a.state.button)==null||le.focus()))}),D=ht(K=>{K.preventDefault(),K.stopPropagation()}),{isFocusVisible:N,focusProps:R}=TZ({autoFocus:s}),{isHovered:V,hoverProps:q}=xZ({isDisabled:r}),{pressed:ee,pressProps:H}=kZ({disabled:r}),F=l===qt.Open,j=w.useMemo(()=>({open:F,active:ee||F,disabled:r,hover:V,focus:N,autofocus:s}),[F,V,N,ee,r,s]),L=_J(n,c),B=Pw(x?{ref:M,type:L,onKeyDown:T,onClick:C,disabled:r||void 0,autoFocus:s}:{ref:k,id:h,type:L,"aria-expanded":l===qt.Open,"aria-controls":d?f:void 0,disabled:r||void 0,autoFocus:s,onKeyDown:T,onKeyUp:E,onClick:C,onMouseDown:D},R,q,H),z=TF(),$=ht(()=>{if(!Xs(a.state.panel))return;let K=a.state.panel;function ne(){cs(z.current,{[Ds.Forwards]:()=>Xa(K,Is.First),[Ds.Backwards]:()=>Xa(K,Is.Last)})===$g.Error&&Xa(Pv().filter(le=>le.dataset.headlessuiFocusGuard!=="true"),cs(z.current,{[Ds.Forwards]:Is.Next,[Ds.Backwards]:Is.Previous}),{relativeTo:a.state.button})}ne()}),oe=io();return te.createElement(te.Fragment,null,oe({ourProps:B,theirProps:o,slot:j,defaultTag:Iee,name:"Popover.Button"}),F&&!x&&u&&te.createElement(Ug,{id:_,ref:y,features:$d.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:$}))}let Ree="div",Mee=Ud.RenderStrategy|Ud.Static;function SF(n,e){let t=w.useId(),{id:i=`headlessui-popover-backdrop-${t}`,transition:r=!1,...s}=n,o=Cv("Popover.Backdrop"),a=El(o,w.useCallback(v=>v.popoverState,[])),[l,u]=w.useState(null),c=Ks(e,u),h=gF(),[d,f]=dF(r,l,h!==null?(h&Pl.Open)===Pl.Open:a===qt.Open),y=ht(v=>{if(qL(v.currentTarget))return v.preventDefault();o.actions.close()}),g=w.useMemo(()=>({open:a===qt.Open}),[a]),_={ref:c,id:i,"aria-hidden":!0,onClick:y,...hF(f)};return io()({ourProps:_,theirProps:s,slot:g,defaultTag:Ree,features:Mee,visible:d,name:"Popover.Backdrop"})}let Nee="div",Oee=Ud.RenderStrategy|Ud.Static;function jee(n,e){let t=w.useId(),{id:i=`headlessui-popover-panel-${t}`,focus:r=!1,anchor:s,portal:o=!1,modal:a=!1,transition:l=!1,...u}=n,c=Cv("Popover.Panel"),h=El(c,c.selectors.isPortalled),[d,f,y,g,_]=El(c,w.useCallback($=>[$.popoverState,$.button,$.__demoMode,$.beforePanelSentinel,$.afterPanelSentinel],[])),v=`headlessui-focus-sentinel-before-${t}`,b=`headlessui-focus-sentinel-after-${t}`,x=w.useRef(null),P=JJ(s),[k,M]=nee(P),A=tee();P&&(o=!0);let[T,E]=w.useState(null),C=Ks(x,e,P?k:null,c.actions.setPanel,E),D=dc(f),N=dc(x);ar(()=>(c.actions.setPanelId(i),()=>c.actions.setPanelId(null)),[i,c]);let R=gF(),[V,q]=dF(l,T,R!==null?(R&Pl.Open)===Pl.Open:d===qt.Open);uJ(V,f,c.actions.close),AJ(y?!1:a&&V,N);let ee=ht($=>{var oe;switch($.key){case _o.Escape:if(c.state.popoverState!==qt.Open||!x.current||N!=null&&N.activeElement&&!x.current.contains(N.activeElement))return;$.preventDefault(),$.stopPropagation(),c.actions.close(),(oe=c.state.button)==null||oe.focus();break}});w.useEffect(()=>{var $;n.static||d===qt.Closed&&(($=n.unmount)==null||$)&&c.actions.setPanel(null)},[d,n.unmount,n.static,c]),w.useEffect(()=>{if(y||!r||d!==qt.Open||!x.current)return;let $=N==null?void 0:N.activeElement;x.current.contains($)||Xa(x.current,Is.First)},[y,r,x.current,d]);let H=w.useMemo(()=>({open:d===qt.Open,close:c.actions.refocusableClose}),[d,c]),F=Pw(P?A():{},{ref:C,id:i,onKeyDown:ee,onBlur:r&&d===qt.Open?$=>{var oe,K,ne,le,X;let ce=$.relatedTarget;ce&&x.current&&((oe=x.current)!=null&&oe.contains(ce)||(c.actions.close(),((ne=(K=g.current)==null?void 0:K.contains)!=null&&ne.call(K,ce)||(X=(le=_.current)==null?void 0:le.contains)!=null&&X.call(le,ce))&&ce.focus({preventScroll:!0})))}:void 0,tabIndex:-1,style:{...u.style,...M,"--button-width":HZ(f,!0).width},...hF(q)}),j=TF(),L=ht(()=>{let $=x.current;if(!$)return;function oe(){cs(j.current,{[Ds.Forwards]:()=>{var K;Xa($,Is.First)===$g.Error&&((K=c.state.afterPanelSentinel.current)==null||K.focus())},[Ds.Backwards]:()=>{var K;(K=c.state.button)==null||K.focus({preventScroll:!0})}})}oe()}),B=ht(()=>{let $=x.current;if(!$)return;function oe(){cs(j.current,{[Ds.Forwards]:()=>{if(!c.state.button)return;let K=Pv(),ne=K.indexOf(c.state.button),le=K.slice(0,ne+1),X=[...K.slice(ne+1),...le];for(let ce of X.slice())if(ce.dataset.headlessuiFocusGuard==="true"||T!=null&&T.contains(ce)){let me=X.indexOf(ce);me!==-1&&X.splice(me,1)}Xa(X,Is.First,{sorted:!1})},[Ds.Backwards]:()=>{var K;Xa($,Is.Previous)===$g.Error&&((K=c.state.button)==null||K.focus())}})}oe()}),z=io();return te.createElement(aee,null,te.createElement(Av.Provider,{value:i},te.createElement(JL,{value:c.actions.refocusableClose},te.createElement(_ee,{enabled:o?n.static||V:!1,ownerDocument:D},V&&h&&te.createElement(Ug,{id:v,ref:g,features:$d.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:L}),z({ourProps:F,theirProps:u,slot:H,defaultTag:Nee,features:Oee,visible:V,name:"Popover.Panel"}),V&&h&&te.createElement(Ug,{id:b,ref:_,features:$d.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:B})))))}let Lee="div";function Fee(n,e){let t=w.useRef(null),i=Ks(t,e),[r,s]=w.useState([]),o=ht(g=>{s(_=>{let v=_.indexOf(g);if(v!==-1){let b=_.slice();return b.splice(v,1),b}return _})}),a=ht(g=>(s(_=>[..._,g]),()=>o(g))),l=ht(()=>{var g;let _=jf(t);if(!_)return!1;let v=_.activeElement;return(g=t.current)!=null&&g.contains(v)?!0:r.some(b=>{var x,P;return((x=_.getElementById(b.buttonId.current))==null?void 0:x.contains(v))||((P=_.getElementById(b.panelId.current))==null?void 0:P.contains(v))})}),u=ht(g=>{for(let _ of r)_.buttonId.current!==g&&_.close()}),c=w.useMemo(()=>({registerPopover:a,unregisterPopover:o,isFocusWithinPopoverGroup:l,closeOthers:u}),[a,o,l,u]),h=w.useMemo(()=>({}),[]),d=n,f={ref:i},y=io();return te.createElement(wF,null,te.createElement(YT.Provider,{value:c},y({ourProps:f,theirProps:d,slot:h,defaultTag:Lee,name:"Popover.Group"})))}let Vee=gs(kee),Bee=gs(Dee),Uee=gs(SF),$ee=gs(SF),zee=gs(jee),Hee=gs(Fee),$p=Object.assign(Vee,{Button:Bee,Backdrop:$ee,Overlay:Uee,Panel:zee,Group:Hee});function kk(n){return n==null||n===""||isNaN(n)?0:n>=1e6?(n/1e6).toFixed(1).replace(/\.0$/,"")+"M":n>=1e3?(n/1e3).toFixed(1).replace(/\.0$/,"")+"k":Number(n).toLocaleString()}function Wee(n){return p.jsx("span",{className:"bg-gradient-to-r from-pink-500 via-yellow-400 to-blue-400 bg-clip-text text-transparent",children:n.charAt(0).toUpperCase()+n.slice(1)})}function Gee(){const{category:n}=yW(),e=eZ(n),t=Ta();return p.jsxs("div",{className:"max-w-5xl mx-auto py-12 px-2 md:px-0",children:[p.jsxs("h1",{className:"text-4xl md:text-5xl font-extrabold text-center mb-4",children:["Instagram ",Wee(n||"")," Top Influencer"]}),p.jsxs("p",{className:"text-center text-lg md:text-xl text-gray-700 mb-10 max-w-3xl mx-auto",children:["On Instagram, ",n&&p.jsx("b",{children:n})," is always a trend: we have selected the top 20 Influencers who share posts, reels, videos and stories about ",n,". Cooking tips, recipes, food trends, gastronomy: watch their style and post ",p.jsx("b",{children:"original contents"}),"."]}),p.jsx("div",{className:"space-y-6",children:e.slice(0,20).map((i,r)=>p.jsxs("div",{className:"bg-gray-100 rounded-2xl shadow flex flex-col md:flex-row items-center gap-6 px-6 py-6 md:py-8",children:[p.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[p.jsx("img",{src:i.Avatar,alt:i.Username,className:"w-16 h-16 rounded-full object-cover border-2 border-white shadow"}),p.jsxs("div",{children:[p.jsxs("div",{className:"font-bold text-lg flex items-center gap-2",children:[i.Username," ",i.Verified==="TRUE"&&p.jsx("span",{className:"text-blue-500",children:""})]}),p.jsx("div",{className:"text-gray-500 text-sm",children:i.Name})]})]}),p.jsxs("div",{className:"flex-1 flex flex-wrap justify-center md:justify-end gap-8 md:gap-12 text-center",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-2xl",children:i.Followers}),p.jsx("div",{className:"text-xs text-gray-500",children:"Follower"})]}),p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-2xl",children:i.Following}),p.jsx("div",{className:"text-xs text-gray-500",children:"Following"})]}),p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-2xl",children:i.Posts}),p.jsx("div",{className:"text-xs text-gray-500",children:"Post"})]}),p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-2xl",children:i.ER}),p.jsx("div",{className:"text-xs text-gray-500",children:"E.R."})]})]}),p.jsx("div",{className:"flex flex-col items-center gap-2 mt-4 md:mt-0",children:p.jsx($p,{className:"relative",children:({open:s})=>p.jsxs(p.Fragment,{children:[p.jsxs($p.Button,{className:`
                        inline-flex items-center gap-2 px-4 py-2 text-sm font-medium
                        ${s?"bg-blue-50 text-blue-700 border-blue-200":"bg-white text-gray-700 border-gray-200"}
                        border rounded-full shadow-sm hover:bg-gray-50 
                        transition-all duration-200 ease-in-out
                      `,children:["Show Details",p.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${s?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),p.jsx($p.Overlay,{className:`fixed inset-0 bg-black/30 backdrop-blur-sm transition-opacity duration-200 ${s?"opacity-100":"opacity-0 pointer-events-none"}`}),p.jsx($p.Panel,{className:"absolute right-0 z-50 mt-2 w-96 transform transition-all duration-200 ease-out",children:p.jsxs("div",{className:"bg-white rounded-xl shadow-xl ring-1 ring-black ring-opacity-5 overflow-hidden",children:[p.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-b",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("img",{src:i.Avatar,alt:i.Username,className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow"}),p.jsxs("div",{children:[p.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[i.Username,i.Verified==="TRUE"&&p.jsx("span",{className:"text-blue-500",title:"Verified Account",children:""})]}),p.jsx("p",{className:"text-sm text-gray-600",children:i.Name})]})]})}),p.jsxs("div",{className:"p-4 space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[p.jsx("div",{className:"text-sm text-gray-500",children:"Followers"}),p.jsx("div",{className:"text-xl font-bold text-gray-900",children:i.Followers})]}),p.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[p.jsx("div",{className:"text-sm text-gray-500",children:"Following"}),p.jsx("div",{className:"text-xl font-bold text-gray-900",children:i.Following})]}),p.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[p.jsx("div",{className:"text-sm text-gray-500",children:"Total Posts"}),p.jsx("div",{className:"text-xl font-bold text-gray-900",children:i.Posts})]}),p.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[p.jsx("div",{className:"text-sm text-gray-500",children:"Avg Likes"}),p.jsx("div",{className:"text-xl font-bold text-gray-900",children:kk(i.AverageLikes)})]}),p.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[p.jsx("div",{className:"text-sm text-gray-500",children:"Avg Comments"}),p.jsx("div",{className:"text-xl font-bold text-gray-900",children:kk(i.AverageComments)})]}),p.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[p.jsx("div",{className:"text-sm text-gray-500",children:"Engagement Rate"}),p.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[i.ER,"%"]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("h4",{className:"font-semibold text-gray-900",children:"About"}),p.jsx("p",{className:"text-sm text-gray-600",children:i.Bio||`Top ${n} influencer on Instagram sharing amazing content about ${n}.`})]}),p.jsxs("div",{className:"flex gap-2 pt-2",children:[p.jsx("a",{href:`https://instagram.com/${i.Username}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"View Profile"}),p.jsx("button",{onClick:()=>t(`/influencer/${i.Username}`),className:"flex-1 inline-flex justify-center items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Analytics"})]})]})]})})]})})})]},i.Username+r))})]})}const Ik=[{tier:"Free",label:"FREE  Explorer",subtitle:"Get started with core insights",price:"$0",features:["Top 3 daily trending Reels","1 profile analysis per day","7-day snapshot view","Limited SmartChat (5 queries/day)"],isFree:!0,usageLimit:"per-day-1"},{tier:"Trends+",label:"CREATOR  Growth Builder",subtitle:"For serious individual creators",price:"$9",features:["10 profile analyses per month","30-day growth tracking","Best time to post (data-based)","Content performance insights","Basic SmartChat (analytics only)","Limited hashtag intelligence","Competitor comparison (compare up to 2 usernames)"],usageLimit:10},{tier:"Analytics+",label:"PRO  Growth Accelerator",subtitle:"Our most popular plan for growth",price:"$19",features:["50 profile analyses per month","90-day historical data","Competitor comparison (compare up to 5 usernames)","Engagement leak detection","AI Growth Suggestions (data-backed)","Advanced hashtag analysis","SmartChat Pro (analytics + APIFY)","CSV exports"],mostPopular:!0,badge:" MOST POPULAR",usageLimit:50},{tier:"Pro Combo",label:"ELITE  Agency",subtitle:"For agencies & power users",price:"$39",features:["200 profile analyses per month","Multi-account dashboard","Downloadable brand reports","Priority data processing","AI forecasting (coming soon)","Future API access"],usageLimit:200}],Yee={Free:"1 profile analysis per day","Trends+":"Analyze up to 10 profiles per month","Analytics+":"Analyze up to 50 profiles per month","Pro Combo":"Analyze up to 200 profiles per month"},sb={background:"linear-gradient(90deg, #f9ce34, #ee2a7b, #6228d7)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},Xee=()=>{XN();const[n,e]=w.useState(null),[t,i]=w.useState(null),[r,s]=w.useState(!0),[o,a]=w.useState(!1),l=(t==null?void 0:t.currentPlan)||"Free",u=w.useMemo(()=>Ik.find(d=>d.tier===l),[l]);w.useEffect(()=>{const d=mL(us,async f=>{if(!f){e(null),i(null),s(!1);return}e(f.uid);const y=wi(yn,"users",f.uid),g=await pa(y);if(g.exists()){const _=g.data(),v={currentPlan:_.currentPlan||"Free",usageCount:typeof _.usageCount=="number"?_.usageCount:0,usageResetAt:_.usageResetAt||null,updatedAt:_.updatedAt};if(v.currentPlan==="Free"&&v.usageResetAt){const b=new Date,x=new Date(v.usageResetAt);b>=x&&(v.usageCount=0,v.usageResetAt=zp(),await Lo(y,{...v,updatedAt:jp()},{merge:!0}))}i(v),s(!1)}else{const _={currentPlan:"Free",usageCount:0,usageResetAt:zp()};await Lo(y,{..._,updatedAt:jp()},{merge:!0}),i(_),s(!1)}});return()=>d()},[]),w.useEffect(()=>{if(!t){a(!1);return}const d=u.usageLimit;a(d==="per-day-1"?t.usageCount>=1:typeof d=="number"?t.usageCount>=d:!1)},[t,u]);const c=async d=>{if(!n)return;const f=wi(yn,"users",n),y={currentPlan:d,usageCount:0,usageResetAt:d==="Free"?zp():null};await Lo(f,{...y,updatedAt:jp()},{merge:!0}),i(y)},h=async()=>{if(!n||!t)return;const d=wi(yn,"users",n),f={usageCount:0,usageResetAt:t.currentPlan==="Free"?zp():null};await Lo(d,{...f,updatedAt:jp()},{merge:!0}),i({...t,...f})};return p.jsx("div",{className:"min-h-screen bg-background flex flex-col items-center py-12 px-4 md:pl-16",children:p.jsxs("div",{className:"w-full md:ml-16 md:max-w-6xl",children:[p.jsx("h1",{className:"text-4xl font-bold mb-8 text-center",style:sb,children:"Subscription Plans"}),p.jsx("p",{className:"text-center text-sm text-gray-500 mb-6",children:"Pick the plan that matches where you are in your creator journey."}),!r&&o&&p.jsx("div",{className:"mb-4 text-center text-xs text-yellow-700 bg-yellow-50 border border-yellow-200 rounded-md py-2 px-3",children:"Youve reached your analysis limit for this plan. Renew to continue."}),p.jsx("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 w-full",children:Ik.map(d=>{const f=l===d.tier,y=!!d.mostPopular;return p.jsxs("div",{className:`relative bg-white rounded-2xl border p-8 flex flex-col items-center transition-transform ${y?"shadow-xl border-[#d72989] scale-105":"shadow-md border-gray-100 hover:scale-105"}`,children:[y&&d.badge&&p.jsx("div",{className:"absolute top-3 right-3 px-3 py-1 rounded-full text-xs font-semibold bg-[#111827] text-white shadow-md",children:d.badge}),p.jsx("h2",{className:"text-lg font-bold mb-1 text-center",style:sb,children:d.label}),p.jsx("p",{className:"text-xs text-gray-500 mb-4 text-center",children:d.subtitle}),p.jsxs("div",{className:"flex items-baseline gap-1 mb-4",children:[p.jsx("span",{className:"text-3xl font-extrabold text-black",children:d.price}),p.jsx("span",{className:"text-sm text-gray-500",children:d.isFree?"":"/month"})]}),p.jsx("ul",{className:"text-gray-700 text-left mb-6 list-disc list-inside space-y-2 w-full",children:d.features.map((g,_)=>p.jsx("li",{children:g},_))}),p.jsxs("div",{className:"w-full mb-4 text-xs text-gray-600",children:[p.jsx("span",{className:"font-semibold",children:"Usage:"})," ",p.jsx("span",{children:Yee[d.tier]})]}),f?p.jsx("button",{className:`mt-auto px-8 py-3 rounded-lg font-semibold transition-colors w-full text-lg shadow-md ${o?"bg-[#8b5cf6] text-white hover:bg-[#7c3aed]":"bg-[#ede9fe] text-[#8b5cf6] cursor-default"}`,onClick:o?h:void 0,disabled:!o,children:o?"Renew Plan":"Current Plan"}):p.jsx("button",{className:"mt-auto px-8 py-3 rounded-lg font-semibold transition-colors w-full text-lg shadow-md bg-[#8b5cf6] text-white hover:bg-[#7c3aed]",onClick:()=>c(d.tier),children:d.isFree?"Get Started":"Upgrade"})]},d.tier)})}),p.jsxs("div",{className:"mt-12 max-w-3xl mx-auto text-center",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",style:sb,children:"Why Creators Upgrade"}),p.jsxs("ul",{className:"text-sm md:text-base text-gray-700 space-y-2 text-left md:text-center list-disc list-inside md:list-none md:space-y-1",children:[p.jsx("li",{children:"Identify growth leaks"}),p.jsx("li",{children:"Increase engagement 2040%"}),p.jsx("li",{children:"Know best posting time using real data"}),p.jsx("li",{children:"Analyze competitors before posting"}),p.jsx("li",{children:"Make decisions using AI insights"})]})]})]})})};function zp(){const n=new Date,e=new Date(n);return e.setHours(24,0,0,0),e.toISOString()}const Kee=T1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Jt=w.forwardRef(({className:n,variant:e,size:t,asChild:i=!1,...r},s)=>{const o=i?ec:"button";return p.jsx(o,{className:lt(Kee({variant:e,size:t,className:n})),ref:s,...r})});Jt.displayName="Button";const XT="/assets/trendlogo-oG2I2_es.png",qee=({onCategoryChange:n})=>{w.useState("");const{toast:e}=eo(),[t,i]=w.useState(null),r=Ta();w.useEffect(()=>{const o=Tv(a=>{i(a)});return i(Bd()),()=>o()},[]);const s=async()=>{try{await kL(),e({title:"Signed out"})}catch(o){e({title:"Sign out Failed",description:o.message,variant:"destructive"})}};return p.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:p.jsxs("div",{className:"flex h-16 items-center px-4 relative",children:[p.jsxs("a",{href:"/",className:"flex items-center gap-2 font-semibold hover:opacity-80 transition-opacity md:hidden",children:[p.jsx("img",{src:XT,alt:"whoistrend logo",className:"h-10 w-10"}),p.jsx("span",{className:"text-xl",children:"whoistrend"})]}),p.jsx("div",{className:"ml-auto hidden md:flex items-center gap-4",children:t?p.jsxs("div",{className:"flex items-center gap-3",children:[t.photoURL&&p.jsx("img",{src:t.photoURL,alt:"avatar",className:"w-8 h-8 rounded-full border"}),p.jsx("span",{className:"font-medium text-gray-700 text-sm",children:t.displayName||t.email}),p.jsx(Jt,{size:"sm",variant:"outline",onClick:s,children:"Sign out"})]}):p.jsxs(Jt,{size:"sm",className:"bg-gradient-to-r from-blue-500 to-blue-700",onClick:()=>r("/auth"),children:[p.jsx(D6,{className:"mr-2 h-4 w-4"}),p.jsx("span",{className:"hidden sm:inline-flex",children:"Sign In "})]})})]})})},qi=w.forwardRef(({className:n,...e},t)=>p.jsx("div",{ref:t,className:lt("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));qi.displayName="Card";const Qi=w.forwardRef(({className:n,...e},t)=>p.jsx("div",{ref:t,className:lt("flex flex-col space-y-1.5 p-6",n),...e}));Qi.displayName="CardHeader";const Zi=w.forwardRef(({className:n,...e},t)=>p.jsx("h3",{ref:t,className:lt("text-2xl font-semibold leading-none tracking-tight",n),...e}));Zi.displayName="CardTitle";const Nu=w.forwardRef(({className:n,...e},t)=>p.jsx("p",{ref:t,className:lt("text-sm text-muted-foreground",n),...e}));Nu.displayName="CardDescription";const Ji=w.forwardRef(({className:n,...e},t)=>p.jsx("div",{ref:t,className:lt("p-6 pt-0",n),...e}));Ji.displayName="CardContent";const KT=w.forwardRef(({className:n,...e},t)=>p.jsx("div",{ref:t,className:lt("flex items-center p-6 pt-0",n),...e}));KT.displayName="CardFooter";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qee="type.googleapis.com/google.protobuf.Int64Value",Zee="type.googleapis.com/google.protobuf.UInt64Value";function CF(n,e){const t={};for(const i in n)n.hasOwnProperty(i)&&(t[i]=e(n[i]));return t}function zg(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>zg(e));if(typeof n=="function"||typeof n=="object")return CF(n,e=>zg(e));throw new Error("Data cannot be encoded in JSON: "+n)}function fc(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case Qee:case Zee:{const e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>fc(e)):typeof n=="function"||typeof n=="object"?CF(n,e=>fc(e)):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gi extends Nr{constructor(e,t,i){super(`${qT}/${e}`,t||""),this.details=i,Object.setPrototypeOf(this,gi.prototype)}}function Jee(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Hg(n,e){let t=Jee(n),i=t,r;try{const s=e&&e.error;if(s){const o=s.status;if(typeof o=="string"){if(!Dk[o])return new gi("internal","internal");t=Dk[o],i=o}const a=s.message;typeof a=="string"&&(i=a),r=s.details,r!==void 0&&(r=fc(r))}}catch{}return t==="ok"?null:new gi(t,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ete{constructor(e,t,i,r){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Yn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||t.get().then(s=>this.auth=s,()=>{}),this.messaging||i.get().then(s=>this.messaging=s,()=>{}),this.appCheck||r==null||r.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),i=await this.getMessagingToken(),r=await this.getAppCheckToken(e);return{authToken:t,messagingToken:i,appCheckToken:r}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="us-central1",tte=/^data: (.*?)(?:\n|$)/;function nte(n){let e=null;return{promise:new Promise((t,i)=>{e=setTimeout(()=>{i(new gi("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}class ite{constructor(e,t,i,r,s=kw,o=(...a)=>fetch(...a)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new ete(e,t,i,r),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=kw}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function rte(n,e,t){const i=Ic(e);n.emulatorOrigin=`http${i?"s":""}://${e}:${t}`,i&&ev(n.emulatorOrigin)}function ste(n,e,t){const i=r=>ate(n,e,r,t||{});return i.stream=(r,s)=>ute(n,e,r,s),i}async function ote(n,e,t,i){t["Content-Type"]="application/json";let r;try{r=await i(n,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let s=null;try{s=await r.json()}catch{}return{status:r.status,json:s}}async function AF(n,e){const t={},i=await n.contextProvider.getContext(e.limitedUseAppCheckTokens);return i.authToken&&(t.Authorization="Bearer "+i.authToken),i.messagingToken&&(t["Firebase-Instance-ID-Token"]=i.messagingToken),i.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=i.appCheckToken),t}function ate(n,e,t,i){const r=n._url(e);return lte(n,r,t,i)}async function lte(n,e,t,i){t=zg(t);const r={data:t},s=await AF(n,i),o=i.timeout||7e4,a=nte(o),l=await Promise.race([ote(e,r,s,n.fetchImpl),a.promise,n.cancelAllRequests]);if(a.cancel(),!l)throw new gi("cancelled","Firebase Functions instance was deleted.");const u=Hg(l.status,l.json);if(u)throw u;if(!l.json)throw new gi("internal","Response is not valid JSON object.");let c=l.json.data;if(typeof c>"u"&&(c=l.json.result),typeof c>"u")throw new gi("internal","Response is missing data field.");return{data:fc(c)}}function ute(n,e,t,i){const r=n._url(e);return cte(n,r,t,i||{})}async function cte(n,e,t,i){var r;t=zg(t);const s={data:t},o=await AF(n,i);o["Content-Type"]="application/json",o.Accept="text/event-stream";let a;try{a=await n.fetchImpl(e,{method:"POST",body:JSON.stringify(s),headers:o,signal:i==null?void 0:i.signal})}catch(f){if(f instanceof Error&&f.name==="AbortError"){const g=new gi("cancelled","Request was cancelled.");return{data:Promise.reject(g),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(g)}}}}}}const y=Hg(0,null);return{data:Promise.reject(y),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(y)}}}}}}let l,u;const c=new Promise((f,y)=>{l=f,u=y});(r=i==null?void 0:i.signal)===null||r===void 0||r.addEventListener("abort",()=>{const f=new gi("cancelled","Request was cancelled.");u(f)});const h=a.body.getReader(),d=hte(h,l,u,i==null?void 0:i.signal);return{stream:{[Symbol.asyncIterator](){const f=d.getReader();return{async next(){const{value:y,done:g}=await f.read();return{value:y,done:g}},async return(){return await f.cancel(),{done:!0,value:void 0}}}}},data:c}}function hte(n,e,t,i){const r=(o,a)=>{const l=o.match(tte);if(!l)return;const u=l[1];try{const c=JSON.parse(u);if("result"in c){e(fc(c.result));return}if("message"in c){a.enqueue(fc(c.message));return}if("error"in c){const h=Hg(0,c);a.error(h),t(h);return}}catch(c){if(c instanceof gi){a.error(c),t(c);return}}},s=new TextDecoder;return new ReadableStream({start(o){let a="";return l();async function l(){if(i!=null&&i.aborted){const u=new gi("cancelled","Request was cancelled");return o.error(u),t(u),Promise.resolve()}try{const{value:u,done:c}=await n.read();if(c){a.trim()&&r(a.trim(),o),o.close();return}if(i!=null&&i.aborted){const d=new gi("cancelled","Request was cancelled");o.error(d),t(d),await n.cancel();return}a+=s.decode(u,{stream:!0});const h=a.split(`
`);a=h.pop()||"";for(const d of h)d.trim()&&r(d.trim(),o);return l()}catch(u){const c=u instanceof gi?u:Hg(0,null);o.error(c),t(c)}}},cancel(){return n.cancel()}})}const Rk="@firebase/functions",Mk="0.12.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dte="auth-internal",fte="app-check-internal",pte="messaging-internal";function mte(n){const e=(t,{instanceIdentifier:i})=>{const r=t.getProvider("app").getImmediate(),s=t.getProvider(dte),o=t.getProvider(pte),a=t.getProvider(fte);return new ite(r,s,o,a,i)};aa(new zs(qT,e,"PUBLIC").setMultipleInstances(!0)),nr(Rk,Mk,n),nr(Rk,Mk,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gte(n=tv(),e=kw){const i=Pf(tn(n),qT).getImmediate({identifier:e}),r=V1("functions");return r&&yte(i,...r),i}function yte(n,e,t){rte(tn(n),e,t)}function Vf(n,e,t){return ste(tn(n),e,t)}mte();const vte={apiKey:"AIzaSyAigHZtOY0Aa5i1bOzCHLgSTYjhcL7L-Mc",authDomain:"social-trends-29ac2.firebaseapp.com",projectId:"social-trends-29ac2",storageBucket:"social-trends-29ac2.firebasestorage.app",messagingSenderId:"829824264022",appId:"1:829824264022:web:569589e8538e04dc3a58f7"};let Wg;const Nk=v7();Nk.length>0?Wg=Nk[0]:Wg=$1(vte);FT(Wg);const Bf=gte(Wg,"us-central1");Vf(Bf,"fetchAndStoreInstagramData");async function bte(n){const e=Vf(Bf,"getSocialBladeAnalytics");try{const i=(await e({username:n})).data;if(!i.success||!i.data)throw new Error("Unable to fetch analytics data. Please try again.");return i.data}catch(t){console.error("Error fetching Social Blade analytics:",t);let i="Unable to fetch analytics data. Please try again.";if(t.code==="unauthenticated"||t.code==="permission-denied")i="Please login to fetch analytics data";else if(t.message){const r=t.message.toLowerCase();r.includes("permission")||r.includes("auth")||r.includes("unauthorized")?i="Please login to fetch analytics data":r.includes("not found")||r.includes("404")?i="Username not found. Please check the username and try again.":r.includes("rate limit")||r.includes("too many")?i="Too many requests. Please wait a moment and try again.":r.includes("network")||r.includes("timeout")?i="Network error. Please check your connection and try again.":i=t.message}throw new Error(i)}}const Ok={profile:{username:"",media_count:0,followers_count:0,follows_count:0},insights:{followers:{growth:[]},engagement:{likes:0,comments:0,rate:0},dailyMetrics:[]},dataSource:"socialblade",currentFollowerCount:0,followerProjections:[]};function kF(){const[n,e]=w.useState({...Ok,username:"",loading:!1,error:null}),t=w.useCallback((r,s)=>{e({...Ok,username:r,loading:!1,error:null,profile:{username:r,profile_picture_url:s.profilePictureUrl,media_count:s.mediaCount||0,followers_count:s.followers,follows_count:s.following||0},insights:{followers:{growth:[]},engagement:{likes:s.avgLikes,comments:s.avgComments,rate:s.engagementRate},dailyMetrics:[]},currentFollowerCount:s.followers,followerProjections:[],dataSource:"apify"})},[]),i=w.useCallback(async r=>{if(!r||r==="demo_user"){e(s=>({...s,loading:!1,error:"Please enter a valid Instagram username",username:r}));return}e(s=>({...s,loading:!0,error:null,username:r}));try{console.log(`Fetching Social Blade data for: ${r}`);const s=await bte(r);console.log("Social Blade data received:",s),console.log("Projections from API:",s.projections);const o={profile:{username:r,profile_picture_url:s.profilePictureUrl||void 0,media_count:s.media||0,followers_count:s.followers||0,follows_count:s.following||0},insights:{followers:{growth:s.dailyHistory.map(a=>({date:a.date,count:a.followers}))},engagement:{likes:s.averageLikes||0,comments:s.averageComments||0,rate:s.engagementRate||0},dailyMetrics:[]},dataSource:"socialblade",currentFollowerCount:s.followers||0,followerProjections:(s.projections||[]).map(a=>({date:a.date,count:a.followers||0}))};e({...o,username:r,loading:!1,error:null})}catch(s){console.error("Error fetching Social Blade data:",s);let o="Unable to fetch analytics data. Please try again.";if(s.message){const a=s.message.toLowerCase();a.includes("permission")||a.includes("auth")||a.includes("unauthorized")?o="Please login to fetch analytics data":a.includes("not found")||a.includes("404")?o="Username not found. Please check the username and try again.":a.includes("rate limit")||a.includes("too many")?o="Too many requests. Please wait a moment and try again.":(a.includes("network")||a.includes("timeout"))&&(o="Network error. Please check your connection and try again.")}e(a=>({...a,loading:!1,error:o}))}},[]);return[n,i,t]}var _te=w.createContext(void 0);function QT(n){const e=w.useContext(_te);return n||e||"ltr"}var ob=0;function wte(){w.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??jk()),document.body.insertAdjacentElement("beforeend",n[1]??jk()),ob++,()=>{ob===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ob--}},[])}function jk(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var ab="focusScope.autoFocusOnMount",lb="focusScope.autoFocusOnUnmount",Lk={bubbles:!1,cancelable:!0},xte="FocusScope",IF=w.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...o}=n,[a,l]=w.useState(null),u=ri(r),c=ri(s),h=w.useRef(null),d=_n(e,g=>l(g)),f=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(i){let g=function(x){if(f.paused||!a)return;const P=x.target;a.contains(P)?h.current=P:po(h.current,{select:!0})},_=function(x){if(f.paused||!a)return;const P=x.relatedTarget;P!==null&&(a.contains(P)||po(h.current,{select:!0}))},v=function(x){if(document.activeElement===document.body)for(const k of x)k.removedNodes.length>0&&po(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",_);const b=new MutationObserver(v);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",_),b.disconnect()}}},[i,a,f.paused]),w.useEffect(()=>{if(a){Vk.add(f);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(ab,Lk);a.addEventListener(ab,u),a.dispatchEvent(v),v.defaultPrevented||(Tte(Ate(DF(a)),{select:!0}),document.activeElement===g&&po(a))}return()=>{a.removeEventListener(ab,u),setTimeout(()=>{const v=new CustomEvent(lb,Lk);a.addEventListener(lb,c),a.dispatchEvent(v),v.defaultPrevented||po(g??document.body,{select:!0}),a.removeEventListener(lb,c),Vk.remove(f)},0)}}},[a,u,c,f]);const y=w.useCallback(g=>{if(!t&&!i||f.paused)return;const _=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(_&&v){const b=g.currentTarget,[x,P]=Ete(b);x&&P?!g.shiftKey&&v===P?(g.preventDefault(),t&&po(x,{select:!0})):g.shiftKey&&v===x&&(g.preventDefault(),t&&po(P,{select:!0})):v===b&&g.preventDefault()}},[t,i,f.paused]);return p.jsx(mt.div,{tabIndex:-1,...o,ref:d,onKeyDown:y})});IF.displayName=xte;function Tte(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(po(i,{select:e}),document.activeElement!==t)return}function Ete(n){const e=DF(n),t=Fk(e,n),i=Fk(e.reverse(),n);return[t,i]}function DF(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Fk(n,e){for(const t of n)if(!Pte(t,{upTo:e}))return t}function Pte(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function Ste(n){return n instanceof HTMLInputElement&&"select"in n}function po(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&Ste(n)&&e&&n.select()}}var Vk=Cte();function Cte(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=Bk(n,e),n.unshift(e)},remove(e){var t;n=Bk(n,e),(t=n[0])==null||t.resume()}}}function Bk(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function Ate(n){return n.filter(e=>e.tagName!=="A")}function kte(n,e=[]){let t=[];function i(s,o){const a=w.createContext(o),l=t.length;t=[...t,o];function u(h){const{scope:d,children:f,...y}=h,g=(d==null?void 0:d[n][l])||a,_=w.useMemo(()=>y,Object.values(y));return p.jsx(g.Provider,{value:_,children:f})}function c(h,d){const f=(d==null?void 0:d[n][l])||a,y=w.useContext(f);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,c]}const r=()=>{const s=t.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return w.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return r.scopeName=n,[i,Ite(r,...e)]}function Ite(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}var ub="rovingFocusGroup.onEntryFocus",Dte={bubbles:!1,cancelable:!0},kv="RovingFocusGroup",[Iw,RF,Rte]=y1(kv),[Mte,Iv]=kte(kv,[Rte]),[Nte,Ote]=Mte(kv),MF=w.forwardRef((n,e)=>p.jsx(Iw.Provider,{scope:n.__scopeRovingFocusGroup,children:p.jsx(Iw.Slot,{scope:n.__scopeRovingFocusGroup,children:p.jsx(jte,{...n,ref:e})})}));MF.displayName=kv;var jte=w.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:i,loop:r=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:c=!1,...h}=n,d=w.useRef(null),f=_n(e,d),y=QT(s),[g=null,_]=Fy({prop:o,defaultProp:a,onChange:l}),[v,b]=w.useState(!1),x=ri(u),P=RF(t),k=w.useRef(!1),[M,A]=w.useState(0);return w.useEffect(()=>{const T=d.current;if(T)return T.addEventListener(ub,x),()=>T.removeEventListener(ub,x)},[x]),p.jsx(Nte,{scope:t,orientation:i,dir:y,loop:r,currentTabStopId:g,onItemFocus:w.useCallback(T=>_(T),[_]),onItemShiftTab:w.useCallback(()=>b(!0),[]),onFocusableItemAdd:w.useCallback(()=>A(T=>T+1),[]),onFocusableItemRemove:w.useCallback(()=>A(T=>T-1),[]),children:p.jsx(mt.div,{tabIndex:v||M===0?-1:0,"data-orientation":i,...h,ref:f,style:{outline:"none",...n.style},onMouseDown:Ae(n.onMouseDown,()=>{k.current=!0}),onFocus:Ae(n.onFocus,T=>{const E=!k.current;if(T.target===T.currentTarget&&E&&!v){const C=new CustomEvent(ub,Dte);if(T.currentTarget.dispatchEvent(C),!C.defaultPrevented){const D=P().filter(ee=>ee.focusable),N=D.find(ee=>ee.active),R=D.find(ee=>ee.id===g),q=[N,R,...D].filter(Boolean).map(ee=>ee.ref.current);jF(q,c)}}k.current=!1}),onBlur:Ae(n.onBlur,()=>b(!1))})})}),NF="RovingFocusGroupItem",OF=w.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:i=!0,active:r=!1,tabStopId:s,...o}=n,a=cg(),l=s||a,u=Ote(NF,t),c=u.currentTabStopId===l,h=RF(t),{onFocusableItemAdd:d,onFocusableItemRemove:f}=u;return w.useEffect(()=>{if(i)return d(),()=>f()},[i,d,f]),p.jsx(Iw.ItemSlot,{scope:t,id:l,focusable:i,active:r,children:p.jsx(mt.span,{tabIndex:c?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:Ae(n.onMouseDown,y=>{i?u.onItemFocus(l):y.preventDefault()}),onFocus:Ae(n.onFocus,()=>u.onItemFocus(l)),onKeyDown:Ae(n.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=Vte(y,u.orientation,u.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let v=h().filter(b=>b.focusable).map(b=>b.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const b=v.indexOf(y.currentTarget);v=u.loop?Bte(v,b+1):v.slice(b+1)}setTimeout(()=>jF(v))}})})})});OF.displayName=NF;var Lte={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Fte(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function Vte(n,e,t){const i=Fte(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return Lte[i]}function jF(n,e=!1){const t=document.activeElement;for(const i of n)if(i===t||(i.focus({preventScroll:e}),document.activeElement!==t))return}function Bte(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var LF=MF,FF=OF,Ute=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Gl=new WeakMap,Hp=new WeakMap,Wp={},cb=0,VF=function(n){return n&&(n.host||VF(n.parentNode))},$te=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=VF(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},zte=function(n,e,t,i){var r=$te(e,Array.isArray(n)?n:[n]);Wp[t]||(Wp[t]=new WeakMap);var s=Wp[t],o=[],a=new Set,l=new Set(r),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};r.forEach(u);var c=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(d){if(a.has(d))c(d);else try{var f=d.getAttribute(i),y=f!==null&&f!=="false",g=(Gl.get(d)||0)+1,_=(s.get(d)||0)+1;Gl.set(d,g),s.set(d,_),o.push(d),g===1&&y&&Hp.set(d,!0),_===1&&d.setAttribute(t,"true"),y||d.setAttribute(i,"true")}catch(v){console.error("aria-hidden: cannot operate on ",d,v)}})};return c(e),a.clear(),cb++,function(){o.forEach(function(h){var d=Gl.get(h)-1,f=s.get(h)-1;Gl.set(h,d),s.set(h,f),d||(Hp.has(h)||h.removeAttribute(i),Hp.delete(h)),f||h.removeAttribute(t)}),cb--,cb||(Gl=new WeakMap,Gl=new WeakMap,Hp=new WeakMap,Wp={})}},Hte=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),r=Ute(n);return r?(i.push.apply(i,Array.from(r.querySelectorAll("[aria-live]"))),zte(i,r,t,"aria-hidden")):function(){return null}},Im="right-scroll-bar-position",Dm="width-before-scroll-bar",Wte="with-scroll-bars-hidden",Gte="--removed-body-scroll-bar-size";function hb(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function Yte(n,e){var t=w.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var r=t.value;r!==i&&(t.value=i,t.callback(i,r))}}}})[0];return t.callback=e,t.facade}var Xte=typeof window<"u"?w.useLayoutEffect:w.useEffect,Uk=new WeakMap;function Kte(n,e){var t=Yte(null,function(i){return n.forEach(function(r){return hb(r,i)})});return Xte(function(){var i=Uk.get(t);if(i){var r=new Set(i),s=new Set(n),o=t.current;r.forEach(function(a){s.has(a)||hb(a,null)}),s.forEach(function(a){r.has(a)||hb(a,o)})}Uk.set(t,n)},[n]),t}function qte(n){return n}function Qte(n,e){e===void 0&&(e=qte);var t=[],i=!1,r={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var o=e(s,i);return t.push(o),function(){t=t.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(i=!0;t.length;){var o=t;t=[],o.forEach(s)}t={push:function(a){return s(a)},filter:function(){return t}}},assignMedium:function(s){i=!0;var o=[];if(t.length){var a=t;t=[],a.forEach(s),o=t}var l=function(){var c=o;o=[],c.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),t={push:function(c){o.push(c),u()},filter:function(c){return o=o.filter(c),t}}}};return r}function Zte(n){n===void 0&&(n={});var e=Qte(null);return e.options=Gr({async:!0,ssr:!1},n),e}var BF=function(n){var e=n.sideCar,t=If(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return w.createElement(i,Gr({},t))};BF.isSideCarExport=!0;function Jte(n,e){return n.useMedium(e),BF}var UF=Zte(),db=function(){},Dv=w.forwardRef(function(n,e){var t=w.useRef(null),i=w.useState({onScrollCapture:db,onWheelCapture:db,onTouchMoveCapture:db}),r=i[0],s=i[1],o=n.forwardProps,a=n.children,l=n.className,u=n.removeScrollBar,c=n.enabled,h=n.shards,d=n.sideCar,f=n.noIsolation,y=n.inert,g=n.allowPinchZoom,_=n.as,v=_===void 0?"div":_,b=n.gapMode,x=If(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=d,k=Kte([t,e]),M=Gr(Gr({},x),r);return w.createElement(w.Fragment,null,c&&w.createElement(P,{sideCar:UF,removeScrollBar:u,shards:h,noIsolation:f,inert:y,setCallbacks:s,allowPinchZoom:!!g,lockRef:t,gapMode:b}),o?w.cloneElement(w.Children.only(a),Gr(Gr({},M),{ref:k})):w.createElement(v,Gr({},M,{className:l,ref:k}),a))});Dv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Dv.classNames={fullWidth:Dm,zeroRight:Im};var ene=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tne(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=ene();return e&&n.setAttribute("nonce",e),n}function nne(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function ine(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var rne=function(){var n=0,e=null;return{add:function(t){n==0&&(e=tne())&&(nne(e,t),ine(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},sne=function(){var n=rne();return function(e,t){w.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},$F=function(){var n=sne(),e=function(t){var i=t.styles,r=t.dynamic;return n(i,r),null};return e},one={left:0,top:0,right:0,gap:0},fb=function(n){return parseInt(n||"",10)||0},ane=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],r=e[n==="padding"?"paddingRight":"marginRight"];return[fb(t),fb(i),fb(r)]},lne=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return one;var e=ane(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},une=$F(),Ou="data-scroll-locked",cne=function(n,e,t,i){var r=n.left,s=n.top,o=n.right,a=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(Wte,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(a,"px ").concat(i,`;
  }
  body[`).concat(Ou,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Im,` {
    right: `).concat(a,"px ").concat(i,`;
  }
  
  .`).concat(Dm,` {
    margin-right: `).concat(a,"px ").concat(i,`;
  }
  
  .`).concat(Im," .").concat(Im,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Dm," .").concat(Dm,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Ou,`] {
    `).concat(Gte,": ").concat(a,`px;
  }
`)},$k=function(){var n=parseInt(document.body.getAttribute(Ou)||"0",10);return isFinite(n)?n:0},hne=function(){w.useEffect(function(){return document.body.setAttribute(Ou,($k()+1).toString()),function(){var n=$k()-1;n<=0?document.body.removeAttribute(Ou):document.body.setAttribute(Ou,n.toString())}},[])},dne=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,r=i===void 0?"margin":i;hne();var s=w.useMemo(function(){return lne(r)},[r]);return w.createElement(une,{styles:cne(s,!e,r,t?"":"!important")})},Dw=!1;if(typeof window<"u")try{var Gp=Object.defineProperty({},"passive",{get:function(){return Dw=!0,!0}});window.addEventListener("test",Gp,Gp),window.removeEventListener("test",Gp,Gp)}catch{Dw=!1}var Yl=Dw?{passive:!1}:!1,fne=function(n){return n.tagName==="TEXTAREA"},zF=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!fne(n)&&t[e]==="visible")},pne=function(n){return zF(n,"overflowY")},mne=function(n){return zF(n,"overflowX")},zk=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var r=HF(n,i);if(r){var s=WF(n,i),o=s[1],a=s[2];if(o>a)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},gne=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},yne=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},HF=function(n,e){return n==="v"?pne(e):mne(e)},WF=function(n,e){return n==="v"?gne(e):yne(e)},vne=function(n,e){return n==="h"&&e==="rtl"?-1:1},bne=function(n,e,t,i,r){var s=vne(n,window.getComputedStyle(e).direction),o=s*i,a=t.target,l=e.contains(a),u=!1,c=o>0,h=0,d=0;do{var f=WF(n,a),y=f[0],g=f[1],_=f[2],v=g-_-s*y;(y||v)&&HF(n,a)&&(h+=v,d+=y),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(c&&(Math.abs(h)<1||!r)||!c&&(Math.abs(d)<1||!r))&&(u=!0),u},Yp=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Hk=function(n){return[n.deltaX,n.deltaY]},Wk=function(n){return n&&"current"in n?n.current:n},_ne=function(n,e){return n[0]===e[0]&&n[1]===e[1]},wne=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},xne=0,Xl=[];function Tne(n){var e=w.useRef([]),t=w.useRef([0,0]),i=w.useRef(),r=w.useState(xne++)[0],s=w.useState($F)[0],o=w.useRef(n);w.useEffect(function(){o.current=n},[n]),w.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(r));var g=yK([n.lockRef.current],(n.shards||[]).map(Wk),!0).filter(Boolean);return g.forEach(function(_){return _.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),g.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(r))})}}},[n.inert,n.lockRef.current,n.shards]);var a=w.useCallback(function(g,_){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=Yp(g),b=t.current,x="deltaX"in g?g.deltaX:b[0]-v[0],P="deltaY"in g?g.deltaY:b[1]-v[1],k,M=g.target,A=Math.abs(x)>Math.abs(P)?"h":"v";if("touches"in g&&A==="h"&&M.type==="range")return!1;var T=zk(A,M);if(!T)return!0;if(T?k=A:(k=A==="v"?"h":"v",T=zk(A,M)),!T)return!1;if(!i.current&&"changedTouches"in g&&(x||P)&&(i.current=k),!k)return!0;var E=i.current||k;return bne(E,_,g,E==="h"?x:P,!0)},[]),l=w.useCallback(function(g){var _=g;if(!(!Xl.length||Xl[Xl.length-1]!==s)){var v="deltaY"in _?Hk(_):Yp(_),b=e.current.filter(function(k){return k.name===_.type&&(k.target===_.target||_.target===k.shadowParent)&&_ne(k.delta,v)})[0];if(b&&b.should){_.cancelable&&_.preventDefault();return}if(!b){var x=(o.current.shards||[]).map(Wk).filter(Boolean).filter(function(k){return k.contains(_.target)}),P=x.length>0?a(_,x[0]):!o.current.noIsolation;P&&_.cancelable&&_.preventDefault()}}},[]),u=w.useCallback(function(g,_,v,b){var x={name:g,delta:_,target:v,should:b,shadowParent:Ene(v)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(P){return P!==x})},1)},[]),c=w.useCallback(function(g){t.current=Yp(g),i.current=void 0},[]),h=w.useCallback(function(g){u(g.type,Hk(g),g.target,a(g,n.lockRef.current))},[]),d=w.useCallback(function(g){u(g.type,Yp(g),g.target,a(g,n.lockRef.current))},[]);w.useEffect(function(){return Xl.push(s),n.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:d}),document.addEventListener("wheel",l,Yl),document.addEventListener("touchmove",l,Yl),document.addEventListener("touchstart",c,Yl),function(){Xl=Xl.filter(function(g){return g!==s}),document.removeEventListener("wheel",l,Yl),document.removeEventListener("touchmove",l,Yl),document.removeEventListener("touchstart",c,Yl)}},[]);var f=n.removeScrollBar,y=n.inert;return w.createElement(w.Fragment,null,y?w.createElement(s,{styles:wne(r)}):null,f?w.createElement(dne,{gapMode:n.gapMode}):null)}function Ene(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const Pne=Jte(UF,Tne);var GF=w.forwardRef(function(n,e){return w.createElement(Dv,Gr({},n,{ref:e,sideCar:Pne}))});GF.classNames=Dv.classNames;var Rw=["Enter"," "],Sne=["ArrowDown","PageUp","Home"],YF=["ArrowUp","PageDown","End"],Cne=[...Sne,...YF],Ane={ltr:[...Rw,"ArrowRight"],rtl:[...Rw,"ArrowLeft"]},kne={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Uf="Menu",[zd,Ine,Dne]=y1(Uf),[Ll,XF]=wf(Uf,[Dne,Wy,Iv]),Rv=Wy(),KF=Iv(),[Rne,Fl]=Ll(Uf),[Mne,$f]=Ll(Uf),qF=n=>{const{__scopeMenu:e,open:t=!1,children:i,dir:r,onOpenChange:s,modal:o=!0}=n,a=Rv(e),[l,u]=w.useState(null),c=w.useRef(!1),h=ri(s),d=QT(r);return w.useEffect(()=>{const f=()=>{c.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>c.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),p.jsx(eH,{...a,children:p.jsx(Rne,{scope:e,open:t,onOpenChange:h,content:l,onContentChange:u,children:p.jsx(Mne,{scope:e,onClose:w.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:c,dir:d,modal:o,children:i})})})};qF.displayName=Uf;var Nne="MenuAnchor",ZT=w.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n,r=Rv(t);return p.jsx(bN,{...r,...i,ref:e})});ZT.displayName=Nne;var JT="MenuPortal",[One,QF]=Ll(JT,{forceMount:void 0}),ZF=n=>{const{__scopeMenu:e,forceMount:t,children:i,container:r}=n,s=Fl(JT,e);return p.jsx(One,{scope:e,forceMount:t,children:p.jsx(xa,{present:t||s.open,children:p.jsx(b1,{asChild:!0,container:r,children:i})})})};ZF.displayName=JT;var ir="MenuContent",[jne,eE]=Ll(ir),JF=w.forwardRef((n,e)=>{const t=QF(ir,n.__scopeMenu),{forceMount:i=t.forceMount,...r}=n,s=Fl(ir,n.__scopeMenu),o=$f(ir,n.__scopeMenu);return p.jsx(zd.Provider,{scope:n.__scopeMenu,children:p.jsx(xa,{present:i||s.open,children:p.jsx(zd.Slot,{scope:n.__scopeMenu,children:o.modal?p.jsx(Lne,{...r,ref:e}):p.jsx(Fne,{...r,ref:e})})})})}),Lne=w.forwardRef((n,e)=>{const t=Fl(ir,n.__scopeMenu),i=w.useRef(null),r=_n(e,i);return w.useEffect(()=>{const s=i.current;if(s)return Hte(s)},[]),p.jsx(tE,{...n,ref:r,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Ae(n.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),Fne=w.forwardRef((n,e)=>{const t=Fl(ir,n.__scopeMenu);return p.jsx(tE,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),tE=w.forwardRef((n,e)=>{const{__scopeMenu:t,loop:i=!1,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:h,onInteractOutside:d,onDismiss:f,disableOutsideScroll:y,...g}=n,_=Fl(ir,t),v=$f(ir,t),b=Rv(t),x=KF(t),P=Ine(t),[k,M]=w.useState(null),A=w.useRef(null),T=_n(e,A,_.onContentChange),E=w.useRef(0),C=w.useRef(""),D=w.useRef(0),N=w.useRef(null),R=w.useRef("right"),V=w.useRef(0),q=y?GF:w.Fragment,ee=y?{as:ec,allowPinchZoom:!0}:void 0,H=j=>{var le,X;const L=C.current+j,B=P().filter(ce=>!ce.disabled),z=document.activeElement,$=(le=B.find(ce=>ce.ref.current===z))==null?void 0:le.textValue,oe=B.map(ce=>ce.textValue),K=qne(oe,L,$),ne=(X=B.find(ce=>ce.textValue===K))==null?void 0:X.ref.current;(function ce(me){C.current=me,window.clearTimeout(E.current),me!==""&&(E.current=window.setTimeout(()=>ce(""),1e3))})(L),ne&&setTimeout(()=>ne.focus())};w.useEffect(()=>()=>window.clearTimeout(E.current),[]),wte();const F=w.useCallback(j=>{var B,z;return R.current===((B=N.current)==null?void 0:B.side)&&Zne(j,(z=N.current)==null?void 0:z.area)},[]);return p.jsx(jne,{scope:t,searchRef:C,onItemEnter:w.useCallback(j=>{F(j)&&j.preventDefault()},[F]),onItemLeave:w.useCallback(j=>{var L;F(j)||((L=A.current)==null||L.focus(),M(null))},[F]),onTriggerLeave:w.useCallback(j=>{F(j)&&j.preventDefault()},[F]),pointerGraceTimerRef:D,onPointerGraceIntentChange:w.useCallback(j=>{N.current=j},[]),children:p.jsx(q,{...ee,children:p.jsx(IF,{asChild:!0,trapped:r,onMountAutoFocus:Ae(s,j=>{var L;j.preventDefault(),(L=A.current)==null||L.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:p.jsx(Ly,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:h,onInteractOutside:d,onDismiss:f,children:p.jsx(LF,{asChild:!0,...x,dir:v.dir,orientation:"vertical",loop:i,currentTabStopId:k,onCurrentTabStopIdChange:M,onEntryFocus:Ae(l,j=>{v.isUsingKeyboardRef.current||j.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(_N,{role:"menu","aria-orientation":"vertical","data-state":mV(_.open),"data-radix-menu-content":"",dir:v.dir,...b,...g,ref:T,style:{outline:"none",...g.style},onKeyDown:Ae(g.onKeyDown,j=>{const B=j.target.closest("[data-radix-menu-content]")===j.currentTarget,z=j.ctrlKey||j.altKey||j.metaKey,$=j.key.length===1;B&&(j.key==="Tab"&&j.preventDefault(),!z&&$&&H(j.key));const oe=A.current;if(j.target!==oe||!Cne.includes(j.key))return;j.preventDefault();const ne=P().filter(le=>!le.disabled).map(le=>le.ref.current);YF.includes(j.key)&&ne.reverse(),Xne(ne)}),onBlur:Ae(n.onBlur,j=>{j.currentTarget.contains(j.target)||(window.clearTimeout(E.current),C.current="")}),onPointerMove:Ae(n.onPointerMove,Hd(j=>{const L=j.target,B=V.current!==j.clientX;if(j.currentTarget.contains(L)&&B){const z=j.clientX>V.current?"right":"left";R.current=z,V.current=j.clientX}}))})})})})})})});JF.displayName=ir;var Vne="MenuGroup",nE=w.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n;return p.jsx(mt.div,{role:"group",...i,ref:e})});nE.displayName=Vne;var Bne="MenuLabel",eV=w.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n;return p.jsx(mt.div,{...i,ref:e})});eV.displayName=Bne;var Gg="MenuItem",Gk="menu.itemSelect",Mv=w.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:i,...r}=n,s=w.useRef(null),o=$f(Gg,n.__scopeMenu),a=eE(Gg,n.__scopeMenu),l=_n(e,s),u=w.useRef(!1),c=()=>{const h=s.current;if(!t&&h){const d=new CustomEvent(Gk,{bubbles:!0,cancelable:!0});h.addEventListener(Gk,f=>i==null?void 0:i(f),{once:!0}),v1(h,d),d.defaultPrevented?u.current=!1:o.onClose()}};return p.jsx(tV,{...r,ref:l,disabled:t,onClick:Ae(n.onClick,c),onPointerDown:h=>{var d;(d=n.onPointerDown)==null||d.call(n,h),u.current=!0},onPointerUp:Ae(n.onPointerUp,h=>{var d;u.current||(d=h.currentTarget)==null||d.click()}),onKeyDown:Ae(n.onKeyDown,h=>{const d=a.searchRef.current!=="";t||d&&h.key===" "||Rw.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Mv.displayName=Gg;var tV=w.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:i=!1,textValue:r,...s}=n,o=eE(Gg,t),a=KF(t),l=w.useRef(null),u=_n(e,l),[c,h]=w.useState(!1),[d,f]=w.useState("");return w.useEffect(()=>{const y=l.current;y&&f((y.textContent??"").trim())},[s.children]),p.jsx(zd.ItemSlot,{scope:t,disabled:i,textValue:r??d,children:p.jsx(FF,{asChild:!0,...a,focusable:!i,children:p.jsx(mt.div,{role:"menuitem","data-highlighted":c?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...s,ref:u,onPointerMove:Ae(n.onPointerMove,Hd(y=>{i?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ae(n.onPointerLeave,Hd(y=>o.onItemLeave(y))),onFocus:Ae(n.onFocus,()=>h(!0)),onBlur:Ae(n.onBlur,()=>h(!1))})})})}),Une="MenuCheckboxItem",nV=w.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:i,...r}=n;return p.jsx(aV,{scope:n.__scopeMenu,checked:t,children:p.jsx(Mv,{role:"menuitemcheckbox","aria-checked":Yg(t)?"mixed":t,...r,ref:e,"data-state":rE(t),onSelect:Ae(r.onSelect,()=>i==null?void 0:i(Yg(t)?!0:!t),{checkForDefaultPrevented:!1})})})});nV.displayName=Une;var iV="MenuRadioGroup",[$ne,zne]=Ll(iV,{value:void 0,onValueChange:()=>{}}),rV=w.forwardRef((n,e)=>{const{value:t,onValueChange:i,...r}=n,s=ri(i);return p.jsx($ne,{scope:n.__scopeMenu,value:t,onValueChange:s,children:p.jsx(nE,{...r,ref:e})})});rV.displayName=iV;var sV="MenuRadioItem",oV=w.forwardRef((n,e)=>{const{value:t,...i}=n,r=zne(sV,n.__scopeMenu),s=t===r.value;return p.jsx(aV,{scope:n.__scopeMenu,checked:s,children:p.jsx(Mv,{role:"menuitemradio","aria-checked":s,...i,ref:e,"data-state":rE(s),onSelect:Ae(i.onSelect,()=>{var o;return(o=r.onValueChange)==null?void 0:o.call(r,t)},{checkForDefaultPrevented:!1})})})});oV.displayName=sV;var iE="MenuItemIndicator",[aV,Hne]=Ll(iE,{checked:!1}),lV=w.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:i,...r}=n,s=Hne(iE,t);return p.jsx(xa,{present:i||Yg(s.checked)||s.checked===!0,children:p.jsx(mt.span,{...r,ref:e,"data-state":rE(s.checked)})})});lV.displayName=iE;var Wne="MenuSeparator",uV=w.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n;return p.jsx(mt.div,{role:"separator","aria-orientation":"horizontal",...i,ref:e})});uV.displayName=Wne;var Gne="MenuArrow",cV=w.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n,r=Rv(t);return p.jsx(wN,{...r,...i,ref:e})});cV.displayName=Gne;var Yne="MenuSub",[bde,hV]=Ll(Yne),Ch="MenuSubTrigger",dV=w.forwardRef((n,e)=>{const t=Fl(Ch,n.__scopeMenu),i=$f(Ch,n.__scopeMenu),r=hV(Ch,n.__scopeMenu),s=eE(Ch,n.__scopeMenu),o=w.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,u={__scopeMenu:n.__scopeMenu},c=w.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return w.useEffect(()=>c,[c]),w.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),p.jsx(ZT,{asChild:!0,...u,children:p.jsx(tV,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":r.contentId,"data-state":mV(t.open),...n,ref:jy(e,r.onTriggerChange),onClick:h=>{var d;(d=n.onClick)==null||d.call(n,h),!(n.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Ae(n.onPointerMove,Hd(h=>{s.onItemEnter(h),!h.defaultPrevented&&!n.disabled&&!t.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{t.onOpenChange(!0),c()},100))})),onPointerLeave:Ae(n.onPointerLeave,Hd(h=>{var f,y;c();const d=(f=t.content)==null?void 0:f.getBoundingClientRect();if(d){const g=(y=t.content)==null?void 0:y.dataset.side,_=g==="right",v=_?-5:5,b=d[_?"left":"right"],x=d[_?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+v,y:h.clientY},{x:b,y:d.top},{x,y:d.top},{x,y:d.bottom},{x:b,y:d.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ae(n.onKeyDown,h=>{var f;const d=s.searchRef.current!=="";n.disabled||d&&h.key===" "||Ane[i.dir].includes(h.key)&&(t.onOpenChange(!0),(f=t.content)==null||f.focus(),h.preventDefault())})})})});dV.displayName=Ch;var fV="MenuSubContent",pV=w.forwardRef((n,e)=>{const t=QF(ir,n.__scopeMenu),{forceMount:i=t.forceMount,...r}=n,s=Fl(ir,n.__scopeMenu),o=$f(ir,n.__scopeMenu),a=hV(fV,n.__scopeMenu),l=w.useRef(null),u=_n(e,l);return p.jsx(zd.Provider,{scope:n.__scopeMenu,children:p.jsx(xa,{present:i||s.open,children:p.jsx(zd.Slot,{scope:n.__scopeMenu,children:p.jsx(tE,{id:a.contentId,"aria-labelledby":a.triggerId,...r,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:c=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),c.preventDefault()},onCloseAutoFocus:c=>c.preventDefault(),onFocusOutside:Ae(n.onFocusOutside,c=>{c.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ae(n.onEscapeKeyDown,c=>{o.onClose(),c.preventDefault()}),onKeyDown:Ae(n.onKeyDown,c=>{var f;const h=c.currentTarget.contains(c.target),d=kne[o.dir].includes(c.key);h&&d&&(s.onOpenChange(!1),(f=a.trigger)==null||f.focus(),c.preventDefault())})})})})})});pV.displayName=fV;function mV(n){return n?"open":"closed"}function Yg(n){return n==="indeterminate"}function rE(n){return Yg(n)?"indeterminate":n?"checked":"unchecked"}function Xne(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function Kne(n,e){return n.map((t,i)=>n[(e+i)%n.length])}function qne(n,e,t){const r=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let o=Kne(n,Math.max(s,0));r.length===1&&(o=o.filter(u=>u!==t));const l=o.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return l!==t?l:void 0}function Qne(n,e){const{x:t,y:i}=n;let r=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,u=e[o].x,c=e[o].y;l>i!=c>i&&t<(u-a)*(i-l)/(c-l)+a&&(r=!r)}return r}function Zne(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return Qne(t,e)}function Hd(n){return e=>e.pointerType==="mouse"?n(e):void 0}var Jne=qF,eie=ZT,tie=ZF,nie=JF,iie=nE,rie=eV,sie=Mv,oie=nV,aie=rV,lie=oV,uie=lV,cie=uV,hie=cV,die=dV,fie=pV,sE="DropdownMenu",[pie,_de]=wf(sE,[XF]),ai=XF(),[mie,gV]=pie(sE),yV=n=>{const{__scopeDropdownMenu:e,children:t,dir:i,open:r,defaultOpen:s,onOpenChange:o,modal:a=!0}=n,l=ai(e),u=w.useRef(null),[c=!1,h]=Fy({prop:r,defaultProp:s,onChange:o});return p.jsx(mie,{scope:e,triggerId:cg(),triggerRef:u,contentId:cg(),open:c,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(d=>!d),[h]),modal:a,children:p.jsx(Jne,{...l,open:c,onOpenChange:h,dir:i,modal:a,children:t})})};yV.displayName=sE;var vV="DropdownMenuTrigger",bV=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:i=!1,...r}=n,s=gV(vV,t),o=ai(t);return p.jsx(eie,{asChild:!0,...o,children:p.jsx(mt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...r,ref:jy(e,s.triggerRef),onPointerDown:Ae(n.onPointerDown,a=>{!i&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Ae(n.onKeyDown,a=>{i||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});bV.displayName=vV;var gie="DropdownMenuPortal",_V=n=>{const{__scopeDropdownMenu:e,...t}=n,i=ai(e);return p.jsx(tie,{...i,...t})};_V.displayName=gie;var wV="DropdownMenuContent",xV=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=gV(wV,t),s=ai(t),o=w.useRef(!1);return p.jsx(nie,{id:r.contentId,"aria-labelledby":r.triggerId,...s,...i,ref:e,onCloseAutoFocus:Ae(n.onCloseAutoFocus,a=>{var l;o.current||(l=r.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Ae(n.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,c=l.button===2||u;(!r.modal||c)&&(o.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});xV.displayName=wV;var yie="DropdownMenuGroup",vie=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=ai(t);return p.jsx(iie,{...r,...i,ref:e})});vie.displayName=yie;var bie="DropdownMenuLabel",TV=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=ai(t);return p.jsx(rie,{...r,...i,ref:e})});TV.displayName=bie;var _ie="DropdownMenuItem",EV=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=ai(t);return p.jsx(sie,{...r,...i,ref:e})});EV.displayName=_ie;var wie="DropdownMenuCheckboxItem",PV=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=ai(t);return p.jsx(oie,{...r,...i,ref:e})});PV.displayName=wie;var xie="DropdownMenuRadioGroup",Tie=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=ai(t);return p.jsx(aie,{...r,...i,ref:e})});Tie.displayName=xie;var Eie="DropdownMenuRadioItem",SV=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=ai(t);return p.jsx(lie,{...r,...i,ref:e})});SV.displayName=Eie;var Pie="DropdownMenuItemIndicator",CV=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=ai(t);return p.jsx(uie,{...r,...i,ref:e})});CV.displayName=Pie;var Sie="DropdownMenuSeparator",AV=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=ai(t);return p.jsx(cie,{...r,...i,ref:e})});AV.displayName=Sie;var Cie="DropdownMenuArrow",Aie=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=ai(t);return p.jsx(hie,{...r,...i,ref:e})});Aie.displayName=Cie;var kie="DropdownMenuSubTrigger",kV=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=ai(t);return p.jsx(die,{...r,...i,ref:e})});kV.displayName=kie;var Iie="DropdownMenuSubContent",IV=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,r=ai(t);return p.jsx(fie,{...r,...i,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});IV.displayName=Iie;var Die=yV,Rie=bV,Mie=_V,DV=xV,RV=TV,MV=EV,NV=PV,OV=SV,jV=CV,LV=AV,FV=kV,VV=IV;const Yk=Die,Xk=Rie,Nie=w.forwardRef(({className:n,inset:e,children:t,...i},r)=>p.jsxs(FV,{ref:r,className:lt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",n),...i,children:[t,p.jsx(o6,{className:"ml-auto h-4 w-4"})]}));Nie.displayName=FV.displayName;const Oie=w.forwardRef(({className:n,...e},t)=>p.jsx(VV,{ref:t,className:lt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));Oie.displayName=VV.displayName;const Mw=w.forwardRef(({className:n,sideOffset:e=4,...t},i)=>p.jsx(Mie,{children:p.jsx(DV,{ref:i,sideOffset:e,className:lt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));Mw.displayName=DV.displayName;const Nw=w.forwardRef(({className:n,inset:e,...t},i)=>p.jsx(MV,{ref:i,className:lt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",n),...t}));Nw.displayName=MV.displayName;const jie=w.forwardRef(({className:n,children:e,checked:t,...i},r)=>p.jsxs(NV,{ref:r,className:lt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...i,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(jV,{children:p.jsx(O_,{className:"h-4 w-4"})})}),e]}));jie.displayName=NV.displayName;const Lie=w.forwardRef(({className:n,children:e,...t},i)=>p.jsxs(OV,{ref:i,className:lt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(jV,{children:p.jsx(a6,{className:"h-2 w-2 fill-current"})})}),e]}));Lie.displayName=OV.displayName;const Fie=w.forwardRef(({className:n,inset:e,...t},i)=>p.jsx(RV,{ref:i,className:lt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));Fie.displayName=RV.displayName;const Vie=w.forwardRef(({className:n,...e},t)=>p.jsx(LV,{ref:t,className:lt("-mx-1 my-1 h-px bg-muted",n),...e}));Vie.displayName=LV.displayName;const oE=w.createContext({});function Lc(n){const e=w.useRef(null);return e.current===null&&(e.current=n()),e.current}const aE=typeof window<"u",Nv=aE?w.useLayoutEffect:w.useEffect,Ov=w.createContext(null);function lE(n,e){n.indexOf(e)===-1&&n.push(e)}function uE(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const hs=(n,e,t)=>t>e?e:t<n?n:t;let Bie=()=>{},Xg=()=>{};const qs={},BV=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function UV(n){return typeof n=="object"&&n!==null}const $V=n=>/^0[^.\s]+$/u.test(n);function cE(n){let e;return()=>(e===void 0&&(e=n()),e)}const xi=n=>n,Uie=(n,e)=>t=>e(n(t)),zf=(...n)=>n.reduce(Uie),pc=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class hE{constructor(){this.subscriptions=[]}add(e){return lE(this.subscriptions,e),()=>uE(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ts=n=>n*1e3,ns=n=>n/1e3;function dE(n,e){return e?n*(1e3/e):0}const zV=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,$ie=1e-7,zie=12;function Hie(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=zV(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>$ie&&++a<zie);return o}function Hf(n,e,t,i){if(n===e&&t===i)return xi;const r=s=>Hie(s,0,1,n,t);return s=>s===0||s===1?s:zV(r(s),e,i)}const HV=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,WV=n=>e=>1-n(1-e),GV=Hf(.33,1.53,.69,.99),fE=WV(GV),YV=HV(fE),XV=n=>(n*=2)<1?.5*fE(n):.5*(2-Math.pow(2,-10*(n-1))),pE=n=>1-Math.sin(Math.acos(n)),KV=WV(pE),qV=HV(pE),Wie=Hf(.42,0,1,1),Gie=Hf(0,0,.58,1),QV=Hf(.42,0,.58,1),Yie=n=>Array.isArray(n)&&typeof n[0]!="number",ZV=n=>Array.isArray(n)&&typeof n[0]=="number",Kk={linear:xi,easeIn:Wie,easeInOut:QV,easeOut:Gie,circIn:pE,circInOut:qV,circOut:KV,backIn:fE,backInOut:YV,backOut:GV,anticipate:XV},Xie=n=>typeof n=="string",qk=n=>{if(ZV(n)){Xg(n.length===4);const[e,t,i,r]=n;return Hf(e,t,i,r)}else if(Xie(n))return Xg(Kk[n]!==void 0),Kk[n];return n},Xp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Qk={value:null,addProjectionMetrics:null};function Kie(n,e){let t=new Set,i=new Set,r=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(h){o.has(h)&&(c.schedule(h),n()),l++,h(a)}const c={schedule:(h,d=!1,f=!1)=>{const g=f&&r?t:i;return d&&o.add(h),g.has(h)||g.add(h),h},cancel:h=>{i.delete(h),o.delete(h)},process:h=>{if(a=h,r){s=!0;return}r=!0,[t,i]=[i,t],t.forEach(u),e&&Qk.value&&Qk.value.frameloop[e].push(l),l=0,t.clear(),r=!1,s&&(s=!1,c.process(h))}};return c}const qie=40;function JV(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,o=Xp.reduce((x,P)=>(x[P]=Kie(s,e?P:void 0),x),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:h,preRender:d,render:f,postRender:y}=o,g=()=>{const x=qs.useManualTiming?r.timestamp:performance.now();t=!1,qs.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(x-r.timestamp,qie),1)),r.timestamp=x,r.isProcessing=!0,a.process(r),l.process(r),u.process(r),c.process(r),h.process(r),d.process(r),f.process(r),y.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(g))},_=()=>{t=!0,i=!0,r.isProcessing||n(g)};return{schedule:Xp.reduce((x,P)=>{const k=o[P];return x[P]=(M,A=!1,T=!1)=>(t||_(),k.schedule(M,A,T)),x},{}),cancel:x=>{for(let P=0;P<Xp.length;P++)o[Xp[P]].cancel(x)},state:r,steps:o}}const{schedule:et,cancel:lr,state:pn,steps:pb}=JV(typeof requestAnimationFrame<"u"?requestAnimationFrame:xi,!0);let Rm;function Qie(){Rm=void 0}const yi={now:()=>(Rm===void 0&&yi.set(pn.isProcessing||qs.useManualTiming?pn.timestamp:performance.now()),Rm),set:n=>{Rm=n,queueMicrotask(Qie)}},e4=n=>e=>typeof e=="string"&&e.startsWith(n),mE=e4("--"),Zie=e4("var(--"),gE=n=>Zie(n)?Jie.test(n.split("/*")[0].trim()):!1,Jie=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fc={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Wd={...Fc,transform:n=>hs(0,1,n)},Kp={...Fc,default:1},Xh=n=>Math.round(n*1e5)/1e5,yE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ere(n){return n==null}const tre=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vE=(n,e)=>t=>!!(typeof t=="string"&&tre.test(t)&&t.startsWith(n)||e&&!ere(t)&&Object.prototype.hasOwnProperty.call(t,e)),t4=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(yE);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},nre=n=>hs(0,255,n),mb={...Fc,transform:n=>Math.round(nre(n))},qa={test:vE("rgb","red"),parse:t4("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+mb.transform(n)+", "+mb.transform(e)+", "+mb.transform(t)+", "+Xh(Wd.transform(i))+")"};function ire(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Ow={test:vE("#"),parse:ire,transform:qa.transform},Wf=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),mo=Wf("deg"),is=Wf("%"),Re=Wf("px"),rre=Wf("vh"),sre=Wf("vw"),Zk={...is,parse:n=>is.parse(n)/100,transform:n=>is.transform(n*100)},pu={test:vE("hsl","hue"),parse:t4("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+is.transform(Xh(e))+", "+is.transform(Xh(t))+", "+Xh(Wd.transform(i))+")"},Kt={test:n=>qa.test(n)||Ow.test(n)||pu.test(n),parse:n=>qa.test(n)?qa.parse(n):pu.test(n)?pu.parse(n):Ow.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?qa.transform(n):pu.transform(n),getAnimatableNone:n=>{const e=Kt.parse(n);return e.alpha=0,Kt.transform(e)}},ore=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function are(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(yE))==null?void 0:e.length)||0)+(((t=n.match(ore))==null?void 0:t.length)||0)>0}const n4="number",i4="color",lre="var",ure="var(",Jk="${}",cre=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gd(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(cre,l=>(Kt.test(l)?(i.color.push(s),r.push(i4),t.push(Kt.parse(l))):l.startsWith(ure)?(i.var.push(s),r.push(lre),t.push(l)):(i.number.push(s),r.push(n4),t.push(parseFloat(l))),++s,Jk)).split(Jk);return{values:t,split:a,indexes:i,types:r}}function r4(n){return Gd(n).values}function s4(n){const{split:e,types:t}=Gd(n),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=t[o];a===n4?s+=Xh(r[o]):a===i4?s+=Kt.transform(r[o]):s+=r[o]}return s}}const hre=n=>typeof n=="number"?0:Kt.test(n)?Kt.getAnimatableNone(n):n;function dre(n){const e=r4(n);return s4(n)(e.map(hre))}const ga={test:are,parse:r4,createTransformer:s4,getAnimatableNone:dre};function gb(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function fre({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=gb(l,a,n+1/3),s=gb(l,a,n),o=gb(l,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function Kg(n,e){return t=>t>0?e:n}const At=(n,e,t)=>n+(e-n)*t,yb=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},pre=[Ow,qa,pu],mre=n=>pre.find(e=>e.test(n));function eI(n){const e=mre(n);if(!e)return!1;let t=e.parse(n);return e===pu&&(t=fre(t)),t}const tI=(n,e)=>{const t=eI(n),i=eI(e);if(!t||!i)return Kg(n,e);const r={...t};return s=>(r.red=yb(t.red,i.red,s),r.green=yb(t.green,i.green,s),r.blue=yb(t.blue,i.blue,s),r.alpha=At(t.alpha,i.alpha,s),qa.transform(r))},jw=new Set(["none","hidden"]);function gre(n,e){return jw.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function yre(n,e){return t=>At(n,e,t)}function bE(n){return typeof n=="number"?yre:typeof n=="string"?gE(n)?Kg:Kt.test(n)?tI:_re:Array.isArray(n)?o4:typeof n=="object"?Kt.test(n)?tI:vre:Kg}function o4(n,e){const t=[...n],i=t.length,r=n.map((s,o)=>bE(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}}function vre(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=bE(n[r])(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}}function bre(n,e){const t=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const s=e.types[r],o=n.indexes[s][i[s]],a=n.values[o]??0;t[r]=a,i[s]++}return t}const _re=(n,e)=>{const t=ga.createTransformer(e),i=Gd(n),r=Gd(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?jw.has(n)&&!r.values.length||jw.has(e)&&!i.values.length?gre(n,e):zf(o4(bre(i,r),r.values),t):Kg(n,e)};function a4(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?At(n,e,t):bE(n)(n,e)}const wre=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>et.update(e,t),stop:()=>lr(e),now:()=>pn.isProcessing?pn.timestamp:yi.now()}},l4=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let s=0;s<r;s++)i+=Math.round(n(s/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},qg=2e4;function _E(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<qg;)e+=t,i=n.next(e);return e>=qg?1/0:e}function xre(n,e=100,t){const i=t({...n,keyframes:[0,e]}),r=Math.min(_E(i),qg);return{type:"keyframes",ease:s=>i.next(r*s).value/e,duration:ns(r)}}const Tre=5;function u4(n,e,t){const i=Math.max(e-Tre,0);return dE(t-n(i),e-i)}const jt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vb=.001;function Ere({duration:n=jt.duration,bounce:e=jt.bounce,velocity:t=jt.velocity,mass:i=jt.mass}){let r,s,o=1-e;o=hs(jt.minDamping,jt.maxDamping,o),n=hs(jt.minDuration,jt.maxDuration,ns(n)),o<1?(r=u=>{const c=u*o,h=c*n,d=c-t,f=Lw(u,o),y=Math.exp(-h);return vb-d/f*y},s=u=>{const h=u*o*n,d=h*t+t,f=Math.pow(o,2)*Math.pow(u,2)*n,y=Math.exp(-h),g=Lw(Math.pow(u,2),o);return(-r(u)+vb>0?-1:1)*((d-f)*y)/g}):(r=u=>{const c=Math.exp(-u*n),h=(u-t)*n+1;return-vb+c*h},s=u=>{const c=Math.exp(-u*n),h=(t-u)*(n*n);return c*h});const a=5/n,l=Sre(r,s,a);if(n=ts(n),isNaN(l))return{stiffness:jt.stiffness,damping:jt.damping,duration:n};{const u=Math.pow(l,2)*i;return{stiffness:u,damping:o*2*Math.sqrt(i*u),duration:n}}}const Pre=12;function Sre(n,e,t){let i=t;for(let r=1;r<Pre;r++)i=i-n(i)/e(i);return i}function Lw(n,e){return n*Math.sqrt(1-e*e)}const Cre=["duration","bounce"],Are=["stiffness","damping","mass"];function nI(n,e){return e.some(t=>n[t]!==void 0)}function kre(n){let e={velocity:jt.velocity,stiffness:jt.stiffness,damping:jt.damping,mass:jt.mass,isResolvedFromDuration:!1,...n};if(!nI(n,Are)&&nI(n,Cre))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,s=2*hs(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:jt.mass,stiffness:r,damping:s}}else{const t=Ere(n);e={...e,...t,mass:jt.mass},e.isResolvedFromDuration=!0}return e}function Qg(n=jt.visualDuration,e=jt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const s=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:h,velocity:d,isResolvedFromDuration:f}=kre({...t,velocity:-ns(t.velocity||0)}),y=d||0,g=u/(2*Math.sqrt(l*c)),_=o-s,v=ns(Math.sqrt(l/c)),b=Math.abs(_)<5;i||(i=b?jt.restSpeed.granular:jt.restSpeed.default),r||(r=b?jt.restDelta.granular:jt.restDelta.default);let x;if(g<1){const k=Lw(v,g);x=M=>{const A=Math.exp(-g*v*M);return o-A*((y+g*v*_)/k*Math.sin(k*M)+_*Math.cos(k*M))}}else if(g===1)x=k=>o-Math.exp(-v*k)*(_+(y+v*_)*k);else{const k=v*Math.sqrt(g*g-1);x=M=>{const A=Math.exp(-g*v*M),T=Math.min(k*M,300);return o-A*((y+g*v*_)*Math.sinh(T)+k*_*Math.cosh(T))/k}}const P={calculatedDuration:f&&h||null,next:k=>{const M=x(k);if(f)a.done=k>=h;else{let A=k===0?y:0;g<1&&(A=k===0?ts(y):u4(x,k,M));const T=Math.abs(A)<=i,E=Math.abs(o-M)<=r;a.done=T&&E}return a.value=a.done?o:M,a},toString:()=>{const k=Math.min(_E(P),qg),M=l4(A=>P.next(k*A).value,k,30);return k+"ms "+M},toTransition:()=>{}};return P}Qg.applyToOptions=n=>{const e=xre(n,100,Qg);return n.ease=e.ease,n.duration=ts(e.duration),n.type="keyframes",n};function Fw({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=n[0],d={done:!1,value:h},f=T=>a!==void 0&&T<a||l!==void 0&&T>l,y=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let g=t*e;const _=h+g,v=o===void 0?_:o(_);v!==_&&(g=v-h);const b=T=>-g*Math.exp(-T/i),x=T=>v+b(T),P=T=>{const E=b(T),C=x(T);d.done=Math.abs(E)<=u,d.value=d.done?v:C};let k,M;const A=T=>{f(d.value)&&(k=T,M=Qg({keyframes:[d.value,y(d.value)],velocity:u4(x,T,d.value),damping:r,stiffness:s,restDelta:u,restSpeed:c}))};return A(0),{calculatedDuration:null,next:T=>{let E=!1;return!M&&k===void 0&&(E=!0,P(T),A(T)),k!==void 0&&T>=k?M.next(T-k):(!E&&P(T),d)}}}function Ire(n,e,t){const i=[],r=t||qs.mix||a4,s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||xi:e;a=zf(l,a)}i.push(a)}return i}function wE(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;if(Xg(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const a=Ire(e,i,r),l=a.length,u=c=>{if(o&&c<n[0])return e[0];let h=0;if(l>1)for(;h<n.length-2&&!(c<n[h+1]);h++);const d=pc(n[h],n[h+1],c);return a[h](d)};return t?c=>u(hs(n[0],n[s-1],c)):u}function Dre(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=pc(0,e,i);n.push(At(t,1,r))}}function c4(n){const e=[0];return Dre(e,n.length-1),e}function Rre(n,e){return n.map(t=>t*e)}function Mre(n,e){return n.map(()=>e||QV).splice(0,n.length-1)}function Kh({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=Yie(i)?i.map(qk):qk(i),s={done:!1,value:e[0]},o=Rre(t&&t.length===e.length?t:c4(e),n),a=wE(o,e,{ease:Array.isArray(r)?r:Mre(e,r)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}const Nre=n=>n!==null;function xE(n,{repeat:e,repeatType:t="loop"},i,r=1){const s=n.filter(Nre),a=r<0||e&&t!=="loop"&&e%2===1?0:s.length-1;return!a||i===void 0?s[a]:i}const Ore={decay:Fw,inertia:Fw,tween:Kh,keyframes:Kh,spring:Qg};function h4(n){typeof n.type=="string"&&(n.type=Ore[n.type])}class TE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const jre=n=>n/100;class jv extends TE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,r;const{motionValue:t}=this.options;t&&t.updatedAt!==yi.now()&&this.tick(yi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(i=this.options).onStop)==null||r.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;h4(e);const{type:t=Kh,repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=t||Kh;l!==Kh&&typeof a[0]!="number"&&(this.mixKeyframes=zf(jre,a4(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=_E(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=u}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:r,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return i.next(0);const{delay:u=0,keyframes:c,repeat:h,repeatType:d,repeatDelay:f,type:y,onUpdate:g,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?v<0:v>r;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let x=this.currentTime,P=i;if(h){const T=Math.min(this.currentTime,r)/a;let E=Math.floor(T),C=T%1;!C&&T>=1&&(C=1),C===1&&E--,E=Math.min(E,h+1),!!(E%2)&&(d==="reverse"?(C=1-C,f&&(C-=f/a)):d==="mirror"&&(P=o)),x=hs(0,1,C)*a}const k=b?{done:!1,value:c[0]}:P.next(x);s&&(k.value=s(k.value));let{done:M}=k;!b&&l!==null&&(M=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return A&&y!==Fw&&(k.value=xE(c,this.options,_,this.speed)),g&&g(k.value),A&&this.finish(),k}then(e,t){return this.finished.then(e,t)}get duration(){return ns(this.calculatedDuration)}get time(){return ns(this.currentTime)}set time(e){var t;e=ts(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(yi.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=ns(this.currentTime))}play(){var r,s;if(this.isStopped)return;const{driver:e=wre,startTime:t}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(r=this.options).onPlay)==null||s.call(r);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function Lre(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Qa=n=>n*180/Math.PI,Vw=n=>{const e=Qa(Math.atan2(n[1],n[0]));return Bw(e)},Fre={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Vw,rotateZ:Vw,skewX:n=>Qa(Math.atan(n[1])),skewY:n=>Qa(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Bw=n=>(n=n%360,n<0&&(n+=360),n),iI=Vw,rI=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),sI=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),Vre={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:rI,scaleY:sI,scale:n=>(rI(n)+sI(n))/2,rotateX:n=>Bw(Qa(Math.atan2(n[6],n[5]))),rotateY:n=>Bw(Qa(Math.atan2(-n[2],n[0]))),rotateZ:iI,rotate:iI,skewX:n=>Qa(Math.atan(n[4])),skewY:n=>Qa(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Uw(n){return n.includes("scale")?1:0}function $w(n,e){if(!n||n==="none")return Uw(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(t)i=Vre,r=t;else{const a=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Fre,r=a}if(!r)return Uw(e);const s=i[e],o=r[1].split(",").map(Ure);return typeof s=="function"?s(o):o[s]}const Bre=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return $w(t,e)};function Ure(n){return parseFloat(n.trim())}const Vc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bc=new Set(Vc),oI=n=>n===Fc||n===Re,$re=new Set(["x","y","z"]),zre=Vc.filter(n=>!$re.has(n));function Hre(n){const e=[];return zre.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const al={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>$w(e,"x"),y:(n,{transform:e})=>$w(e,"y")};al.translateX=al.x;al.translateY=al.y;const ll=new Set;let zw=!1,Hw=!1,Ww=!1;function d4(){if(Hw){const n=Array.from(ll).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=Hre(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))==null||a.set(o)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Hw=!1,zw=!1,ll.forEach(n=>n.complete(Ww)),ll.clear()}function f4(){ll.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Hw=!0)})}function Wre(){Ww=!0,f4(),d4(),Ww=!1}class EE{constructor(e,t,i,r,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ll.add(this),zw||(zw=!0,et.read(f4),et.resolveKeyframes(d4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;if(e[0]===null){const s=r==null?void 0:r.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(i&&t){const a=i.readValue(t,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),r&&s===void 0&&r.set(e[0])}Lre(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ll.delete(this)}cancel(){this.state==="scheduled"&&(ll.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Gre=n=>n.startsWith("--");function Yre(n,e,t){Gre(e)?n.style.setProperty(e,t):n.style[e]=t}const p4=cE(()=>window.ScrollTimeline!==void 0),Xre={};function Kre(n,e){const t=cE(n);return()=>Xre[e]??t()}const m4=Kre(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ah=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,aI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ah([0,.65,.55,1]),circOut:Ah([.55,0,1,.45]),backIn:Ah([.31,.01,.66,-.59]),backOut:Ah([.33,1.53,.69,.99])};function g4(n,e){if(n)return typeof n=="function"?m4()?l4(n,e):"ease-out":ZV(n)?Ah(n):Array.isArray(n)?n.map(t=>g4(t,e)||aI.easeOut):aI[n]}function qre(n,e,t,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[e]:t};l&&(c.offset=l);const h=g4(a,r);Array.isArray(h)&&(c.easing=h);const d={delay:i,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(d.pseudoElement=u),n.animate(c,d)}function y4(n){return typeof n=="function"&&"applyToOptions"in n}function Qre({type:n,...e}){return y4(n)&&m4()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Zre extends TE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:r,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,Xg(typeof e.type!="string");const u=Qre(e);this.animation=qre(t,i,r,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const c=xE(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):Yre(t,i,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,i;const e=((i=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:i.call(t).duration)||0;return ns(Number(e))}get time(){return ns(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ts(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&p4()?(this.animation.timeline=e,xi):t(this)}}const v4={anticipate:XV,backInOut:YV,circInOut:qV};function Jre(n){return n in v4}function ese(n){typeof n.ease=="string"&&Jre(n.ease)&&(n.ease=v4[n.ease])}const lI=10;class tse extends Zre{constructor(e){ese(e),h4(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:r,element:s,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const a=new jv({...o,autoplay:!1}),l=ts(this.finishedTime??this.time);t.setWithVelocity(a.sample(l-lI).value,a.sample(l).value,lI),a.stop()}}const uI=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ga.test(n)||n==="0")&&!n.startsWith("url("));function nse(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function ise(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],o=uI(r,e),a=uI(s,e);return!o||!a?!1:nse(n)||(t==="spring"||y4(t))&&i}function Lv(n){return UV(n)&&"offsetHeight"in n}const rse=new Set(["opacity","clipPath","filter","transform"]),sse=cE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ose(n){var u;const{motionValue:e,name:t,repeatDelay:i,repeatType:r,damping:s,type:o}=n;if(!Lv((u=e==null?void 0:e.owner)==null?void 0:u.current))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return sse()&&t&&rse.has(t)&&(t!=="transform"||!l)&&!a&&!i&&r!=="mirror"&&s!==0&&o!=="inertia"}const ase=40;class lse extends TE{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:c,...h}){var y;super(),this.stop=()=>{var g,_;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(_=this.keyframeResolver)==null||_.cancel()},this.createdAt=yi.now();const d={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:c,...h},f=(c==null?void 0:c.KeyframeResolver)||EE;this.keyframeResolver=new f(a,(g,_,v)=>this.onKeyframesResolved(g,_,d,!v),l,u,c),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(e,t,i,r){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:c}=i;this.resolvedAt=yi.now(),ise(e,s,o,a)||((qs.instantAnimations||!l)&&(c==null||c(xE(e,i,t))),e[0]=e[e.length-1],i.duration=0,i.repeat=0);const d={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>ase?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},f=!u&&ose(d)?new tse({...d,element:d.motionValue.owner.current}):new jv(d);f.finished.then(()=>this.notifyFinished()).catch(xi),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Wre()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const use=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cse(n){const e=use.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function b4(n,e,t=1){const[i,r]=cse(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return BV(o)?parseFloat(o):o}return gE(r)?b4(r,e,t+1):r}function PE(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const _4=new Set(["width","height","top","left","right","bottom",...Vc]),hse={test:n=>n==="auto",parse:n=>n},w4=n=>e=>e.test(n),x4=[Fc,Re,is,mo,sre,rre,hse],cI=n=>x4.find(w4(n));function dse(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||$V(n):!0}const fse=new Set(["brightness","contrast","saturate","opacity"]);function pse(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(yE)||[];if(!i)return n;const r=t.replace(i,"");let s=fse.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const mse=/\b([a-z-]*)\(.*?\)/gu,Gw={...ga,getAnimatableNone:n=>{const e=n.match(mse);return e?e.map(pse).join(" "):n}},hI={...Fc,transform:Math.round},gse={rotate:mo,rotateX:mo,rotateY:mo,rotateZ:mo,scale:Kp,scaleX:Kp,scaleY:Kp,scaleZ:Kp,skew:mo,skewX:mo,skewY:mo,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:Wd,originX:Zk,originY:Zk,originZ:Re},SE={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,backgroundPositionX:Re,backgroundPositionY:Re,...gse,zIndex:hI,fillOpacity:Wd,strokeOpacity:Wd,numOctaves:hI},yse={...SE,color:Kt,backgroundColor:Kt,outlineColor:Kt,fill:Kt,stroke:Kt,borderColor:Kt,borderTopColor:Kt,borderRightColor:Kt,borderBottomColor:Kt,borderLeftColor:Kt,filter:Gw,WebkitFilter:Gw},T4=n=>yse[n];function E4(n,e){let t=T4(n);return t!==Gw&&(t=ga),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const vse=new Set(["auto","none","0"]);function bse(n,e,t){let i=0,r;for(;i<n.length&&!r;){const s=n[i];typeof s=="string"&&!vse.has(s)&&Gd(s).values.length&&(r=n[i]),i++}if(r&&t)for(const s of e)n[s]=E4(t,r)}class _se extends EE{constructor(e,t,i,r,s){super(e,t,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),gE(u))){const c=b4(u,t.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!_4.has(i)||e.length!==2)return;const[r,s]=e,o=cI(r),a=cI(s);if(o!==a)if(oI(o)&&oI(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else al[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||dse(e[r]))&&i.push(r);i.length&&bse(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=al[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var a;const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=al[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function CE(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){const r=document.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}const P4=(n,e)=>e&&typeof n=="number"?e.transform(n):n,dI=30,wse=n=>!isNaN(parseFloat(n)),qh={current:void 0};class xse{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{var o,a;const s=yi.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();r&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=yi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=wse(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new hE);const i=this.events[e].add(t);return e==="change"?()=>{i(),et.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return qh.current&&qh.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=yi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>dI)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,dI);return dE(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tr(n,e){return new xse(n,e)}const{schedule:AE,cancel:wde}=JV(queueMicrotask,!1),dr={x:!1,y:!1};function S4(){return dr.x||dr.y}function Tse(n){return n==="x"||n==="y"?dr[n]?null:(dr[n]=!0,()=>{dr[n]=!1}):dr.x||dr.y?null:(dr.x=dr.y=!0,()=>{dr.x=dr.y=!1})}function C4(n,e){const t=CE(n),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[t,r,()=>i.abort()]}function fI(n){return!(n.pointerType==="touch"||S4())}function Ese(n,e,t={}){const[i,r,s]=C4(n,t),o=a=>{if(!fI(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const c=h=>{fI(h)&&(u(h),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,r)};return i.forEach(a=>{a.addEventListener("pointerenter",o,r)}),s}const A4=(n,e)=>e?n===e?!0:A4(n,e.parentElement):!1,kE=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,Pse=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Sse(n){return Pse.has(n.tagName)||n.tabIndex!==-1}const Mm=new WeakSet;function pI(n){return e=>{e.key==="Enter"&&n(e)}}function bb(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Cse=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=pI(()=>{if(Mm.has(t))return;bb(t,"down");const r=pI(()=>{bb(t,"up")}),s=()=>bb(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function mI(n){return kE(n)&&!S4()}function Ase(n,e,t={}){const[i,r,s]=C4(n,t),o=a=>{const l=a.currentTarget;if(!mI(a))return;Mm.add(l);const u=e(l,a),c=(f,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",d),Mm.has(l)&&Mm.delete(l),mI(f)&&typeof u=="function"&&u(f,{success:y})},h=f=>{c(f,l===window||l===document||t.useGlobalTarget||A4(l,f.target))},d=f=>{c(f,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",d,r)};return i.forEach(a=>{(t.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),Lv(a)&&(a.addEventListener("focus",u=>Cse(u,r)),!Sse(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function IE(n){return UV(n)&&"ownerSVGElement"in n}const Nm=new WeakMap;let go;const k4=(n,e,t)=>(i,r)=>r&&r[0]?r[0][n+"Size"]:IE(i)&&"getBBox"in i?i.getBBox()[e]:i[t],kse=k4("inline","width","offsetWidth"),Ise=k4("block","height","offsetHeight");function Dse({target:n,borderBoxSize:e}){var t;(t=Nm.get(n))==null||t.forEach(i=>{i(n,{get width(){return kse(n,e)},get height(){return Ise(n,e)}})})}function Rse(n){n.forEach(Dse)}function Mse(){typeof ResizeObserver>"u"||(go=new ResizeObserver(Rse))}function Nse(n,e){go||Mse();const t=CE(n);return t.forEach(i=>{let r=Nm.get(i);r||(r=new Set,Nm.set(i,r)),r.add(e),go==null||go.observe(i)}),()=>{t.forEach(i=>{const r=Nm.get(i);r==null||r.delete(e),r!=null&&r.size||go==null||go.unobserve(i)})}}const Om=new Set;let mu;function Ose(){mu=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};Om.forEach(e=>e(n))},window.addEventListener("resize",mu)}function jse(n){return Om.add(n),mu||Ose(),()=>{Om.delete(n),!Om.size&&typeof mu=="function"&&(window.removeEventListener("resize",mu),mu=void 0)}}function Lse(n,e){return typeof n=="function"?jse(n):Nse(n,e)}function I4(n,e){let t;const i=()=>{const{currentTime:r}=e,o=(r===null?0:r.value)/100;t!==o&&n(o),t=o};return et.preUpdate(i,!0),()=>lr(i)}function Fse(n){return IE(n)&&n.tagName==="svg"}function Vse(...n){const e=!Array.isArray(n[0]),t=e?0:-1,i=n[0+t],r=n[1+t],s=n[2+t],o=n[3+t],a=wE(r,s,o);return e?a(i):a}const vn=n=>!!(n&&n.getVelocity);function Bse(n,e,t){const i=n.get();let r=null,s=i,o;const a=typeof i=="string"?i.replace(/[\d.-]/g,""):void 0,l=()=>{r&&(r.stop(),r=null)},u=()=>{l(),r=new jv({keyframes:[yI(n.get()),yI(s)],velocity:n.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:o})};n.attach((h,d)=>(s=h,o=f=>d(gI(f,a)),et.postRender(u),n.get()),l);let c;return vn(e)&&(c=e.on("change",h=>n.set(gI(h,a))),n.on("destroy",c)),c}function gI(n,e){return e?n+e:n}function yI(n){return typeof n=="number"?n:parseFloat(n)}const Use=[...x4,Kt,ga],$se=n=>Use.find(w4(n)),Uc=w.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class zse extends w.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=t.offsetParent,r=Lv(i)&&i.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Hse({children:n,isPresent:e,anchorX:t,root:i}){const r=w.useId(),s=w.useRef(null),o=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=w.useContext(Uc);return w.useInsertionEffect(()=>{const{width:l,height:u,top:c,left:h,right:d}=o.current;if(e||!s.current||!l||!u)return;const f=t==="left"?`left: ${h}`:`right: ${d}`;s.current.dataset.motionPopId=r;const y=document.createElement("style");a&&(y.nonce=a);const g=i??document.head;return g.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${f}px !important;
            top: ${c}px !important;
          }
        `),()=>{g.removeChild(y),g.contains(y)&&g.removeChild(y)}},[e]),p.jsx(zse,{isPresent:e,childRef:s,sizeRef:o,children:w.cloneElement(n,{ref:s})})}const Wse=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const u=Lc(Gse),c=w.useId();let h=!0,d=w.useMemo(()=>(h=!1,{id:c,initial:e,isPresent:t,custom:r,onExitComplete:f=>{u.set(f,!0);for(const y of u.values())if(!y)return;i&&i()},register:f=>(u.set(f,!1),()=>u.delete(f))}),[t,u,i]);return s&&h&&(d={...d}),w.useMemo(()=>{u.forEach((f,y)=>u.set(y,!1))},[t]),w.useEffect(()=>{!t&&!u.size&&i&&i()},[t]),o==="popLayout"&&(n=p.jsx(Hse,{isPresent:t,anchorX:a,root:l,children:n})),p.jsx(Ov.Provider,{value:d,children:n})};function Gse(){return new Map}function D4(n=!0){const e=w.useContext(Ov);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,s=w.useId();w.useEffect(()=>{if(n)return r(s)},[n]);const o=w.useCallback(()=>n&&i&&i(s),[s,i,n]);return!t&&i?[!1,o]:[!0]}const qp=n=>n.key||"";function vI(n){const e=[];return w.Children.forEach(n,t=>{w.isValidElement(t)&&e.push(t)}),e}const Yse=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,c]=D4(o),h=w.useMemo(()=>vI(n),[n]),d=o&&!u?[]:h.map(qp),f=w.useRef(!0),y=w.useRef(h),g=Lc(()=>new Map),[_,v]=w.useState(h),[b,x]=w.useState(h);Nv(()=>{f.current=!1,y.current=h;for(let M=0;M<b.length;M++){const A=qp(b[M]);d.includes(A)?g.delete(A):g.get(A)!==!0&&g.set(A,!1)}},[b,d.length,d.join("-")]);const P=[];if(h!==_){let M=[...h];for(let A=0;A<b.length;A++){const T=b[A],E=qp(T);d.includes(E)||(M.splice(A,0,T),P.push(T))}return s==="wait"&&P.length&&(M=P),x(vI(M)),v(h),null}const{forceRender:k}=w.useContext(oE);return p.jsx(p.Fragment,{children:b.map(M=>{const A=qp(M),T=o&&!u?!1:h===b||d.includes(A),E=()=>{if(g.has(A))g.set(A,!0);else return;let C=!0;g.forEach(D=>{D||(C=!1)}),C&&(k==null||k(),x(y.current),o&&(c==null||c()),i&&i())};return p.jsx(Wse,{isPresent:T,initial:!f.current||t?void 0:!1,custom:e,presenceAffectsLayout:r,mode:s,root:l,onExitComplete:T?void 0:E,anchorX:a,children:M},A)})})},R4=w.createContext({strict:!1}),bI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mc={};for(const n in bI)mc[n]={isEnabled:e=>bI[n].some(t=>!!e[t])};function Xse(n){for(const e in n)mc[e]={...mc[e],...n[e]}}const Kse=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zg(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Kse.has(n)}let M4=n=>!Zg(n);function qse(n){typeof n=="function"&&(M4=e=>e.startsWith("on")?!Zg(e):n(e))}try{qse(require("@emotion/is-prop-valid").default)}catch{}function Qse(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(M4(r)||t===!0&&Zg(r)||!e&&!Zg(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function Zse(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,r)=>r==="create"?n:(e.has(r)||e.set(r,n(r)),e.get(r))})}const Fv=w.createContext({});function Vv(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Yd(n){return typeof n=="string"||Array.isArray(n)}const DE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],RE=["initial",...DE];function Bv(n){return Vv(n.animate)||RE.some(e=>Yd(n[e]))}function N4(n){return!!(Bv(n)||n.variants)}function Jse(n,e){if(Bv(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Yd(t)?t:void 0,animate:Yd(i)?i:void 0}}return n.inherit!==!1?e:{}}function eoe(n){const{initial:e,animate:t}=Jse(n,w.useContext(Fv));return w.useMemo(()=>({initial:e,animate:t}),[_I(e),_I(t)])}function _I(n){return Array.isArray(n)?n.join(" "):n}const toe=Symbol.for("motionComponentSymbol");function gu(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function noe(n,e,t){return w.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):gu(t)&&(t.current=i))},[e])}const ME=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ioe="framerAppearId",O4="data-"+ME(ioe),j4=w.createContext({});function roe(n,e,t,i,r){var g,_;const{visualElement:s}=w.useContext(Fv),o=w.useContext(R4),a=w.useContext(Ov),l=w.useContext(Uc).reducedMotion,u=w.useRef(null);i=i||o.renderer,!u.current&&i&&(u.current=i(n,{visualState:e,parent:s,props:t,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,h=w.useContext(j4);c&&!c.projection&&r&&(c.type==="html"||c.type==="svg")&&soe(u.current,t,r,h);const d=w.useRef(!1);w.useInsertionEffect(()=>{c&&d.current&&c.update(t,a)});const f=t[O4],y=w.useRef(!!f&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,f))&&((_=window.MotionHasOptimisedAnimation)==null?void 0:_.call(window,f)));return Nv(()=>{c&&(d.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),AE.render(c.render),y.current&&c.animationState&&c.animationState.animateChanges())}),w.useEffect(()=>{c&&(!y.current&&c.animationState&&c.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,f)}),y.current=!1))}),c}function soe(n,e,t,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:L4(n.parent)),n.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&gu(a),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,crossfade:c,layoutScroll:l,layoutRoot:u})}function L4(n){if(n)return n.options.allowProjection!==!1?n.projection:L4(n.parent)}function ooe({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&Xse(n);function s(a,l){let u;const c={...w.useContext(Uc),...a,layoutId:aoe(a)},{isStatic:h}=c,d=eoe(a),f=i(a,h);if(!h&&aE){loe();const y=uoe(c);u=y.MeasureLayout,d.visualElement=roe(r,f,c,e,y.ProjectionNode)}return p.jsxs(Fv.Provider,{value:d,children:[u&&d.visualElement?p.jsx(u,{visualElement:d.visualElement,...c}):null,t(r,a,noe(f,d.visualElement,l),f,h,d.visualElement)]})}s.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const o=w.forwardRef(s);return o[toe]=r,o}function aoe({layoutId:n}){const e=w.useContext(oE).id;return e&&n!==void 0?e+"-"+n:n}function loe(n,e){w.useContext(R4).strict}function uoe(n){const{drag:e,layout:t}=mc;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const Xd={};function coe(n){for(const e in n)Xd[e]=n[e],mE(e)&&(Xd[e].isCSSVariable=!0)}function F4(n,{layout:e,layoutId:t}){return Bc.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Xd[n]||n==="opacity")}const hoe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},doe=Vc.length;function foe(n,e,t){let i="",r=!0;for(let s=0;s<doe;s++){const o=Vc[s],a=n[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||t){const u=P4(a,SE[o]);if(!l){r=!1;const c=hoe[o]||o;i+=`${c}(${u}) `}t&&(e[o]=u)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function NE(n,e,t){const{style:i,vars:r,transformOrigin:s}=n;let o=!1,a=!1;for(const l in e){const u=e[l];if(Bc.has(l)){o=!0;continue}else if(mE(l)){r[l]=u;continue}else{const c=P4(u,SE[l]);l.startsWith("origin")?(a=!0,s[l]=c):i[l]=c}}if(e.transform||(o||t?i.transform=foe(e,n.transform,t):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;i.transformOrigin=`${l} ${u} ${c}`}}const OE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function V4(n,e,t){for(const i in e)!vn(e[i])&&!F4(i,t)&&(n[i]=e[i])}function poe({transformTemplate:n},e){return w.useMemo(()=>{const t=OE();return NE(t,e,n),Object.assign({},t.vars,t.style)},[e])}function moe(n,e){const t=n.style||{},i={};return V4(i,t,n),Object.assign(i,poe(n,e)),i}function goe(n,e){const t={},i=moe(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const yoe={offset:"stroke-dashoffset",array:"stroke-dasharray"},voe={offset:"strokeDashoffset",array:"strokeDasharray"};function boe(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?yoe:voe;n[s.offset]=Re.transform(-i);const o=Re.transform(e),a=Re.transform(t);n[s.array]=`${o} ${a}`}function B4(n,{attrX:e,attrY:t,attrScale:i,pathLength:r,pathSpacing:s=1,pathOffset:o=0,...a},l,u,c){if(NE(n,a,u),l){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:h,style:d}=n;h.transform&&(d.transform=h.transform,delete h.transform),(d.transform||h.transformOrigin)&&(d.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),d.transform&&(d.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),t!==void 0&&(h.y=t),i!==void 0&&(h.scale=i),r!==void 0&&boe(h,r,s,o,!1)}const U4=()=>({...OE(),attrs:{}}),$4=n=>typeof n=="string"&&n.toLowerCase()==="svg";function _oe(n,e,t,i){const r=w.useMemo(()=>{const s=U4();return B4(s,e,$4(i),n.transformTemplate,n.style),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};V4(s,n.style,n),r.style={...s,...r.style}}return r}const woe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jE(n){return typeof n!="string"||n.includes("-")?!1:!!(woe.indexOf(n)>-1||/[A-Z]/u.test(n))}function xoe(n=!1){return(t,i,r,{latestValues:s},o)=>{const l=(jE(t)?_oe:goe)(i,s,o,t),u=Qse(i,typeof t=="string",n),c=t!==w.Fragment?{...u,...l,ref:r}:{},{children:h}=i,d=w.useMemo(()=>vn(h)?h.get():h,[h]);return w.createElement(t,{...c,children:d})}}function wI(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function LE(n,e,t,i){if(typeof e=="function"){const[r,s]=wI(i);e=e(t!==void 0?t:n.custom,r,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,s]=wI(i);e=e(t!==void 0?t:n.custom,r,s)}return e}function jm(n){return vn(n)?n.get():n}function Toe({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,r){return{latestValues:Eoe(t,i,r,n),renderState:e()}}const z4=n=>(e,t)=>{const i=w.useContext(Fv),r=w.useContext(Ov),s=()=>Toe(n,e,i,r);return t?s():Lc(s)};function Eoe(n,e,t,i){const r={},s=i(n,{});for(const d in s)r[d]=jm(s[d]);let{initial:o,animate:a}=n;const l=Bv(n),u=N4(n);e&&u&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=t?t.initial===!1:!1;c=c||o===!1;const h=c?a:o;if(h&&typeof h!="boolean"&&!Vv(h)){const d=Array.isArray(h)?h:[h];for(let f=0;f<d.length;f++){const y=LE(n,d[f]);if(y){const{transitionEnd:g,transition:_,...v}=y;for(const b in v){let x=v[b];if(Array.isArray(x)){const P=c?x.length-1:0;x=x[P]}x!==null&&(r[b]=x)}for(const b in g)r[b]=g[b]}}}return r}function FE(n,e,t){var s;const{style:i}=n,r={};for(const o in i)(vn(i[o])||e.style&&vn(e.style[o])||F4(o,n)||((s=t==null?void 0:t.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(r[o]=i[o]);return r}const Poe={useVisualState:z4({scrapeMotionValuesFromProps:FE,createRenderState:OE})};function H4(n,e,t){const i=FE(n,e,t);for(const r in n)if(vn(n[r])||vn(e[r])){const s=Vc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=n[r]}return i}const Soe={useVisualState:z4({scrapeMotionValuesFromProps:H4,createRenderState:U4})};function Coe(n,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...jE(i)?Soe:Poe,preloadedFeatures:n,useRender:xoe(r),createVisualElement:e,Component:i};return ooe(o)}}function Kd(n,e,t){const i=n.getProps();return LE(i,e,t!==void 0?t:i.custom,n)}const Yw=n=>Array.isArray(n);function Aoe(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Tr(t))}function koe(n){return Yw(n)?n[n.length-1]||0:n}function Ioe(n,e){const t=Kd(n,e);let{transitionEnd:i={},transition:r={},...s}=t||{};s={...s,...i};for(const o in s){const a=koe(s[o]);Aoe(n,o,a)}}function Doe(n){return!!(vn(n)&&n.add)}function Xw(n,e){const t=n.getValue("willChange");if(Doe(t))return t.add(e);if(!t&&qs.WillChange){const i=new qs.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function W4(n){return n.props[O4]}const Roe=n=>n!==null;function Moe(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(Roe),s=e&&t!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const Noe={type:"spring",stiffness:500,damping:25,restSpeed:10},Ooe=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),joe={type:"keyframes",duration:.8},Loe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Foe=(n,{keyframes:e})=>e.length>2?joe:Bc.has(n)?n.startsWith("scale")?Ooe(e[1]):Noe:Loe;function Voe({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const VE=(n,e,t,i={},r,s)=>o=>{const a=PE(i,n)||{},l=a.delay||i.delay||0;let{elapsed:u=0}=i;u=u-ts(l);const c={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:d=>{e.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:n,motionValue:e,element:s?void 0:r};Voe(a)||Object.assign(c,Foe(n,c)),c.duration&&(c.duration=ts(c.duration)),c.repeatDelay&&(c.repeatDelay=ts(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let h=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(h=!0)),(qs.instantAnimations||qs.skipAnimations)&&(h=!0,c.duration=0,c.delay=0),c.allowFlatten=!a.type&&!a.ease,h&&!s&&e.get()!==void 0){const d=Moe(c.keyframes,a);if(d!==void 0){et.update(()=>{c.onUpdate(d),c.onComplete()});return}}return a.isSync?new jv(c):new lse(c)};function Boe({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function G4(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=e;i&&(s=i);const l=[],u=r&&n.animationState&&n.animationState.getState()[r];for(const c in a){const h=n.getValue(c,n.latestValues[c]??null),d=a[c];if(d===void 0||u&&Boe(u,c))continue;const f={delay:t,...PE(s||{},c)},y=h.get();if(y!==void 0&&!h.isAnimating&&!Array.isArray(d)&&d===y&&!f.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const v=W4(n);if(v){const b=window.MotionHandoffAnimation(v,c,et);b!==null&&(f.startTime=b,g=!0)}}Xw(n,c),h.start(VE(c,h,d,n.shouldReduceMotion&&_4.has(c)?{type:!1}:f,n,g));const _=h.animation;_&&l.push(_)}return o&&Promise.all(l).then(()=>{et.update(()=>{o&&Ioe(n,o)})}),l}function Kw(n,e,t={}){var l;const i=Kd(n,e,t.type==="exit"?(l=n.presenceContext)==null?void 0:l.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const s=i?()=>Promise.all(G4(n,i,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:d}=r;return Uoe(n,e,u,c,h,d,t)}:()=>Promise.resolve(),{when:a}=r;if(a){const[u,c]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>c())}else return Promise.all([s(),o(t.delay)])}function Uoe(n,e,t=0,i=0,r=0,s=1,o){const a=[],l=n.variantChildren.size,u=(l-1)*r,c=typeof i=="function",h=c?d=>i(d,l):s===1?(d=0)=>d*r:(d=0)=>u-d*r;return Array.from(n.variantChildren).sort($oe).forEach((d,f)=>{d.notify("AnimationStart",e),a.push(Kw(d,e,{...o,delay:t+(c?0:i)+h(f)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(a)}function $oe(n,e){return n.sortNodePosition(e)}function zoe(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>Kw(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=Kw(n,e,t);else{const r=typeof e=="function"?Kd(n,e,t.custom):e;i=Promise.all(G4(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function Y4(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const Hoe=RE.length;function X4(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?X4(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<Hoe;t++){const i=RE[t],r=n.props[i];(Yd(r)||r===!1)&&(e[i]=r)}return e}const Woe=[...DE].reverse(),Goe=DE.length;function Yoe(n){return e=>Promise.all(e.map(({animation:t,options:i})=>zoe(n,t,i)))}function Xoe(n){let e=Yoe(n),t=xI(),i=!0;const r=l=>(u,c)=>{var d;const h=Kd(n,c,l==="exit"?(d=n.presenceContext)==null?void 0:d.custom:void 0);if(h){const{transition:f,transitionEnd:y,...g}=h;u={...u,...g,...y}}return u};function s(l){e=l(n)}function o(l){const{props:u}=n,c=X4(n.parent)||{},h=[],d=new Set;let f={},y=1/0;for(let _=0;_<Goe;_++){const v=Woe[_],b=t[v],x=u[v]!==void 0?u[v]:c[v],P=Yd(x),k=v===l?b.isActive:null;k===!1&&(y=_);let M=x===c[v]&&x!==u[v]&&P;if(M&&i&&n.manuallyAnimateOnMount&&(M=!1),b.protectedKeys={...f},!b.isActive&&k===null||!x&&!b.prevProp||Vv(x)||typeof x=="boolean")continue;const A=Koe(b.prevProp,x);let T=A||v===l&&b.isActive&&!M&&P||_>y&&P,E=!1;const C=Array.isArray(x)?x:[x];let D=C.reduce(r(v),{});k===!1&&(D={});const{prevResolvedValues:N={}}=b,R={...N,...D},V=H=>{T=!0,d.has(H)&&(E=!0,d.delete(H)),b.needsAnimating[H]=!0;const F=n.getValue(H);F&&(F.liveStyle=!1)};for(const H in R){const F=D[H],j=N[H];if(f.hasOwnProperty(H))continue;let L=!1;Yw(F)&&Yw(j)?L=!Y4(F,j):L=F!==j,L?F!=null?V(H):d.add(H):F!==void 0&&d.has(H)?V(H):b.protectedKeys[H]=!0}b.prevProp=x,b.prevResolvedValues=D,b.isActive&&(f={...f,...D}),i&&n.blockInitialAnimation&&(T=!1),T&&(!(M&&A)||E)&&h.push(...C.map(H=>({animation:H,options:{type:v}})))}if(d.size){const _={};if(typeof u.initial!="boolean"){const v=Kd(n,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(_.transition=v.transition)}d.forEach(v=>{const b=n.getBaseTarget(v),x=n.getValue(v);x&&(x.liveStyle=!0),_[v]=b??null}),h.push({animation:_})}let g=!!h.length;return i&&(u.initial===!1||u.initial===u.animate)&&!n.manuallyAnimateOnMount&&(g=!1),i=!1,g?e(h):Promise.resolve()}function a(l,u){var h;if(t[l].isActive===u)return Promise.resolve();(h=n.variantChildren)==null||h.forEach(d=>{var f;return(f=d.animationState)==null?void 0:f.setActive(l,u)}),t[l].isActive=u;const c=o(l);for(const d in t)t[d].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t,reset:()=>{t=xI(),i=!0}}}function Koe(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!Y4(e,n):!1}function Ma(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xI(){return{animate:Ma(!0),whileInView:Ma(),whileHover:Ma(),whileTap:Ma(),whileDrag:Ma(),whileFocus:Ma(),exit:Ma()}}class ka{constructor(e){this.isMounted=!1,this.node=e}update(){}}class qoe extends ka{constructor(e){super(e),e.animationState||(e.animationState=Xoe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Vv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Qoe=0;class Zoe extends ka{constructor(){super(...arguments),this.id=Qoe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Joe={animation:{Feature:qoe},exit:{Feature:Zoe}};function qd(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function Gf(n){return{point:{x:n.pageX,y:n.pageY}}}const eae=n=>e=>kE(e)&&n(e,Gf(e));function Qh(n,e,t,i){return qd(n,e,eae(t),i)}function K4({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function tae({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function nae(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}const q4=1e-4,iae=1-q4,rae=1+q4,Q4=.01,sae=0-Q4,oae=0+Q4;function ti(n){return n.max-n.min}function aae(n,e,t){return Math.abs(n-e)<=t}function TI(n,e,t,i=.5){n.origin=i,n.originPoint=At(e.min,e.max,n.origin),n.scale=ti(t)/ti(e),n.translate=At(t.min,t.max,n.origin)-n.originPoint,(n.scale>=iae&&n.scale<=rae||isNaN(n.scale))&&(n.scale=1),(n.translate>=sae&&n.translate<=oae||isNaN(n.translate))&&(n.translate=0)}function Zh(n,e,t,i){TI(n.x,e.x,t.x,i?i.originX:void 0),TI(n.y,e.y,t.y,i?i.originY:void 0)}function EI(n,e,t){n.min=t.min+e.min,n.max=n.min+ti(e)}function lae(n,e,t){EI(n.x,e.x,t.x),EI(n.y,e.y,t.y)}function PI(n,e,t){n.min=e.min-t.min,n.max=n.min+ti(e)}function Jh(n,e,t){PI(n.x,e.x,t.x),PI(n.y,e.y,t.y)}const SI=()=>({translate:0,scale:1,origin:0,originPoint:0}),yu=()=>({x:SI(),y:SI()}),CI=()=>({min:0,max:0}),Ut=()=>({x:CI(),y:CI()});function zi(n){return[n("x"),n("y")]}function _b(n){return n===void 0||n===1}function qw({scale:n,scaleX:e,scaleY:t}){return!_b(n)||!_b(e)||!_b(t)}function La(n){return qw(n)||Z4(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Z4(n){return AI(n.x)||AI(n.y)}function AI(n){return n&&n!=="0%"}function Jg(n,e,t){const i=n-t,r=e*i;return t+r}function kI(n,e,t,i,r){return r!==void 0&&(n=Jg(n,r,i)),Jg(n,t,i)+e}function Qw(n,e=0,t=1,i,r){n.min=kI(n.min,e,t,i,r),n.max=kI(n.max,e,t,i,r)}function J4(n,{x:e,y:t}){Qw(n.x,e.translate,e.scale,e.originPoint),Qw(n.y,t.translate,t.scale,t.originPoint)}const II=.999999999999,DI=1.0000000000001;function uae(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=t[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&bu(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,J4(n,o)),i&&La(s.latestValues)&&bu(n,s.latestValues))}e.x<DI&&e.x>II&&(e.x=1),e.y<DI&&e.y>II&&(e.y=1)}function vu(n,e){n.min=n.min+e,n.max=n.max+e}function RI(n,e,t,i,r=.5){const s=At(n.min,n.max,r);Qw(n,e,t,s,i)}function bu(n,e){RI(n.x,e.x,e.scaleX,e.scale,e.originX),RI(n.y,e.y,e.scaleY,e.scale,e.originY)}function eB(n,e){return K4(nae(n.getBoundingClientRect(),e))}function cae(n,e,t){const i=eB(n,t),{scroll:r}=e;return r&&(vu(i.x,r.offset.x),vu(i.y,r.offset.y)),i}const tB=({current:n})=>n?n.ownerDocument.defaultView:null,MI=(n,e)=>Math.abs(n-e);function hae(n,e){const t=MI(n.x,e.x),i=MI(n.y,e.y);return Math.sqrt(t**2+i**2)}class nB{constructor(e,t,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=xb(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,y=hae(d.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!y)return;const{point:g}=d,{timestamp:_}=pn;this.history.push({...g,timestamp:_});const{onStart:v,onMove:b}=this.handlers;f||(v&&v(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=wb(f,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:y,onSessionEnd:g,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=xb(d.type==="pointercancel"?this.lastMoveEventInfo:wb(f,this.transformPagePoint),this.history);this.startEvent&&y&&y(d,v),g&&g(d,v)},!kE(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=o,this.contextWindow=r||window;const a=Gf(e),l=wb(a,this.transformPagePoint),{point:u}=l,{timestamp:c}=pn;this.history=[{...u,timestamp:c}];const{onSessionStart:h}=t;h&&h(e,xb(l,this.history)),this.removeListeners=zf(Qh(this.contextWindow,"pointermove",this.handlePointerMove),Qh(this.contextWindow,"pointerup",this.handlePointerUp),Qh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),lr(this.updatePoint)}}function wb(n,e){return e?{point:e(n.point)}:n}function NI(n,e){return{x:n.x-e.x,y:n.y-e.y}}function xb({point:n},e){return{point:n,delta:NI(n,iB(e)),offset:NI(n,dae(e)),velocity:fae(e,.1)}}function dae(n){return n[0]}function iB(n){return n[n.length-1]}function fae(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=iB(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>ts(e)));)t--;if(!i)return{x:0,y:0};const s=ns(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function pae(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?At(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?At(t,n,i.max):Math.min(n,t)),n}function OI(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function mae(n,{top:e,left:t,bottom:i,right:r}){return{x:OI(n.x,t,r),y:OI(n.y,e,i)}}function jI(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function gae(n,e){return{x:jI(n.x,e.x),y:jI(n.y,e.y)}}function yae(n,e){let t=.5;const i=ti(n),r=ti(e);return r>i?t=pc(e.min,e.max-i,n.min):i>r&&(t=pc(n.min,n.max-r,e.min)),hs(0,1,t)}function vae(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Zw=.35;function bae(n=Zw){return n===!1?n=0:n===!0&&(n=Zw),{x:LI(n,"left","right"),y:LI(n,"top","bottom")}}function LI(n,e,t){return{min:FI(n,e),max:FI(n,t)}}function FI(n,e){return typeof n=="number"?n:n[e]||0}const _ae=new WeakMap;class wae{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ut(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Gf(h).point)},o=(h,d)=>{const{drag:f,dragPropagation:y,onDragStart:g}=this.getProps();if(f&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Tse(f),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zi(v=>{let b=this.getAxisMotionValue(v).get()||0;if(is.test(b)){const{projection:x}=this.visualElement;if(x&&x.layout){const P=x.layout.layoutBox[v];P&&(b=ti(P)*(parseFloat(b)/100))}}this.originPoint[v]=b}),g&&et.postRender(()=>g(h,d)),Xw(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},a=(h,d)=>{this.latestPointerEvent=h,this.latestPanInfo=d;const{dragPropagation:f,dragDirectionLock:y,onDirectionLock:g,onDrag:_}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=d;if(y&&this.currentDirection===null){this.currentDirection=xae(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,v),this.updateAxis("y",d.point,v),this.visualElement.render(),_&&_(h,d)},l=(h,d)=>{this.latestPointerEvent=h,this.latestPanInfo=d,this.stop(h,d),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>zi(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)==null?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new nB(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:i,contextWindow:tB(this.visualElement)})}stop(e,t){const i=e||this.latestPointerEvent,r=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!r||!i)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&et.postRender(()=>a(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!Qp(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=pae(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,r=this.constraints;e&&gu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=mae(i.layoutBox,e):this.constraints=!1,this.elastic=bae(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&zi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=vae(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!gu(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=cae(i,r.root,this.visualElement.getTransformPagePoint());let o=gae(r.layout.layoutBox,s);if(t){const a=t(tae(o));this.hasMutatedConstraints=!!a,a&&(o=K4(a))}return o}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=zi(c=>{if(!Qp(c,t,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const d=r?200:1e6,f=r?40:1e7,y={type:"inertia",velocity:i?e[c]:0,bounceStiffness:d,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(c,y)});return Promise.all(u).then(a)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Xw(this.visualElement,e),i.start(VE(e,i,0,t,this.visualElement,!1))}stopAnimation(){zi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){zi(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){zi(t=>{const{drag:i}=this.getProps();if(!Qp(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[t];s.set(e[t]-At(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!gu(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};zi(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=yae({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),zi(o=>{if(!Qp(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(At(l,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;_ae.set(this.visualElement,this);const e=this.visualElement.current,t=Qh(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();gu(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),et.read(i);const o=qd(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(zi(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=Zw,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Qp(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function xae(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Tae extends ka{constructor(e){super(e),this.removeGroupControls=xi,this.removeListeners=xi,this.controls=new wae(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xi}unmount(){this.removeGroupControls(),this.removeListeners()}}const VI=n=>(e,t)=>{n&&et.postRender(()=>n(e,t))};class Eae extends ka{constructor(){super(...arguments),this.removePointerDownListener=xi}onPointerDown(e){this.session=new nB(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tB(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:VI(e),onStart:VI(t),onMove:i,onEnd:(s,o)=>{delete this.session,r&&et.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=Qh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Lm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function BI(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const hh={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Re.test(n))n=parseFloat(n);else return n;const t=BI(n,e.target.x),i=BI(n,e.target.y);return`${t}% ${i}%`}},Pae={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=ga.parse(n);if(r.length>5)return i;const s=ga.createTransformer(n),o=typeof r[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const u=At(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),s(r)}};let UI=!1;class Sae extends w.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;coe(Cae),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),UI&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Lm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,{projection:o}=i;return o&&(o.isPresent=s,UI=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||et.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),AE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rB(n){const[e,t]=D4(),i=w.useContext(oE);return p.jsx(Sae,{...n,layoutGroup:i,switchLayoutGroup:w.useContext(j4),isPresent:e,safeToRemove:t})}const Cae={borderRadius:{...hh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hh,borderTopRightRadius:hh,borderBottomLeftRadius:hh,borderBottomRightRadius:hh,boxShadow:Pae};function Aae(n,e,t){const i=vn(n)?n:Tr(n);return i.start(VE("",i,e,t)),i.animation}const kae=(n,e)=>n.depth-e.depth;class Iae{constructor(){this.children=[],this.isDirty=!1}add(e){lE(this.children,e),this.isDirty=!0}remove(e){uE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(kae),this.isDirty=!1,this.children.forEach(e)}}function Dae(n,e){const t=yi.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(lr(i),n(s-e))};return et.setup(i,!0),()=>lr(i)}const sB=["TopLeft","TopRight","BottomLeft","BottomRight"],Rae=sB.length,$I=n=>typeof n=="string"?parseFloat(n):n,zI=n=>typeof n=="number"||Re.test(n);function Mae(n,e,t,i,r,s){r?(n.opacity=At(0,t.opacity??1,Nae(i)),n.opacityExit=At(e.opacity??1,0,Oae(i))):s&&(n.opacity=At(e.opacity??1,t.opacity??1,i));for(let o=0;o<Rae;o++){const a=`border${sB[o]}Radius`;let l=HI(e,a),u=HI(t,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||zI(l)===zI(u)?(n[a]=Math.max(At($I(l),$I(u),i),0),(is.test(u)||is.test(l))&&(n[a]+="%")):n[a]=u}(e.rotate||t.rotate)&&(n.rotate=At(e.rotate||0,t.rotate||0,i))}function HI(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Nae=oB(0,.5,KV),Oae=oB(.5,.95,xi);function oB(n,e,t){return i=>i<n?0:i>e?1:t(pc(n,e,i))}function WI(n,e){n.min=e.min,n.max=e.max}function $i(n,e){WI(n.x,e.x),WI(n.y,e.y)}function GI(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function YI(n,e,t,i,r){return n-=e,n=Jg(n,1/t,i),r!==void 0&&(n=Jg(n,1/r,i)),n}function jae(n,e=0,t=1,i=.5,r,s=n,o=n){if(is.test(e)&&(e=parseFloat(e),e=At(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=At(s.min,s.max,i);n===s&&(a-=e),n.min=YI(n.min,e,t,a,r),n.max=YI(n.max,e,t,a,r)}function XI(n,e,[t,i,r],s,o){jae(n,e[t],e[i],e[r],e.scale,s,o)}const Lae=["x","scaleX","originX"],Fae=["y","scaleY","originY"];function KI(n,e,t,i){XI(n.x,e,Lae,t?t.x:void 0,i?i.x:void 0),XI(n.y,e,Fae,t?t.y:void 0,i?i.y:void 0)}function qI(n){return n.translate===0&&n.scale===1}function aB(n){return qI(n.x)&&qI(n.y)}function QI(n,e){return n.min===e.min&&n.max===e.max}function Vae(n,e){return QI(n.x,e.x)&&QI(n.y,e.y)}function ZI(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function lB(n,e){return ZI(n.x,e.x)&&ZI(n.y,e.y)}function JI(n){return ti(n.x)/ti(n.y)}function eD(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class Bae{constructor(){this.members=[]}add(e){lE(this.members,e),e.scheduleRender()}remove(e){if(uE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Uae(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:u,rotate:c,rotateX:h,rotateY:d,skewX:f,skewY:y}=t;u&&(i=`perspective(${u}px) ${i}`),c&&(i+=`rotate(${c}deg) `),h&&(i+=`rotateX(${h}deg) `),d&&(i+=`rotateY(${d}deg) `),f&&(i+=`skewX(${f}deg) `),y&&(i+=`skewY(${y}deg) `)}const a=n.x.scale*e.x,l=n.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const Tb=["","X","Y","Z"],$ae=1e3;let zae=0;function Eb(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function uB(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=W4(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",et,!(r||s))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&uB(i)}function cB({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=zae++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Gae),this.nodes.forEach(qae),this.nodes.forEach(Qae),this.nodes.forEach(Yae)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Iae)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new hE),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=IE(o)&&!Fse(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),n){let c,h=0;const d=()=>this.root.updateBlockedByResize=!1;et.read(()=>{h=window.innerWidth}),n(o,()=>{const f=window.innerWidth;f!==h&&(h=f,this.root.updateBlockedByResize=!0,c&&c(),c=Dae(d,250),Lm.hasAnimatedSinceResize&&(Lm.hasAnimatedSinceResize=!1,this.nodes.forEach(iD)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:d,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||nle,{onLayoutAnimationStart:g,onLayoutAnimationComplete:_}=u.getProps(),v=!this.targetLayout||!lB(this.targetLayout,f),b=!h&&d;if(this.options.layoutRoot||this.resumeFrom||b||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...PE(y,"layout"),onPlay:g,onComplete:_};(u.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(c,b)}else h||iD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),lr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Zae),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uB(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tD);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(nD);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Kae),this.nodes.forEach(Hae),this.nodes.forEach(Wae)):this.nodes.forEach(nD),this.clearAllSnapshots();const a=yi.now();pn.delta=hs(0,1e3/60,a-pn.timestamp),pn.timestamp=a,pn.isProcessing=!0,pb.update.process(pn),pb.preRender.process(pn),pb.render.process(pn),pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,AE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Xae),this.sharedNodes.forEach(Jae)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ti(this.snapshot.measuredBox.x)&&!ti(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!aB(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||La(this.latestValues)||c)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),ile(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Ut();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(rle))){const{scroll:c}=this.root;c&&(vu(a.x,c.offset.x),vu(a.y,c.offset.y))}return a}removeElementScroll(o){var l;const a=Ut();if($i(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:h,options:d}=c;c!==this.root&&h&&d.layoutScroll&&(h.wasRoot&&$i(a,o),vu(a.x,h.offset.x),vu(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=Ut();$i(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&bu(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),La(c.latestValues)&&bu(l,c.latestValues)}return La(this.latestValues)&&bu(l,this.latestValues),l}removeTransform(o){const a=Ut();$i(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!La(u.latestValues))continue;qw(u.latestValues)&&u.updateSnapshot();const c=Ut(),h=u.measurePageBox();$i(c,h),KI(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return La(this.latestValues)&&KI(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var d;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(d=this.parent)!=null&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:h}=this.options;if(!(!this.layout||!(c||h))){if(this.resolvedRelativeTargetAt=pn.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ut(),this.relativeTargetOrigin=Ut(),Jh(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),$i(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ut(),this.targetWithTransforms=Ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lae(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$i(this.target,this.layout.layoutBox),J4(this.target,this.targetDelta)):$i(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ut(),this.relativeTargetOrigin=Ut(),Jh(this.relativeTargetOrigin,this.target,f.target),$i(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||qw(this.parent.latestValues)||Z4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===pn.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;$i(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,d=this.treeScale.y;uae(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ut());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(GI(this.prevProjectionDelta.x,this.projectionDelta.x),GI(this.prevProjectionDelta.y,this.projectionDelta.y)),Zh(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==d||!eD(this.projectionDelta.x,this.prevProjectionDelta.x)||!eD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yu(),this.projectionDelta=yu(),this.projectionDeltaWithTransform=yu()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=yu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=Ut(),f=l?l.source:void 0,y=this.layout?this.layout.source:void 0,g=f!==y,_=this.getStack(),v=!_||_.members.length<=1,b=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(tle));this.animationProgress=0;let x;this.mixTargetDelta=P=>{const k=P/1e3;rD(h.x,o.x,k),rD(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jh(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ele(this.relativeTarget,this.relativeTargetOrigin,d,k),x&&Vae(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Ut()),$i(x,this.relativeTarget)),g&&(this.animationValues=c,Mae(c,u,this.latestValues,k,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(lr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{Lm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Tr(0)),this.currentAnimation=Aae(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($ae),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&hB(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Ut();const h=ti(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const d=ti(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}$i(a,l),bu(a,c),Zh(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Bae),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Eb("z",o,u,this.animationValues);for(let c=0;c<Tb.length;c++)Eb(`rotate${Tb[c]}`,o,u,this.animationValues),Eb(`skew${Tb[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=jm(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=jm(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!La(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=Uae(this.projectionDeltaWithTransform,this.treeScale,c);l&&(h=l(c,h)),o.transform=h;const{x:d,y:f}=this.projectionDelta;o.transformOrigin=`${d.origin*100}% ${f.origin*100}% 0`,u.animationValues?o.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:o.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const y in Xd){if(c[y]===void 0)continue;const{correct:g,applyTo:_,isCSSVariable:v}=Xd[y],b=h==="none"?c[y]:g(c[y],u);if(_){const x=_.length;for(let P=0;P<x;P++)o[_[P]]=b}else v?this.options.visualElement.renderState.vars[y]=b:o[y]=b}this.options.layoutId&&(o.pointerEvents=u===this?jm(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(tD),this.root.sharedNodes.clear()}}}function Hae(n){n.updateLayout()}function Wae(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,o=e.source!==n.layout.source;s==="size"?zi(h=>{const d=o?e.measuredBox[h]:e.layoutBox[h],f=ti(d);d.min=i[h].min,d.max=d.min+f}):hB(s,e.layoutBox,i)&&zi(h=>{const d=o?e.measuredBox[h]:e.layoutBox[h],f=ti(i[h]);d.max=d.min+f,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[h].max=n.relativeTarget[h].min+f)});const a=yu();Zh(a,i,e.layoutBox);const l=yu();o?Zh(l,n.applyTransform(r,!0),e.measuredBox):Zh(l,i,e.layoutBox);const u=!aB(a);let c=!1;if(!n.resumeFrom){const h=n.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:f}=h;if(d&&f){const y=Ut();Jh(y,e.layoutBox,d.layoutBox);const g=Ut();Jh(g,i,f.layoutBox),lB(y,g)||(c=!0),h.options.layoutRoot&&(n.relativeTarget=g,n.relativeTargetOrigin=y,n.relativeParent=h)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function Gae(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Yae(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Xae(n){n.clearSnapshot()}function tD(n){n.clearMeasurements()}function nD(n){n.isLayoutDirty=!1}function Kae(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function iD(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function qae(n){n.resolveTargetDelta()}function Qae(n){n.calcProjection()}function Zae(n){n.resetSkewAndRotation()}function Jae(n){n.removeLeadSnapshot()}function rD(n,e,t){n.translate=At(e.translate,0,t),n.scale=At(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function sD(n,e,t,i){n.min=At(e.min,t.min,i),n.max=At(e.max,t.max,i)}function ele(n,e,t,i){sD(n.x,e.x,t.x,i),sD(n.y,e.y,t.y,i)}function tle(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const nle={duration:.45,ease:[.4,0,.1,1]},oD=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),aD=oD("applewebkit/")&&!oD("chrome/")?Math.round:xi;function lD(n){n.min=aD(n.min),n.max=aD(n.max)}function ile(n){lD(n.x),lD(n.y)}function hB(n,e,t){return n==="position"||n==="preserve-aspect"&&!aae(JI(e),JI(t),.2)}function rle(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const sle=cB({attachResizeListener:(n,e)=>qd(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Pb={current:void 0},dB=cB({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Pb.current){const n=new sle({});n.mount(window),n.setOptions({layoutScroll:!0}),Pb.current=n}return Pb.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),ole={pan:{Feature:Eae},drag:{Feature:Tae,ProjectionNode:dB,MeasureLayout:rB}};function uD(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,s=i[r];s&&et.postRender(()=>s(e,Gf(e)))}class ale extends ka{mount(){const{current:e}=this.node;e&&(this.unmount=Ese(e,(t,i)=>(uD(this.node,i,"Start"),r=>uD(this.node,r,"End"))))}unmount(){}}class lle extends ka{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zf(qd(this.node.current,"focus",()=>this.onFocus()),qd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cD(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),s=i[r];s&&et.postRender(()=>s(e,Gf(e)))}class ule extends ka{mount(){const{current:e}=this.node;e&&(this.unmount=Ase(e,(t,i)=>(cD(this.node,i,"Start"),(r,{success:s})=>cD(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jw=new WeakMap,Sb=new WeakMap,cle=n=>{const e=Jw.get(n.target);e&&e(n)},hle=n=>{n.forEach(cle)};function dle({root:n,...e}){const t=n||document;Sb.has(t)||Sb.set(t,{});const i=Sb.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(hle,{root:n,...e})),i[r]}function fle(n,e,t){const i=dle(e);return Jw.set(n,t),i.observe(n),()=>{Jw.delete(n),i.unobserve(n)}}const ple={some:0,all:1};class mle extends ka{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:ple[r]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),d=u?c:h;d&&d(l)};return fle(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(gle(e,t))&&this.startObserver()}unmount(){}}function gle({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const yle={inView:{Feature:mle},tap:{Feature:ule},focus:{Feature:lle},hover:{Feature:ale}},vle={layout:{ProjectionNode:dB,MeasureLayout:rB}},ex={current:null},fB={current:!1};function ble(){if(fB.current=!0,!!aE)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>ex.current=n.matches;n.addEventListener("change",e),e()}else ex.current=!1}const _le=new WeakMap;function wle(n,e,t){for(const i in e){const r=e[i],s=t[i];if(vn(r))n.addValue(i,r);else if(vn(s))n.addValue(i,Tr(r,{owner:n}));else if(s!==r)if(n.hasValue(i)){const o=n.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=n.getStaticValue(i);n.addValue(i,Tr(o!==void 0?o:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const hD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class xle{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=EE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=yi.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,et.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Bv(t),this.isVariantNode=N4(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(t,{},this);for(const d in h){const f=h[d];l[d]!==void 0&&vn(f)&&f.set(l[d],!1)}}mount(e){this.current=e,_le.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),fB.current||ble(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ex.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),lr(this.notifyUpdate),lr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Bc.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&et.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in mc){const t=mc[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<hD.length;i++){const r=hD[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=wle(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Tr(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(BV(i)||$V(i))?i=parseFloat(i):!$se(i)&&ga.test(t)&&(i=E4(e,t)),this.setBaseTarget(e,vn(i)?i.get():i)),vn(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var s;const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const o=LE(this.props,t,(s=this.presenceContext)==null?void 0:s.custom);o&&(i=o[e])}if(t&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!vn(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new hE),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class pB extends xle{constructor(){super(...arguments),this.KeyframeResolver=_se}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;vn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function mB(n,{style:e,vars:t},i,r){const s=n.style;let o;for(o in e)s[o]=e[o];r==null||r.applyProjectionStyles(s,i);for(o in t)s.setProperty(o,t[o])}function Tle(n){return window.getComputedStyle(n)}class Ele extends pB{constructor(){super(...arguments),this.type="html",this.renderInstance=mB}readValueFromInstance(e,t){var i;if(Bc.has(t))return(i=this.projection)!=null&&i.isProjecting?Uw(t):Bre(e,t);{const r=Tle(e),s=(mE(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return eB(e,t)}build(e,t,i){NE(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return FE(e,t,i)}}const gB=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ple(n,e,t,i){mB(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(gB.has(r)?r:ME(r),e.attrs[r])}class Sle extends pB{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ut}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Bc.has(t)){const i=T4(t);return i&&i.default||0}return t=gB.has(t)?t:ME(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return H4(e,t,i)}build(e,t,i){B4(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,r){Ple(e,t,i,r)}mount(e){this.isSVGTag=$4(e.tagName),super.mount(e)}}const Cle=(n,e)=>jE(n)?new Sle(e):new Ele(e,{allowProjection:n!==w.Fragment}),Ale=Coe({...Joe,...yle,...ole,...vle},Cle),ey=Zse(Ale);function kle(n,e,t){w.useInsertionEffect(()=>n.on(e,t),[n,e,t])}const Ile=50,dD=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Dle=()=>({time:0,x:dD(),y:dD()}),Rle={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function fD(n,e,t,i){const r=t[e],{length:s,position:o}=Rle[e],a=r.current,l=t.time;r.current=n[`scroll${o}`],r.scrollLength=n[`scroll${s}`]-n[`client${s}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=pc(0,r.scrollLength,r.current);const u=i-l;r.velocity=u>Ile?0:dE(r.current-a,u)}function Mle(n,e,t){fD(n,"x",e,t),fD(n,"y",e,t),e.time=t}function Nle(n,e){const t={x:0,y:0};let i=n;for(;i&&i!==e;)if(Lv(i))t.x+=i.offsetLeft,t.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const r=i.getBoundingClientRect();i=i.parentElement;const s=i.getBoundingClientRect();t.x+=r.left-s.left,t.y+=r.top-s.top}else if(i instanceof SVGGraphicsElement){const{x:r,y:s}=i.getBBox();t.x+=r,t.y+=s;let o=null,a=i.parentNode;for(;!o;)a.tagName==="svg"&&(o=a),a=i.parentNode;i=o}else break;return t}const tx={start:0,center:.5,end:1};function pD(n,e,t=0){let i=0;if(n in tx&&(n=tx[n]),typeof n=="string"){const r=parseFloat(n);n.endsWith("px")?i=r:n.endsWith("%")?n=r/100:n.endsWith("vw")?i=r/100*document.documentElement.clientWidth:n.endsWith("vh")?i=r/100*document.documentElement.clientHeight:n=r}return typeof n=="number"&&(i=e*n),t+i}const Ole=[0,0];function jle(n,e,t,i){let r=Array.isArray(n)?n:Ole,s=0,o=0;return typeof n=="number"?r=[n,n]:typeof n=="string"&&(n=n.trim(),n.includes(" ")?r=n.split(" "):r=[n,tx[n]?n:"0"]),s=pD(r[0],t,i),o=pD(r[1],e),s-o}const Lle={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},Fle={x:0,y:0};function Vle(n){return"getBBox"in n&&n.tagName!=="svg"?n.getBBox():{width:n.clientWidth,height:n.clientHeight}}function Ble(n,e,t){const{offset:i=Lle.All}=t,{target:r=n,axis:s="y"}=t,o=s==="y"?"height":"width",a=r!==n?Nle(r,n):Fle,l=r===n?{width:n.scrollWidth,height:n.scrollHeight}:Vle(r),u={width:n.clientWidth,height:n.clientHeight};e[s].offset.length=0;let c=!e[s].interpolate;const h=i.length;for(let d=0;d<h;d++){const f=jle(i[d],u[o],l[o],a[s]);!c&&f!==e[s].interpolatorOffsets[d]&&(c=!0),e[s].offset[d]=f}c&&(e[s].interpolate=wE(e[s].offset,c4(i),{clamp:!1}),e[s].interpolatorOffsets=[...e[s].offset]),e[s].progress=hs(0,1,e[s].interpolate(e[s].current))}function Ule(n,e=n,t){if(t.x.targetOffset=0,t.y.targetOffset=0,e!==n){let i=e;for(;i&&i!==n;)t.x.targetOffset+=i.offsetLeft,t.y.targetOffset+=i.offsetTop,i=i.offsetParent}t.x.targetLength=e===n?e.scrollWidth:e.clientWidth,t.y.targetLength=e===n?e.scrollHeight:e.clientHeight,t.x.containerLength=n.clientWidth,t.y.containerLength=n.clientHeight}function $le(n,e,t,i={}){return{measure:r=>{Ule(n,i.target,t),Mle(n,t,r),(i.offset||i.target)&&Ble(n,t,i)},notify:()=>e(t)}}const dh=new WeakMap,mD=new WeakMap,Cb=new WeakMap,gD=n=>n===document.scrollingElement?window:n;function yB(n,{container:e=document.scrollingElement,...t}={}){if(!e)return xi;let i=Cb.get(e);i||(i=new Set,Cb.set(e,i));const r=Dle(),s=$le(e,n,r,t);if(i.add(s),!dh.has(e)){const a=()=>{for(const h of i)h.measure(pn.timestamp);et.preUpdate(l)},l=()=>{for(const h of i)h.notify()},u=()=>et.read(a);dh.set(e,u);const c=gD(e);window.addEventListener("resize",u,{passive:!0}),e!==document.documentElement&&mD.set(e,Lse(e,u)),c.addEventListener("scroll",u,{passive:!0}),u()}const o=dh.get(e);return et.read(o,!1,!0),()=>{var u;lr(o);const a=Cb.get(e);if(!a||(a.delete(s),a.size))return;const l=dh.get(e);dh.delete(e),l&&(gD(e).removeEventListener("scroll",l),(u=mD.get(e))==null||u(),window.removeEventListener("resize",l))}}const yD=new Map;function zle(n){const e={value:0},t=yB(i=>{e.value=i[n.axis].progress*100},n);return{currentTime:e,cancel:t}}function vB({source:n,container:e,...t}){const{axis:i}=t;n&&(e=n);const r=yD.get(e)??new Map;yD.set(e,r);const s=t.target??"self",o=r.get(s)??{},a=i+(t.offset??[]).join(",");return o[a]||(o[a]=!t.target&&p4()?new ScrollTimeline({source:e,axis:i}):zle({container:e,...t})),o[a]}function Hle(n,e){const t=vB(e);return n.attachTimeline({timeline:e.target?void 0:t,observe:i=>(i.pause(),I4(r=>{i.time=i.duration*r},t))})}function Wle(n){return n.length===2}function Gle(n,e){return Wle(n)?yB(t=>{n(t[e.axis].progress,t)},e):I4(n,vB(e))}function Yle(n,{axis:e="y",container:t=document.scrollingElement,...i}={}){if(!t)return xi;const r={axis:e,container:t,...i};return typeof n=="function"?Gle(n,r):Hle(n,r)}function vD(n,e){Bie(!!(!e||e.current))}const Xle=()=>({scrollX:Tr(0),scrollY:Tr(0),scrollXProgress:Tr(0),scrollYProgress:Tr(0)});function Kle({container:n,target:e,layoutEffect:t=!0,...i}={}){const r=Lc(Xle);return(t?Nv:w.useEffect)(()=>(vD("target",e),vD("container",n),Yle((o,{x:a,y:l})=>{r.scrollX.set(a.current),r.scrollXProgress.set(a.progress),r.scrollY.set(l.current),r.scrollYProgress.set(l.progress)},{...i,container:(n==null?void 0:n.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[n,e,JSON.stringify(i.offset)]),r}function Uv(n){const e=Lc(()=>Tr(n)),{isStatic:t}=w.useContext(Uc);if(t){const[,i]=w.useState(n);w.useEffect(()=>e.on("change",i),[])}return e}function bB(n,e){const t=Uv(e()),i=()=>t.set(e());return i(),Nv(()=>{const r=()=>et.preRender(i,!1,!0),s=n.map(o=>o.on("change",r));return()=>{s.forEach(o=>o()),lr(i)}}),t}function qle(n){qh.current=[],n();const e=bB(qh.current,n);return qh.current=void 0,e}function nx(n,e,t,i){if(typeof n=="function")return qle(n);const r=typeof e=="function"?e:Vse(e,t,i);return Array.isArray(n)?bD(n,r):bD([n],([s])=>r(s))}function bD(n,e){const t=Lc(()=>[]);return bB(n,()=>{t.length=0;const i=n.length;for(let r=0;r<i;r++)t[r]=n[r].get();return e(t)})}function Qle(n,e={}){const{isStatic:t}=w.useContext(Uc),i=()=>vn(n)?n.get():n;if(t)return nx(i);const r=Uv(i());return w.useInsertionEffect(()=>Bse(r,n,e),[r,JSON.stringify(e)]),r}function Zle(n){const e=w.useRef(0),{isStatic:t}=w.useContext(Uc);w.useEffect(()=>{if(t)return;const i=({timestamp:r,delta:s})=>{e.current||(e.current=r),n(r-e.current,s)};return et.update(i,!0),()=>lr(i)},[n])}function Jle(n){const e=Uv(n.getVelocity()),t=()=>{const i=n.getVelocity();e.set(i),i&&et.update(t)};return kle(n,"change",()=>{et.update(t,!1,!0)}),e}const eue={some:0,all:1};function tue(n,e,{root:t,margin:i,amount:r="some"}={}){const s=CE(n),o=new WeakMap,a=u=>{u.forEach(c=>{const h=o.get(c.target);if(c.isIntersecting!==!!h)if(c.isIntersecting){const d=e(c.target,c);typeof d=="function"?o.set(c.target,d):l.unobserve(c.target)}else typeof h=="function"&&(h(c),o.delete(c.target))})},l=new IntersectionObserver(a,{root:t,rootMargin:i,threshold:typeof r=="number"?r:eue[r]});return s.forEach(u=>l.observe(u)),()=>l.disconnect()}function nue(n,{root:e,margin:t,amount:i,once:r=!1,initial:s=!1}={}){const[o,a]=w.useState(s);return w.useEffect(()=>{if(!n.current||r&&o)return;const l=()=>(a(!0),r?void 0:()=>a(!1)),u={root:e&&e.current||void 0,margin:t,amount:i};return tue(n.current,l,u)},[e,n,t,r,i]),o}const iue=typeof window<"u"&&window.innerWidth<=768,rue=({children:n,delay:e=0,index:t,onMouseEnter:i,onClick:r})=>{const s=w.useRef(null),o=nue(s,{amount:.5,once:!1});return iue?p.jsx("div",{ref:s,"data-index":t,onMouseEnter:i,onClick:r,style:{marginBottom:"1rem",cursor:"pointer"},children:n}):p.jsx(ey.div,{ref:s,"data-index":t,onMouseEnter:i,onClick:r,initial:{scale:.7,opacity:0},animate:o?{scale:1,opacity:1}:{scale:.7,opacity:0},transition:{duration:.2,delay:e},style:{marginBottom:"1rem",cursor:"pointer"},children:n})},sue=({items:n=[],onItemSelect:e,showGradients:t=!0,enableArrowNavigation:i=!0,className:r="",itemClassName:s="",displayScrollbar:o=!0,initialSelectedIndex:a=-1,renderItem:l})=>{const u=w.useRef(null),[c,h]=w.useState(a),[d,f]=w.useState(!1),[y,g]=w.useState(0),[_,v]=w.useState(1),b=x=>{const P=x.target,{scrollTop:k,scrollHeight:M,clientHeight:A}=P;g(Math.min(k/50,1));const T=M-(k+A);v(M<=A?0:Math.min(T/50,1))};return w.useEffect(()=>{if(!i)return;const x=P=>{P.key==="ArrowDown"||P.key==="Tab"&&!P.shiftKey?(P.preventDefault(),f(!0),h(k=>Math.min(k+1,n.length-1))):P.key==="ArrowUp"||P.key==="Tab"&&P.shiftKey?(P.preventDefault(),f(!0),h(k=>Math.max(k-1,0))):P.key==="Enter"&&c>=0&&c<n.length&&(P.preventDefault(),e&&e(n[c],c))};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[n,c,e,i]),w.useEffect(()=>{if(!d||c<0||!u.current)return;const x=u.current,P=x.querySelector(`[data-index="${c}"]`);if(P){const M=x.scrollTop,A=x.clientHeight,T=P.offsetTop,E=T+P.offsetHeight;T<M+50?x.scrollTo({top:T-50,behavior:"smooth"}):E>M+A-50&&x.scrollTo({top:E-A+50,behavior:"smooth"})}f(!1)},[c,d]),p.jsxs("div",{className:`scroll-list-container ${r}`,children:[p.jsx("div",{ref:u,className:`scroll-list ${o?"":"no-scrollbar"}`,onScroll:b,children:n.map((x,P)=>p.jsx(rue,{delay:.1,index:P,onMouseEnter:()=>h(P),onClick:()=>{h(P),e&&e(x,P)},children:l?l(x,P,c===P):p.jsx("div",{className:`item ${c===P?"selected":""} ${s}`,children:p.jsx("p",{className:"item-text",children:x})})},P))}),t&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"top-gradient",style:{opacity:y}}),p.jsx("div",{className:"bottom-gradient",style:{opacity:_}})]})]})};function fh(n){return n==null||n===""?"--":Number(n).toLocaleString()}const oue=({metrics:n})=>{console.log("DailyChannelMetrics metrics.length:",n.length);const e=(i,r,s)=>{let o="",a="";i.date instanceof Date?(o=i.date.toLocaleDateString("en-US",{weekday:"short"}),a=i.date.toISOString().slice(0,10)):typeof i.date=="string"&&(o=new Date(i.date).toLocaleDateString("en-US",{weekday:"short"}),a=i.date);const l="#16a34a",u="#dc2626";return p.jsxs("div",{className:`flex items-center justify-between bg-white border border-gray-200 rounded-xl shadow-sm px-2 py-1 mb-2 transition-all ${s?"ring-2 ring-insta-primary":""}`,children:[p.jsx("div",{className:"w-[7%] font-medium text-gray-700",children:o}),p.jsx("div",{className:"w-[13%] text-center text-gray-700",children:a}),p.jsx("div",{className:"w-[10%] text-center font-semibold",style:{color:i.followersChange>0?l:i.followersChange<0?u:"#334155"},children:i.followersChange>0?`+${fh(i.followersChange)}`:i.followersChange<0?fh(i.followersChange):"--"}),p.jsx("div",{className:"w-[13%] text-center text-gray-700",children:fh(i.followersTotal)}),p.jsx("div",{className:"w-[10%] text-center font-semibold",style:{color:i.followingChange>0?l:i.followingChange<0?u:"#64748b"},children:i.followingChange>0?`+${i.followingChange}`:i.followingChange<0?i.followingChange:"--"}),p.jsx("div",{className:"w-[13%] text-center text-gray-700",children:fh(i.followingTotal)}),p.jsx("div",{className:"w-[10%] text-center font-semibold",style:{color:i.mediaChange>0?l:i.mediaChange<0?u:"#64748b"},children:i.mediaChange>0?`+${i.mediaChange}`:i.mediaChange<0?i.mediaChange:"--"}),p.jsx("div",{className:"w-[13%] text-center text-gray-700",children:fh(i.mediaTotal)})]})};function t(){if(!n.length)return;const i=["Day","Date","Followers","Followers Total","Following","Following Total","Media","Media Total"],r=n.map(u=>{let c="",h="";return u.date instanceof Date?(c=u.date.toLocaleDateString("en-US",{weekday:"short"}),h=u.date.toISOString().slice(0,10)):typeof u.date=="string"&&(c=new Date(u.date).toLocaleDateString("en-US",{weekday:"short"}),h=u.date),[c,h,u.followersChange,u.followersTotal,u.followingChange,u.followingTotal,u.mediaChange,u.mediaTotal].join(",")}),s=[i.join(","),...r].join(`
`),o=new Blob([s],{type:"text/csv"}),a=URL.createObjectURL(o),l=document.createElement("a");l.href=a,l.download="daily_channel_metrics.csv",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a)}return p.jsxs("div",{className:"mb-8",children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("h3",{className:"text-lg font-bold",children:"Daily Channel Metrics"}),p.jsxs("button",{onClick:t,className:"flex items-center gap-1 px-2 py-1 border border-blue-500 text-blue-600 font-semibold text-xs rounded hover:bg-blue-50 transition-colors min-w-0",children:[p.jsx(u6,{className:"w-3 h-3 mr-1"}),"Download as CSV"]})]}),p.jsx("div",{className:"bg-gray-50 rounded-2xl p-2",children:p.jsx("div",{className:"overflow-x-auto",children:p.jsx("div",{className:"daily-metrics-container",children:p.jsxs("div",{className:"metrics-min-width",style:{minWidth:800,fontSize:"13px"},children:[p.jsxs("div",{className:"flex items-center justify-between px-2 py-1 mb-2 rounded-xl",style:{background:"linear-gradient(90deg, #f9ce34, #ee2a7b, #6228d7)",color:"white",fontWeight:600,fontSize:"13px"},children:[p.jsx("div",{className:"w-[7%]",children:"Day"}),p.jsx("div",{className:"w-[13%] text-center",children:"Date"}),p.jsx("div",{className:"w-[10%] text-center",children:"Followers"}),p.jsx("div",{className:"w-[13%] text-center",children:"Followers Total"}),p.jsx("div",{className:"w-[10%] text-center",children:"Following"}),p.jsx("div",{className:"w-[13%] text-center",children:"Following Total"}),p.jsx("div",{className:"w-[10%] text-center",children:"Media"}),p.jsx("div",{className:"w-[13%] text-center",children:"Media Total"})]}),p.jsx(sue,{items:n,renderItem:(i,r,s)=>e(i,r,s),showGradients:!0,enableArrowNavigation:!0,displayScrollbar:!0,className:"w-full"})]})})})})]})};class Ye{constructor(e){Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=e}get value(){return this._value/100}get percent(){return this._value}toString(){return""+this._value+"%"}interpolate(e,t){return e+this.value*(t-e)}static normalize(e,t,i){return e instanceof Ye?e:t===i?new Ye(0):new Ye(Math.min(Math.max((e-t)*(1/(i-t)),0),1)*100)}}function vr(n){return new Ye(n)}vr(0);const de=vr(100),ot=vr(50);function _D(n){return n instanceof Ye}function Qs(n){return Number(n)!==n}function aue(n){return{}.toString.call(n)}function hi(n){if(n!=null&&!Y(n)){let e=Number(n);return Qs(e)&&Sl(n)&&n!=""&&n.match(/[0-9]+/)?hi(n.replace(/[^0-9.\-]+/g,"")):e}return n}function lue(n){if(ix(n))return new Date(n);if(Y(n))return new Date(n);{let e=Number(n);return Y(e)?new Date(e):new Date(n)}}function uue(n){if(Qs(n))return"NaN";if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(n===0&&1/n===-1/0)return"-0";let e=n<0;n=Math.abs(n);let t=/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+n),i=t[1],r=t[2]||"",s;if(t[3]===void 0)s=r===""?i:i+"."+r;else{let o=+t[3];if(n<1){let a=o-1;s="0."+wD("0",a)+i+r}else{let a=o-r.length;a===0?s=i+r:a<0?s=i+r.slice(0,a)+"."+r.slice(a):s=i+r+wD("0",a)}}return e?"-"+s:s}function wD(n,e){return new Array(e+1).join(n)}function ix(n){return aue(n)==="[object Date]"}function Sl(n){return typeof n=="string"}function Y(n){return typeof n=="number"&&Number(n)==n}function $c(n){return typeof n=="object"&&n!==null}function cue(n){return Array.isArray(n)}const ya="____",_u="____";function Qd(n,e){const t=n.length;for(let i=0;i<t;++i)if(n[i]===e)return i;return-1}function hue(n,e){const t=n.length;for(let i=0;i<t;++i)if(e(n[i]))return!0;return!1}function rx(n,e){const t=n.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=e(n[r],r);return i}function W(n,e){const t=n.length;for(let i=0;i<t;++i)e(n[i],i)}function ed(n,e){let t=n.length;for(;t>0;)--t,e(n[t],t)}function BE(n,e){const t=n.length;for(let i=0;i<t&&e(n[i],i);++i);}function Xi(n,e){let t=!1,i=0;for(;;){if(i=n.indexOf(e,i),i===-1)return t;t=!0,n.splice(i,1)}}function kn(n,e){let t=n.indexOf(e);return t!==-1?(n.splice(t,1),!0):!1}function sx(n,e,t){let i=Qd(n,e);i!==-1&&ax(n,i),n.push(e)}function Zd(n,e){n.indexOf(e)===-1&&n.push(e)}function ox(n){const e=n.length,t=new Array(e);for(let i=0;i<e;++i)t[i]=n[i];return t}function Ab(n,e,t){n.splice(e,0,t)}function ax(n,e){n.splice(e,1)}function _B(n,e){const t=n.length;for(let i=0;i<t;++i)if(e(n[i],i))return i;return-1}function due(n,e){let t=n.length;for(;t>0;)if(--t,e(n[t],t))return t;return-1}function wB(n,e){const t=_B(n,e);if(t!==-1)return n[t]}function fue(n,e){const t=due(n,e);if(t!==-1)return n[t]}function lx(n,e){let t=0,i=n.length,r=!1;for(;t<i;){const s=t+i>>1,o=e(n[s]);o<0?t=s+1:o===0?(r=!0,t=s+1):i=s}return{found:r,index:r?t-1:t}}function xB(n,e){let t=0,i=n.length,r=!1;for(;t<i;){const s=t+i>>1,o=e(n[s]);o<0?t=s+1:(o===0&&(r=!0),i=s)}return{found:r,index:t}}function $v(n,e){let t=n.length;for(;t>0;)--t,e(n[t])||n.splice(t,1)}function en(n){return Object.keys(n)}function pue(n,e){return en(n).sort(e)}function Za(n){return Object.assign({},n)}function Ze(n,e){en(n).forEach(t=>{e(t,n[t])})}function mue(n,e){for(let t in n)if(gue(n,t)&&!e(t,n[t]))break}function gue(n,e){return{}.hasOwnProperty.call(n,e)}class UE{constructor(){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class on{constructor(e){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dispose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1,this._dispose=e}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class yue extends UE{constructor(){super(...arguments),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_dispose(){W(this._disposers,e=>{e.dispose()})}}class fi extends UE{constructor(e){super(),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposers=e}_dispose(){W(this._disposers,e=>{e.dispose()})}get disposers(){return this._disposers}}class TB extends on{constructor(){super(...arguments),Object.defineProperty(this,"_counter",{enumerable:!0,configurable:!0,writable:!0,value:0})}increment(){return++this._counter,new on(()=>{--this._counter,this._counter===0&&this.dispose()})}}function vue(n){n.parentNode&&n.parentNode.removeChild(n)}function St(n,e,t,i){return n.addEventListener(e,t,i||!1),new on(()=>{n.removeEventListener(e,t,i||!1)})}function EB(n){return St(window,"resize",e=>{n()})}function Ns(n){switch(n){case"touchevents":return window.hasOwnProperty("TouchEvent");case"pointerevents":return window.hasOwnProperty("PointerEvent");case"mouseevents":return window.hasOwnProperty("MouseEvent");case"wheelevents":return window.hasOwnProperty("WheelEvent");case"keyboardevents":return window.hasOwnProperty("KeyboardEvent")}return!1}function kb(n){return n.pointerId||0}function bue(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{let n=document.createElement("button");n.style.position="fixed",n.style.top="0px",n.style.left="-10000px",document.body.appendChild(n),n.focus(),n.blur(),document.body.removeChild(n)}}function _ue(n){n&&n.focus()}function ux(n){if(Ns("pointerevents"))return n;if(Ns("touchevents"))switch(n){case"pointerover":return"touchstart";case"pointerout":return"touchend";case"pointerleave":return"touchend";case"pointerdown":return"touchstart";case"pointermove":return"touchmove";case"pointerup":return"touchend";case"click":return"click";case"dblclick":return"dblclick"}else if(Ns("mouseevents"))switch(n){case"pointerover":return"mouseover";case"pointerout":return"mouseout";case"pointerleave":return"mouseleave";case"pointerdown":return"mousedown";case"pointermove":return"mousemove";case"pointerup":return"mouseup";case"click":return"click";case"dblclick":return"dblclick"}return n}function cx(n){if(typeof Touch<"u"&&n instanceof Touch)return!0;if(typeof PointerEvent<"u"&&n instanceof PointerEvent&&n.pointerType!=null)switch(n.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(n instanceof MouseEvent)}else if(n.type!=null&&n.type.match(/^mouse/))return!1;return!0}function Zp(n,e,t){n.style[e]=t}function wue(n,e){return n.style[e]}function PB(n){if(n.composedPath){const e=n.composedPath();return e.length===0?null:e[0]}else return n.target}function xue(n,e){let t=e;for(;;){if(n===t)return!0;if(t.parentNode===null){if(t.host==null)return!1;t=t.host}else t=t.parentNode}}function $E(n,e){return n.target&&xue(e.root.dom,n.target)}function eu(n,e){e?n.style.pointerEvents="auto":n.style.pointerEvents="none"}function kh(n){if(n.key!==void 0)return n.key;switch(n.keyCode){case 9:return"Tab";case 13:return"Enter";case 16:return"Shift";case 17:return"Control";case 27:return"Escape";case 32:return" ";case 37:return"ArrowLeft";case 38:return"ArrowUp";case 39:return"ArrowRight";case 40:return"ArrowDown";case 46:return"Delete"}return""+n.keyCode}function Tue(){return/apple/i.test(navigator.vendor)&&"ontouchend"in document}function Eue(){return Tue()?1:void 0}function zn(n,e){return Y(n)?n:n!=null&&Y(n.value)&&Y(e)?e*n.value:0}function SB(n){let e=(""+n).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}function Bt(n,e=0,t="0"){return typeof n!="string"&&(n=n.toString()),e>n.length?Array(e-n.length+1).join(t)+n:n}function Pue(n){return n.replace(/^[\s]*/,"")}function Sue(n){return n.replace(/[\s]*$/,"")}function ju(n){return Pue(Sue(n))}function Cue(n,e,t=!1,i="..."){if(n.length>e){let r=e-1;for(;r>=0&&n.charAt(r).match(/\w/);)r--;return r>=0&&t==!1?n.substring(0,r+1)+"...":n.substring(0,e)+i}else return n}function zE(n){return n.replace(/\/(date|number|duration)$/i,"")}function xD(n){return n&&n.replace(/<[^>]*>/g,"")}function TD(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function Aue(n){const e=/[\u0590-\u05FF\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]/,t=/([^]*[])/gi;let i=n.split(/(\s+)/),r=[];return i.forEach(s=>{if(s.match(/^\s+$/))(s=" ")&&(s="  "),r.push(s);else if(e.test(s)){let o=s.split(t).filter(a=>a!=="");r=r.concat(o)}else r=r.concat([...s])}),r}function ED(n,e=!1){const t=new Date(n.getFullYear(),0,0),i=n.getTime()-t.getTime()+(t.getTimezoneOffset()-n.getTimezoneOffset())*60*1e3,r=1e3*60*60*24;return Math.floor(i/r)}function ty(n,e=!1){const t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())),i=t.getUTCDay()||7;t.setUTCDate(t.getUTCDate()+4-i);const r=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t.getTime()-r.getTime())/864e5+1)/7)}function kue(n,e=!1){const t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())),i=t.getUTCDay()||7;return t.setUTCDate(t.getUTCDate()+4-i),new Date(Date.UTC(t.getUTCFullYear(),0,1)).getFullYear()}function Iue(n,e=!1){const t=ty(new Date(n.getFullYear(),n.getMonth(),1),e);let i=ty(n,e);return i==1&&(i=53),i-t+1}function Due(n,e,t=1,i=!1){let r=new Date(e,0,4,0,0,0,0);return i&&r.setUTCFullYear(e),n*7+t-((r.getDay()||7)+3)}function Jp(n,e){return n>12?n-=12:n===0&&(n=12),e!=null?n+(e-1):n}function em(n,e=!1,t=!1,i=!1,r){if(i)return e?"Coordinated Universal Time":"UTC";if(r){const a=n.toLocaleString("en-US",{timeZone:r}),l=n.toLocaleString("en-US",{timeZone:r,timeZoneName:e?"long":"short"});return ju(l.substr(a.length))}let s=n.toLocaleString("UTC"),o=n.toLocaleString("UTC",{timeZoneName:e?"long":"short"}).substr(s.length);return t===!1&&(o=o.replace(/ (standard|daylight|summer|winter) /i," ")),ju(o)}function Rue(n,e){const t=e||new Date(Date.UTC(2012,0,1,0,0,0,0)),i=new Date(t.toLocaleString("en-US",{timeZone:"UTC"}));return(new Date(t.toLocaleString("en-US",{timeZone:n})).getTime()-i.getTime())/6e4*-1}function PD(n){return n.charAt(0).toUpperCase()+n.slice(1)}function CB(n){let e,t,i,r=n.h,s=n.s,o=n.l;if(s==0)e=t=i=o;else{let a=function(h,d,f){return f<0&&(f+=1),f>1&&(f-=1),f<.16666666666666666?h+(d-h)*6*f:f<.5?d:f<.6666666666666666?h+(d-h)*(.6666666666666666-f)*6:h},l=o<.5?o*(1+s):o+s-o*s,u=2*o-l;e=a(u,l,r+1/3),t=a(u,l,r),i=a(u,l,r-1/3)}return{r:Math.round(e*255),g:Math.round(t*255),b:Math.round(i*255)}}function AB(n){let e=n.r/255,t=n.g/255,i=n.b/255,r=Math.max(e,t,i),s=Math.min(e,t,i),o=0,a=0,l=(r+s)/2;if(r===s)o=a=0;else{let u=r-s;switch(a=l>.5?u/(2-r-s):u/(r+s),r){case e:o=(t-i)/u+(t<i?6:0);break;case t:o=(i-e)/u+2;break;case i:o=(e-t)/u+4;break}o/=6}return{h:o,s:a,l}}function Mue(n,e){return n&&{r:Math.max(0,Math.min(255,n.r+Fm(n.r,e))),g:Math.max(0,Math.min(255,n.g+Fm(n.g,e))),b:Math.max(0,Math.min(255,n.b+Fm(n.b,e))),a:n.a}}function Fm(n,e){let t=e>0?255-n:n;return Math.round(t*e)}function Nue(n,e){if(n){let t=Math.min(Math.max(n.r,n.g,n.b),230),i=Fm(t,e);return{r:Math.max(0,Math.min(255,Math.round(n.r+i))),g:Math.max(0,Math.min(255,Math.round(n.g+i))),b:Math.max(0,Math.min(255,Math.round(n.b+i))),a:n.a}}else return n}function SD(n){return(n.r*299+n.g*587+n.b*114)/1e3>=128}function Oue(n,e){if(n===void 0||e==1)return n;let t=AB(n);return t.s=e,CB(t)}function jue(n,e={r:255,g:255,b:255},t={r:255,g:255,b:255}){let i=e,r=t;return SD(t)&&(i=t,r=e),SD(n)?r:i}function Ct(n,e){return n||(n=[]),[...n,...e].filter((t,i,r)=>r.indexOf(t)===i)}function kB(n,e){return!(!e||n.left!=e.left||n.right!=e.right||n.top!=e.top||n.bottom!=e.bottom)}function IB(n){return n[0]==="#"&&(n=n.substr(1)),n.length==3&&(n=n[0].repeat(2)+n[1].repeat(2)+n[2].repeat(2)),parseInt(n,16)}function Lue(n){n=n.replace(/[ ]/g,"");let e=n.match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(e)e.push("1");else if(e=n.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i),!e)return 0;let t="";for(let i=1;i<=3;i++){let r=parseInt(e[i]).toString(16);r.length==1&&(r="0"+r),t+=r}return IB(t)}function Yr(n){return _e.fromAny(n)}class _e{constructor(e){Object.defineProperty(this,"_hex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._hex=e|0}get hex(){return this._hex}get r(){return this._hex>>>16}get g(){return this._hex>>8&255}get b(){return this._hex&255}toCSS(e=1){return"rgba("+this.r+", "+this.g+", "+this.b+", "+e+")"}toCSSHex(){return"#"+Bt(this.r.toString(16),2)+Bt(this.g.toString(16),2)+Bt(this.b.toString(16),2)}toHSL(e=1){return AB({r:this.r,g:this.g,b:this.b,a:e})}static fromHSL(e,t,i){const r=CB({h:e,s:t,l:i});return this.fromRGB(r.r,r.g,r.b)}toString(){return this.toCSSHex()}static fromHex(e){return new _e(e)}static fromRGB(e,t,i){return new _e((i|0)+(t<<8)+(e<<16))}static fromString(e){return new _e(IB(e))}static fromCSS(e){return new _e(Lue(e))}static fromAny(e){if(Sl(e)){if(e[0]=="#")return _e.fromString(e);if(e.substr(0,3)=="rgb")return _e.fromCSS(e)}else{if(Y(e))return _e.fromHex(e);if(e instanceof _e)return _e.fromHex(e.hex)}throw new Error("Unknown color syntax: "+e)}static alternative(e,t,i){const r=jue({r:e.r,g:e.g,b:e.b},t?{r:t.r,g:t.g,b:t.b}:void 0,i?{r:i.r,g:i.g,b:i.b}:void 0);return this.fromRGB(r.r,r.g,r.b)}static interpolate(e,t,i,r="rgb"){if(r=="hsl"){const s=t.toHSL(),o=i.toHSL();return _e.fromHSL(wo(e,s.h,o.h),wo(e,s.s,o.s),wo(e,s.l,o.l))}else return _e.fromRGB(wo(e,t.r,i.r),wo(e,t.g,i.g),wo(e,t.b,i.b))}static lighten(e,t){const i=Mue({r:e.r,g:e.g,b:e.b},t);return _e.fromRGB(i.r,i.g,i.b)}static brighten(e,t){const i=Nue({r:e.r,g:e.g,b:e.b},t);return _e.fromRGB(i.r,i.g,i.b)}static saturate(e,t){const i=Oue({r:e.r,g:e.g,b:e.b},t);return _e.fromRGB(i.r,i.g,i.b)}}class zc{constructor(){Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_killed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_iterating",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_enabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}isDisposed(){return this._disposed}dispose(){if(!this._disposed){this._disposed=!0;const e=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{W(e,t=>{t.disposer.dispose()})}finally{this._killed=null,this._iterating=null}}}hasListeners(){return this._listeners.length!==0}hasListenersByType(e){return hue(this._listeners,t=>(t.type===null||t.type===e)&&!t.killed)}enable(){this._enabled=!0}disable(){this._enabled=!1}enableType(e){delete this._disabled[e]}disableType(e,t=1/0){this._disabled[e]=t}_removeListener(e){if(this._iterating===0){const t=this._listeners.indexOf(e);if(t===-1)throw new Error("Invalid state: could not remove listener");this._listeners.splice(t,1)}else this._killed.push(e)}_removeExistingListener(e,t,i,r){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(s=>{s.once===e&&s.type===t&&(i===void 0||s.callback===i)&&s.context===r&&s.disposer.dispose()})}isEnabled(e){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(e)&&this._disabled[e]===void 0}removeType(e){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(t=>{t.type===e&&t.disposer.dispose()})}has(e,t,i){return _B(this._listeners,s=>s.once!==!0&&s.type===e&&(t===void 0||s.callback===t)&&s.context===i)!==-1}_shouldDispatch(e){if(this._disposed)throw new Error("EventDispatcher is disposed");const t=this._disabled[e];return Y(t)?(t<=1?delete this._disabled[e]:--this._disabled[e],!1):this._enabled}_eachListener(e){++this._iterating;try{W(this._listeners,e)}finally{--this._iterating,this._iterating===0&&this._killed.length!==0&&(W(this._killed,t=>{this._removeListener(t)}),this._killed.length=0)}}dispatch(e,t){this._shouldDispatch(e)&&this._eachListener(i=>{!i.killed&&(i.type===null||i.type===e)&&i.dispatch(e,t)})}_on(e,t,i,r,s,o){if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(e,t,i,r);const a={type:t,callback:i,context:r,shouldClone:s,dispatch:o,killed:!1,once:e,disposer:new on(()=>{a.killed=!0,this._removeListener(a)})};return this._listeners.push(a),a}onAll(e,t,i=!0){return this._on(!1,null,e,t,i,(r,s)=>e.call(t,s)).disposer}on(e,t,i,r=!0){return this._on(!1,e,t,i,r,(s,o)=>t.call(i,o)).disposer}once(e,t,i,r=!0){const s=this._on(!0,e,t,i,r,(o,a)=>{s.disposer.dispose(),t.call(i,a)});return s.disposer}off(e,t,i){this._removeExistingListener(!1,e,t,i)}copyFrom(e){if(this._disposed)throw new Error("EventDispatcher is disposed");if(e===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");const t=[];return W(e._listeners,i=>{!i.killed&&i.shouldClone&&(i.type===null?t.push(this.onAll(i.callback,i.context)):i.once?t.push(this.once(i.type,i.callback,i.context)):t.push(this.on(i.type,i.callback,i.context)))}),new fi(t)}}function CD(n){return mi(this,void 0,void 0,function*(){if(n!==void 0){const e=[];Ze(n,(t,i)=>{e.push(i.waitForStop())}),yield Promise.all(e)}})}function wo(n,e,t){return e+n*(t-e)}function Fue(n,e,t){return n>=1?t:e}function DB(n,e,t){return new Ye(wo(n,e.percent,t.percent))}function Vue(n,e,t){return _e.interpolate(n,e,t)}function Bue(n,e){return typeof n=="number"&&typeof e=="number"?wo:n instanceof Ye&&e instanceof Ye?DB:n instanceof _e&&e instanceof _e?Vue:Fue}var ul;(function(n){n[n.Stopped=0]="Stopped",n[n.Playing=1]="Playing",n[n.Paused=2]="Paused"})(ul||(ul={}));function ph(n,e){if(!(n>=0&&n<e))throw new Error("Index out of bounds: "+n)}let Hc=class{constructor(e=[]){Object.defineProperty(this,"_values",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new zc}),this._values=e}get values(){return this._values}contains(e){return this._values.indexOf(e)!==-1}removeValue(e){let t=0,i=this._values.length;for(;t<i;)this._values[t]===e?(this.removeIndex(t),--i):++t}indexOf(e){return Qd(this._values,e)}get length(){return this._values.length}hasIndex(e){return e>=0&&e<this._values.length}getIndex(e){return this._values[e]}_onPush(e){this.events.isEnabled("push")&&this.events.dispatch("push",{type:"push",target:this,newValue:e})}_onInsertIndex(e,t){this.events.isEnabled("insertIndex")&&this.events.dispatch("insertIndex",{type:"insertIndex",target:this,index:e,newValue:t})}_onSetIndex(e,t,i){this.events.isEnabled("setIndex")&&this.events.dispatch("setIndex",{type:"setIndex",target:this,index:e,oldValue:t,newValue:i})}_onSwap(e,t){this.events.isEnabled("swap")&&this.events.dispatch("swap",{type:"swap",target:this,a:e,b:t})}_onRemoveIndex(e,t){this.events.isEnabled("removeIndex")&&this.events.dispatch("removeIndex",{type:"removeIndex",target:this,index:e,oldValue:t})}_onMoveIndex(e,t,i){this.events.isEnabled("moveIndex")&&this.events.dispatch("moveIndex",{type:"moveIndex",target:this,oldIndex:e,newIndex:t,value:i})}_onClear(e){this.events.isEnabled("clear")&&this.events.dispatch("clear",{type:"clear",target:this,oldValues:e})}setIndex(e,t){ph(e,this._values.length);const i=this._values[e];return i!==t&&(this._values[e]=t,this._onSetIndex(e,i,t)),i}insertIndex(e,t){return ph(e,this._values.length+1),Ab(this._values,e,t),this._onInsertIndex(e,t),t}swap(e,t){const i=this._values.length;if(ph(e,i),ph(t,i),e!==t){const r=this._values[e],s=this._values[t];this._values[e]=s,this._values[t]=r,this._onSwap(r,s)}}removeIndex(e){ph(e,this._values.length);const t=this._values[e];return ax(this._values,e),this._onRemoveIndex(e,t),t}moveValue(e,t){let i=this.indexOf(e);if(i!==-1)if(ax(this._values,i),t==null){const r=this._values.length;this._values.push(e),this._onMoveIndex(i,r,e)}else Ab(this._values,t,e),this._onMoveIndex(i,t,e);else t==null?(this._values.push(e),this._onPush(e)):(Ab(this._values,t,e),this._onInsertIndex(t,e));return e}push(e){return this._values.push(e),this._onPush(e),e}unshift(e){return this.insertIndex(0,e),e}pushAll(e){W(e,t=>{this.push(t)})}copyFrom(e){this.pushAll(e._values)}pop(){return this._values.length-1<0?void 0:this.removeIndex(this._values.length-1)}shift(){return this._values.length?this.removeIndex(0):void 0}setAll(e){const t=this._values;this._values=[],this._onClear(t),W(e,i=>{this._values.push(i),this._onPush(i)})}clear(){this.setAll([])}*[Symbol.iterator](){const e=this._values.length;for(let t=0;t<e;++t)yield this._values[t]}each(e){W(this._values,e)}eachReverse(e){ed(this._values,e)}};class ny extends Hc{constructor(){super(...arguments),Object.defineProperty(this,"autoDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}swap(e,t){const i=this.autoDispose;this.autoDispose=!1,super.swap(e,t),this.autoDispose=i}_onSetIndex(e,t,i){this.autoDispose&&t.dispose(),super._onSetIndex(e,t,i)}_onRemoveIndex(e,t){this.autoDispose&&t.dispose(),super._onRemoveIndex(e,t)}_onClear(e){this.autoDispose&&W(e,t=>{t.dispose()}),super._onClear(e)}_dispose(){this.autoDispose&&W(this._values,e=>{e.dispose()})}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class Fo extends ny{constructor(e,t){super(),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"make",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.template=e,this.make=t}_dispose(){super._dispose(),this.autoDispose&&this.template.dispose()}}class Uue extends Hc{constructor(e){super(),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._container=e,this._events=this.events.onAll(t=>{if(t.type==="clear")W(t.oldValues,i=>{this._onRemoved(i)});else if(t.type==="push")this._onInserted(t.newValue);else if(t.type==="setIndex")this._onRemoved(t.oldValue),this._onInserted(t.newValue,t.index);else if(t.type==="insertIndex")this._onInserted(t.newValue,t.index);else if(t.type==="removeIndex")this._onRemoved(t.oldValue);else if(t.type==="moveIndex")this._onRemoved(t.value),this._onInserted(t.value,t.newIndex);else throw new Error("Unknown IListEvent type")})}_onInserted(e,t){e._setParent(this._container,!0);const i=this._container._childrenDisplay;t===void 0?i.addChild(e._display):i.addChildAt(e._display,t)}_onRemoved(e){this._container._childrenDisplay.removeChild(e._display),this._container.markDirtyBounds(),this._container.markDirty()}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._events.dispose(),W(this.values,e=>{e.dispose()}))}}const RB=Math.PI,MB=RB/180,td=180/RB;function $t(n,e,t){if(!Y(e)||e<=0)return Math.round(n);{let i=Math.pow(10,e);return Math.round(n*i)/i}}function $ue(n,e){if(!Y(e)||e<=0)return Math.ceil(n);{let t=Math.pow(10,e);return Math.ceil(n*t)/t}}function zt(n,e,t){return Math.min(Math.max(n,e),t)}function hx(n){return Math.sin(MB*n)}function dx(n){return Math.cos(MB*n)}function zue(n){return n=n%360,n<0&&(n+=360),n}function Hue(n,e,t,i,r){let s=Number.MAX_VALUE,o=Number.MAX_VALUE,a=-Number.MAX_VALUE,l=-Number.MAX_VALUE,u=[];u.push(Ib(r,t)),u.push(Ib(r,i));let c=Math.min(Math.floor(t/90)*90,Math.floor(i/90)*90),h=Math.max(Math.ceil(t/90)*90,Math.ceil(i/90)*90);for(let d=c;d<=h;d+=90)d>=t&&d<=i&&u.push(Ib(r,d));for(let d=0;d<u.length;d++){let f=u[d];f.x<s&&(s=f.x),f.y<o&&(o=f.y),f.x>a&&(a=f.x),f.y>l&&(l=f.y)}return{left:n+s,top:e+o,right:n+a,bottom:e+l}}function Ib(n,e){return{x:n*dx(e),y:n*hx(e)}}function Wue(n,e){return n.x>=e.left&&n.y>=e.top&&n.x<=e.right&&n.y<=e.bottom}function AD(n){return n}function Fa(n){return n*n*n}function Kl(n){return function(e){return 1-n(1-e)}}class Gue{constructor(e,t){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_userSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=e,this._settings=t,Ze(t,i=>{this._userSettings[i]=!0})}get(e,t){const i=this._settings[e];return i!==void 0?i:t}setRaw(e,t){this._settings[e]=t}set(e,t){this._userSettings[e]=!0,this.setRaw(e,t)}remove(e){delete this._userSettings[e],delete this._settings[e]}setAll(e){en(e).forEach(t=>{this.set(t,e[t])})}_eachSetting(e){Ze(this._settings,e)}apply(){const e={};e.stateAnimationEasing=!0,e.stateAnimationDuration=!0;const t=this._entity.states.lookup("default");this._eachSetting((i,r)=>{e[i]||(e[i]=!0,this!==t&&(i in t._settings||(t._settings[i]=this._entity.get(i))),this._entity.set(i,r))})}applyAnimate(e){e==null&&(e=this._settings.stateAnimationDuration),e==null&&(e=this.get("stateAnimationDuration",this._entity.get("stateAnimationDuration",0)));let t=this._settings.stateAnimationEasing;t==null&&(t=this.get("stateAnimationEasing",this._entity.get("stateAnimationEasing",Fa)));const i=this._entity.states.lookup("default"),r={};r.stateAnimationEasing=!0,r.stateAnimationDuration=!0;const s={};return this._eachSetting((o,a)=>{if(!r[o]){r[o]=!0,this!=i&&(o in i._settings||(i._settings[o]=this._entity.get(o)));const l=this._entity.animate({key:o,to:a,duration:e,easing:t});l&&(s[o]=l)}}),s}}class Yue{constructor(e){Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._entity=e}lookup(e){return this._states[e]}create(e,t){const i=this._states[e];if(i)return i.setAll(t),i;{const r=new Gue(this._entity,t);return this._states[e]=r,r}}remove(e){delete this._states[e]}apply(e){const t=this._states[e];t&&t.apply(),this._entity._applyState(e)}applyAnimate(e,t){let i;const r=this._states[e];return r&&(i=r.applyAnimate(t)),this._entity._applyStateAnimated(e,t),i}}class Xue{constructor(){Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.13.3"}),Object.defineProperty(this,"licenses",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"entitiesById",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"rootElements",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}const Co=new Xue;function rs(n,e){return n===e?0:n<e?-1:1}function NB(n,e,t){const i=n.length,r=e.length,s=Math.min(i,r);for(let o=0;o<s;++o){const a=t(n[o],e[o]);if(a!==0)return a}return rs(i,r)}function kD(n,e){return n===e?0:n<e?-1:1}class Kue{constructor(e){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=e}add(e,t){let i=this._callbacks[e];return i===void 0&&(i=this._callbacks[e]=[]),i.push(t),this._entity._markDirtyKey(e),new on(()=>{kn(i,t)&&this._entity._markDirtyKey(e)})}remove(e){const t=this._callbacks[e];t!==void 0&&(delete this._callbacks[e],t.length!==0&&this._entity._markDirtyKey(e))}enable(e){this._disabled[e]&&(delete this._disabled[e],this._entity._markDirtyKey(e))}disable(e){this._disabled[e]||(this._disabled[e]=!0,this._entity._markDirtyKey(e))}fold(e,t){if(!this._disabled[e]){const i=this._callbacks[e];if(i!==void 0)for(let r=0,s=i.length;r<s;++r)t=i[r](t,this._entity,e)}return t}}class tm{constructor(e,t,i,r,s,o,a){Object.defineProperty(this,"_animation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_from",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_to",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_duration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_easing",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_loops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_interpolate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_oldTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_time",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_stopped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_playing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new zc}),this._animation=e,this._from=t,this._to=i,this._duration=r,this._easing=s,this._loops=o,this._interpolate=Bue(t,i),this._oldTime=a}get to(){return this._to}get from(){return this._from}get playing(){return this._playing}get stopped(){return this._stopped}stop(){this._stopped||(this._stopped=!0,this._playing=!1,this.events.isEnabled("stopped")&&this.events.dispatch("stopped",{type:"stopped",target:this}))}pause(){this._playing=!1,this._oldTime=null}play(){!this._stopped&&!this._playing&&(this._playing=!0,this._animation._startAnimation())}get percentage(){return this._time/this._duration}waitForStop(){return new Promise((e,t)=>{if(this._stopped)e();else{const i=()=>{r.dispose(),e()},r=this.events.on("stopped",i)}})}_checkEnded(){return this._loops>1?(--this._loops,!1):!0}_run(e){this._oldTime!==null&&(this._time+=e-this._oldTime,this._time>this._duration&&(this._time=this._duration)),this._oldTime=e}_reset(e){this._oldTime=e,this._time=0}_value(e){return this._interpolate(this._easing(e),this._from,this._to)}}let que=0;class OB{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:++que}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_userProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"enableDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this._settings=e}_checkDirty(){en(this._settings).forEach(e=>{this._userProperties[e]=!0,this._markDirtyKey(e)})}resetUserSettings(){this._userProperties={}}_runAnimation(e){let t=ul.Stopped;if(!this.isDisposed()){let i=!1,r=!1;Ze(this._animatingSettings,(s,o)=>{if(o.stopped)this._stopAnimation(s);else if(o.playing){o._run(e);const a=o.percentage;a>=1?o._checkEnded()?this.set(s,o._value(1)):(i=!0,o._reset(e),this._set(s,o._value(1))):(i=!0,this._set(s,o._value(a)))}else r=!0}),Ze(this._animatingPrivateSettings,(s,o)=>{if(o.stopped)this._stopAnimationPrivate(s);else if(o.playing){o._run(e);const a=o.percentage;a>=1?o._checkEnded()?this.setPrivate(s,o._value(1)):(i=!0,o._reset(e),this._setPrivate(s,o._value(1))):(i=!0,this._setPrivate(s,o._value(a)))}else r=!0}),i?t=ul.Playing:r&&(t=ul.Paused)}return t}_markDirtyKey(e){this.markDirty()}_markDirtyPrivateKey(e){this.markDirty()}on(e,t){let i=this._settingEvents[e];return i===void 0&&(i=this._settingEvents[e]=[]),i.push(t),new on(()=>{kn(i,t),i.length===0&&delete this._settingEvents[e]})}off(e,t){let i=this._settingEvents[e];i!==void 0&&t!==void 0?kn(i,t):delete this._settingEvents[e]}onPrivate(e,t){let i=this._privateSettingEvents[e];return i===void 0&&(i=this._privateSettingEvents[e]=[]),i.push(t),new on(()=>{kn(i,t),i.length===0&&delete this._privateSettingEvents[e]})}offPrivate(e,t){let i=this._privateSettingEvents[e];i!==void 0&&t!==void 0?kn(i,t):delete this._privateSettingEvents[e]}getRaw(e,t){const i=this._settings[e];return i!==void 0?i:t}has(e){return e in this._settings}get(e,t){return this.getRaw(e,t)}_sendKeyEvent(e,t){const i=this._settingEvents[e];i!==void 0&&W(i,r=>{r(t,this,e)})}_sendPrivateKeyEvent(e,t){const i=this._privateSettingEvents[e];i!==void 0&&W(i,r=>{r(t,this,e)})}_setRaw(e,t,i){this._prevSettings[e]=t,this._sendKeyEvent(e,i)}setRaw(e,t){const i=this._settings[e];this._settings[e]=t,i!==t&&this._setRaw(e,i,t)}_set(e,t){const i=this._settings[e];this._settings[e]=t,i!==t&&(this._setRaw(e,i,t),this._markDirtyKey(e))}_stopAnimation(e){const t=this._animatingSettings[e];t&&(delete this._animatingSettings[e],t.stop())}set(e,t){return this._set(e,t),this._stopAnimation(e),t}remove(e){e in this._settings&&(this._prevSettings[e]=this._settings[e],delete this._settings[e],this._sendKeyEvent(e,void 0),this._markDirtyKey(e)),this._stopAnimation(e)}removeAll(){W(en(this._settings),e=>{this.remove(e)})}getPrivate(e,t){const i=this._privateSettings[e];return i!==void 0?i:t}_setPrivateRaw(e,t,i){this._prevPrivateSettings[e]=t,this._sendPrivateKeyEvent(e,i)}setPrivateRaw(e,t){const i=this._privateSettings[e];this._privateSettings[e]=t,i!==t&&this._setPrivateRaw(e,i,t)}_setPrivate(e,t){const i=this._privateSettings[e];this._privateSettings[e]=t,i!==t&&(this._setPrivateRaw(e,i,t),this._markDirtyPrivateKey(e))}_stopAnimationPrivate(e){const t=this._animatingPrivateSettings[e];t&&(t.stop(),delete this._animatingPrivateSettings[e])}setPrivate(e,t){return this._setPrivate(e,t),this._stopAnimationPrivate(e),t}removePrivate(e){e in this._privateSettings&&(this._prevPrivateSettings[e]=this._privateSettings[e],delete this._privateSettings[e],this._markDirtyPrivateKey(e)),this._stopAnimationPrivate(e)}setAll(e){Ze(e,(t,i)=>{this.set(t,i)})}animate(e){const t=e.key,i=e.to,r=e.duration||0,s=e.loops||1,o=e.from===void 0?this.get(t):e.from,a=e.easing===void 0?AD:e.easing;if(r===0)this.set(t,i);else if(o===void 0||o===i)this.set(t,i);else{this.set(t,o);const u=this._animatingSettings[t]=new tm(this,o,i,r,a,s,this._animationTime());return this._startAnimation(),u}const l=new tm(this,o,i,r,a,s,null);return l.stop(),l}animatePrivate(e){const t=e.key,i=e.to,r=e.duration||0,s=e.loops||1,o=e.from===void 0?this.getPrivate(t):e.from,a=e.easing===void 0?AD:e.easing;if(r===0)this.setPrivate(t,i);else if(o===void 0||o===i)this.setPrivate(t,i);else{this.setPrivate(t,o);const u=this._animatingPrivateSettings[t]=new tm(this,o,i,r,a,s,this._animationTime());return this._startAnimation(),u}const l=new tm(this,o,i,r,a,s,null);return l.stop(),l}_dispose(){}isDisposed(){return this._disposed}dispose(){this.enableDispose&&!this._disposed&&(this._disposed=!0,this._dispose())}}class cn extends OB{constructor(e,t,i,r=[]){if(super(t),Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_user_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new Yue(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new Kue(this)}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:this._createEvents()}),Object.defineProperty(this,"_userPrivateProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPrivate",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templates",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_internalTemplates",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_defaultThemes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_templateDisposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_runSetup",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposerProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._root=e,this._internalTemplates=r,t.id&&this._registerId(t.id)}static new(e,t,i){const r=new this(e,t,!0);return r._template=i,r._afterNew(),r}static _new(e,t,i=[]){const r=new this(e,t,!0,i);return r._afterNew(),r}_afterNew(){this._checkDirty();let e=!1;const t=this._template;t&&(e=!0,t._setObjectTemplate(this)),W(this._internalTemplates,i=>{e=!0,i._setObjectTemplate(this)}),e&&this._applyTemplates(!1),this.states.create("default",{}),this._setDefaults()}_afterNewApplyThemes(){this._checkDirty();const e=this._template;e&&e._setObjectTemplate(this),W(this._internalTemplates,t=>{t._setObjectTemplate(this)}),this.states.create("default",{}),this._setDefaults(),this._applyThemes()}_createEvents(){return new zc}get classNames(){return this.constructor.classNames}get className(){return this.constructor.className}_setDefaults(){}_setDefaultFn(e,t){const i=this.get(e);if(i)return i;{const r=t();return this.set(e,r),r}}_setDefault(e,t){this.has(e)||super.set(e,t)}_setRawDefault(e,t){this.has(e)||super.setRaw(e,t)}_clearDirty(){en(this._dirty).forEach(e=>{this._dirty[e]=!1}),en(this._dirtyPrivate).forEach(e=>{this._dirtyPrivate[e]=!1})}isDirty(e){return!!this._dirty[e]}isPrivateDirty(e){return!!this._dirtyPrivate[e]}_markDirtyKey(e){this._dirty[e]=!0,super._markDirtyKey(e)}_markDirtyPrivateKey(e){this._dirtyPrivate[e]=!0,super._markDirtyKey(e)}isType(e){return this.classNames.indexOf(e)!==-1}_pushPropertyDisposer(e,t){let i=this._disposerProperties[e];return i===void 0&&(i=this._disposerProperties[e]=[]),i.push(t),t}_disposeProperty(e){const t=this._disposerProperties[e];t!==void 0&&(W(t,i=>{i.dispose()}),delete this._disposerProperties[e])}set template(e){const t=this._template;t!==e&&(this._template=e,t&&t._removeObjectTemplate(this),e&&e._setObjectTemplate(this),this._applyTemplates())}get template(){return this._template}markDirty(){this._root._addDirtyEntity(this)}_startAnimation(){this._root._addAnimation(this)}_animationTime(){return this._root.animationTime}_applyState(e){}_applyStateAnimated(e,t){}get(e,t){const i=this.adapters.fold(e,this._settings[e]);return i!==void 0?i:t}isUserSetting(e){return this._userProperties[e]||!1}set(e,t){return this._userProperties[e]=!0,super.set(e,t)}setRaw(e,t){this._userProperties[e]=!0,super.setRaw(e,t)}_setSoft(e,t){return this._userProperties[e]?t:super.set(e,t)}remove(e){delete this._userProperties[e],this._removeTemplateProperty(e)}setPrivate(e,t){return this._userPrivateProperties[e]=!0,super.setPrivate(e,t)}setPrivateRaw(e,t){this._userPrivateProperties[e]=!0,super.setPrivateRaw(e,t)}removePrivate(e){delete this._userPrivateProperties[e],this._removeTemplatePrivateProperty(e)}_setTemplateProperty(e,t,i){if(!this._userProperties[t]){const r=this._findTemplateByKey(t);e===r&&super.set(t,i)}}_setTemplatePrivateProperty(e,t,i){if(!this._userPrivateProperties[t]){const r=this._findTemplateByPrivateKey(t);e===r&&super.setPrivate(t,i)}}_removeTemplateProperty(e){if(!this._userProperties[e]){const t=this._findTemplateByKey(e);t?super.set(e,t._settings[e]):super.remove(e)}}_removeTemplatePrivateProperty(e){if(!this._userPrivateProperties[e]){const t=this._findTemplateByPrivateKey(e);t?super.setPrivate(e,t._privateSettings[e]):super.removePrivate(e)}}_walkParents(e){e(this._root._rootContainer),e(this)}_applyStateByKey(e){const t=this.states.create(e,{}),i={};this._eachTemplate(r=>{const s=r.states.lookup(e);s&&s._apply(t,i)}),Ze(t._settings,r=>{!i[r]&&!t._userSettings[r]&&t.remove(r)})}_applyTemplate(e,t){this._templateDisposers.push(e._apply(this,t)),Ze(e._settings,(i,r)=>{!t.settings[i]&&!this._userProperties[i]&&(t.settings[i]=!0,super.set(i,r))}),Ze(e._privateSettings,(i,r)=>{!t.privateSettings[i]&&!this._userPrivateProperties[i]&&(t.privateSettings[i]=!0,super.setPrivate(i,r))}),this._runSetup&&e.setup&&(this._runSetup=!1,e.setup(this))}_findStaticTemplate(e){if(this._template&&e(this._template))return this._template}_eachTemplate(e){this._findStaticTemplate(t=>(e(t),!1)),ed(this._internalTemplates,e),W(this._templates,e)}_applyTemplates(e=!0){e&&this._disposeTemplates();const t={settings:{},privateSettings:{},states:{}};this._eachTemplate(i=>{this._applyTemplate(i,t)}),e&&(Ze(this._settings,i=>{!this._userProperties[i]&&!t.settings[i]&&super.remove(i)}),Ze(this._privateSettings,i=>{!this._userPrivateProperties[i]&&!t.privateSettings[i]&&super.removePrivate(i)}))}_findTemplate(e){const t=this._findStaticTemplate(e);if(t===void 0){const i=fue(this._internalTemplates,e);return i===void 0?wB(this._templates,e):i}else return t}_findTemplateByKey(e){return this._findTemplate(t=>e in t._settings)}_findTemplateByPrivateKey(e){return this._findTemplate(t=>e in t._privateSettings)}_disposeTemplates(){W(this._templateDisposers,e=>{e.dispose()}),this._templateDisposers.length=0}_removeTemplates(){W(this._templates,e=>{e._removeObjectTemplate(this)}),this._templates.length=0}_applyThemes(e=!1){let t=!1;const i=[];let r=[];const s=new Set,o=this.get("themeTagsSelf");return o&&W(o,a=>{s.add(a)}),this._walkParents(a=>{a===this._root._rootContainer&&(t=!0),a._defaultThemes.length>0&&i.push(a._defaultThemes);const l=a.get("themes");l&&r.push(l);const u=a.get("themeTags");u&&W(u,c=>{s.add(c)})}),r=i.concat(r),this._removeTemplates(),(t||e)&&ed(this.classNames,a=>{const l=[];W(r,u=>{W(u,c=>{const h=c._lookupRules(a);h&&ed(h,d=>{if(d.tags.every(y=>s.has(y))){const y=xB(l,g=>{const _=rs(d.tags.length,g.tags.length);return _===0?NB(d.tags,g.tags,rs):_});l.splice(y.index,0,d)}})})}),W(l,u=>{this._templates.push(u.template),u.template._setObjectTemplate(this)})}),this._applyTemplates(),(t||e)&&(this._runSetup=!1),t||e}_changed(){}_beforeChanged(){if(this.isDirty("id")){const e=this.get("id");e&&this._registerId(e);const t=this._prevSettings.id;t&&(delete this._root.entitiesById[t],delete Co.entitiesById[t])}}_registerId(e){if(this._root.entitiesById[e]&&this._root.entitiesById[e]!==this)throw new Error('An entity with id "'+e+'" already exists.');this._root.entitiesById[e]=this,Co.entitiesById[e]=this}_afterChanged(){}addDisposer(e){return this._disposers.push(e),e}_dispose(){super._dispose();const e=this._template;e&&e._removeObjectTemplate(this),W(this._internalTemplates,i=>{i._removeObjectTemplate(this)}),this._removeTemplates(),this._disposeTemplates(),this.events.dispose(),this._disposers.forEach(i=>{i.dispose()}),Ze(this._disposerProperties,(i,r)=>{W(r,s=>{s.dispose()})});const t=this.get("id");t&&(delete this._root.entitiesById[t],delete Co.entitiesById[t])}setTimeout(e,t){const i=setTimeout(()=>{this.removeDispose(r),e()},t),r=new on(()=>{clearTimeout(i)});return this._disposers.push(r),r}removeDispose(e){if(!this.isDisposed()){let t=Qd(this._disposers,e);t>-1&&this._disposers.splice(t,1)}e.dispose()}hasTag(e){return Qd(this.get("themeTags",[]),e)!==-1}addTag(e){if(!this.hasTag(e)){const t=this.get("themeTags",[]);t.push(e),this.set("themeTags",t)}}removeTag(e){if(this.hasTag(e)){const t=this.get("themeTags",[]);Xi(t,e),this.set("themeTags",t)}}_t(e,t,...i){return this._root.language.translate(e,t,...i)}get root(){return this._root}}Object.defineProperty(cn,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Entity"});Object.defineProperty(cn,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:["Entity"]});function fx(n){Ze(n,(e,t)=>{$c(t)&&typeof t.dispose=="function"&&(t.enableDispose=!0,t.dispose())})}class Que{constructor(e,t,i){Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._name=e,this._template=t,this._settings=i}_dispose(){fx(this._settings)}get(e,t){const i=this._settings[e];return i!==void 0?i:t}set(e,t){this._settings[e]=t,this._template._stateChanged(this._name)}remove(e){delete this._settings[e],this._template._stateChanged(this._name)}setAll(e){en(e).forEach(t=>{this._settings[t]=e[t]}),this._template._stateChanged(this._name)}_apply(e,t){Ze(this._settings,(i,r)=>{!t[i]&&!e._userSettings[i]&&(t[i]=!0,e.setRaw(i,r))})}}class Zue{constructor(e){Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._template=e}_dispose(){Ze(this._states,(e,t)=>{t._dispose()})}lookup(e){return this._states[e]}create(e,t){const i=this._states[e];if(i)return i.setAll(t),i;{const r=new Que(e,this._template,t);return this._states[e]=r,this._template._stateChanged(e),r}}remove(e){delete this._states[e],this._template._stateChanged(e)}_apply(e,t){Ze(this._states,(i,r)=>{let s=t.states[i];s==null&&(s=t.states[i]={});const o=e.states.create(i,{});r._apply(o,s)})}}class Jue{constructor(){Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}})}add(e,t){let i=this._callbacks[e];return i===void 0&&(i=this._callbacks[e]=[]),i.push(t),new on(()=>{kn(i,t),i.length===0&&delete this._callbacks[e]})}remove(e){this._callbacks[e]!==void 0&&delete this._callbacks[e]}_apply(e){const t=[];return Ze(this._callbacks,(i,r)=>{W(r,s=>{t.push(e.adapters.add(i,s))})}),new fi(t)}}class Sn{constructor(e,t){if(Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entities",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new Zue(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new Jue}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new zc}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!t)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=e}static new(e){return new Sn(e,!0)}_dispose(){fx(this._settings),fx(this._privateSettings)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}_checkDisposed(){if(this._disposed)throw new Error("Template is disposed")}get entities(){return this._entities}get(e,t){this._checkDisposed();const i=this._settings[e];return i!==void 0?i:t}setRaw(e,t){this._checkDisposed(),this._settings[e]=t}set(e,t){this._checkDisposed(),this._settings[e]!==t&&(this.setRaw(e,t),this._entities.forEach(i=>{i._setTemplateProperty(this,e,t)}))}remove(e){this._checkDisposed(),e in this._settings&&(delete this._settings[e],this._entities.forEach(t=>{t._removeTemplateProperty(e)}))}removeAll(){this._checkDisposed(),Ze(this._settings,(e,t)=>{this.remove(e)})}getPrivate(e,t){this._checkDisposed();const i=this._privateSettings[e];return i!==void 0?i:t}setPrivateRaw(e,t){return this._checkDisposed(),this._privateSettings[e]=t,t}setPrivate(e,t){return this._checkDisposed(),this._privateSettings[e]!==t&&(this.setPrivateRaw(e,t),this._entities.forEach(i=>{i._setTemplatePrivateProperty(this,e,t)})),t}removePrivate(e){this._checkDisposed(),e in this._privateSettings&&(delete this._privateSettings[e],this._entities.forEach(t=>{t._removeTemplatePrivateProperty(e)}))}setAll(e){this._checkDisposed(),Ze(e,(t,i)=>{this.set(t,i)})}on(e,t){this._checkDisposed();let i=this._settingEvents[e];return i===void 0&&(i=this._settingEvents[e]=[]),i.push(t),new on(()=>{kn(i,t),i.length===0&&delete this._settingEvents[e]})}onPrivate(e,t){this._checkDisposed();let i=this._privateSettingEvents[e];return i===void 0&&(i=this._privateSettingEvents[e]=[]),i.push(t),new on(()=>{kn(i,t),i.length===0&&delete this._privateSettingEvents[e]})}_apply(e,t){this._checkDisposed();const i=[];return Ze(this._settingEvents,(r,s)=>{W(s,o=>{i.push(e.on(r,o))})}),Ze(this._privateSettingEvents,(r,s)=>{W(s,o=>{i.push(e.onPrivate(r,o))})}),this.states._apply(e,t),i.push(this.adapters._apply(e)),i.push(e.events.copyFrom(this.events)),new fi(i)}_setObjectTemplate(e){this._checkDisposed(),this._entities.push(e)}_removeObjectTemplate(e){Xi(this._entities,e)}_stateChanged(e){this._checkDisposed(),this._entities.forEach(t=>{t._applyStateByKey(e)})}}class zv extends zc{constructor(e){super(),Object.defineProperty(this,"_sprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rendererDisposers",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dispatchParents",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this._sprite=e}_makePointerEvent(e,t){return{type:e,originalEvent:t.event,point:t.point,simulated:t.simulated,native:t.native,target:this._sprite}}_onRenderer(e,t){this._sprite.set("interactive",!0),this._sprite._display.interactive=!0;let i=this._rendererDisposers[e];if(i===void 0){const r=this._sprite._display.on(e,s=>{t.call(this,s)});i=this._rendererDisposers[e]=new TB(()=>{delete this._rendererDisposers[e],r.dispose()})}return i.increment()}_on(e,t,i,r,s,o){const a=super._on(e,t,i,r,s,o),l=zv.RENDERER_EVENTS[t];return l!==void 0&&(a.disposer=new fi([a.disposer,this._onRenderer(t,l)])),a}stopParentDispatch(){this._dispatchParents=!1}dispatchParents(e,t){const i=this._dispatchParents;this._dispatchParents=!0;try{this.dispatch(e,t),this._dispatchParents&&this._sprite.parent&&this._sprite.parent.events.dispatchParents(e,t)}finally{this._dispatchParents=i}}}Object.defineProperty(zv,"RENDERER_EVENTS",{enumerable:!0,configurable:!0,writable:!0,value:{click:function(n){this.isEnabled("click")&&!this._sprite.isDragging()&&this._sprite._hasDown()&&!this._sprite._hasMoved(this._makePointerEvent("click",n))&&this.dispatch("click",this._makePointerEvent("click",n))},rightclick:function(n){this.isEnabled("rightclick")&&this.dispatch("rightclick",this._makePointerEvent("rightclick",n))},middleclick:function(n){this.isEnabled("middleclick")&&this.dispatch("middleclick",this._makePointerEvent("middleclick",n))},dblclick:function(n){this.dispatchParents("dblclick",this._makePointerEvent("dblclick",n))},pointerover:function(n){const e=this._sprite;let t=!0;if(e.getPrivate("trustBounds")){e._getBounds();const i=e.globalBounds();if(e.isType("Graphics")){const r=e.get("strokeWidth",1)/2;r>=1&&(i.left-=r,i.right+=r,i.top-=r,i.bottom+=r)}Wue(n.point,i)||(t=!1,e._root._renderer.removeHovering(e._display))}t&&this.isEnabled("pointerover")&&this.dispatch("pointerover",this._makePointerEvent("pointerover",n))},pointerout:function(n){this.isEnabled("pointerout")&&this.dispatch("pointerout",this._makePointerEvent("pointerout",n))},pointerdown:function(n){this.dispatchParents("pointerdown",this._makePointerEvent("pointerdown",n))},pointerup:function(n){this.isEnabled("pointerup")&&this.dispatch("pointerup",this._makePointerEvent("pointerup",n))},globalpointerup:function(n){this.isEnabled("globalpointerup")&&this.dispatch("globalpointerup",this._makePointerEvent("globalpointerup",n))},globalpointermove:function(n){this.isEnabled("globalpointermove")&&this.dispatch("globalpointermove",this._makePointerEvent("globalpointermove",n))},wheel:function(n){this.dispatchParents("wheel",{type:"wheel",target:this._sprite,originalEvent:n.event,point:n.point})}}});class Mr extends cn{constructor(){super(...arguments),Object.defineProperty(this,"_adjustedLocalBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dataItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templateField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_sizeDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dragEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isHidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isShowing",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isHiding",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_downPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downPoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_toggleDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_hoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipMoveDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipPointerDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_statesHandled",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this.setPrivateRaw("visible",!0),super._afterNew()}markDirtyKey(e){this._markDirtyKey(e)}_markDirtyKey(e){super._markDirtyKey(e),(e=="x"||e=="y"||e=="dx"||e=="dy")&&(this.markDirtyBounds(),this._addPercentagePositionChildren(),this.markDirtyPosition())}_markDirtyPrivateKey(e){super._markDirtyPrivateKey(e),(e=="x"||e=="y")&&this.markDirtyPosition()}_removeTemplateField(){this._templateField&&this._templateField._removeObjectTemplate(this)}_createEvents(){return new zv(this)}_processTemplateField(){let e;const t=this.get("templateField");if(t){const i=this.dataItem;if(i){const r=i.dataContext;r&&(e=r[t],!(e instanceof Sn)&&e&&(e=Sn.new(e)))}}this._templateField!==e&&(this._removeTemplateField(),this._templateField=e,e&&e._setObjectTemplate(this),this._applyTemplates())}_setDataItem(e){const t=this._dataItem;this._dataItem=e,this._processTemplateField();const i="dataitemchanged";e!=t&&this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this,oldDataItem:t,newDataItem:e})}set dataItem(e){this._setDataItem(e)}get dataItem(){if(this._dataItem)return this._dataItem;{let e=this._parent;for(;e;){if(e._dataItem)return e._dataItem;e=e._parent}}}_addPercentageSizeChildren(){let e=this.parent;e&&(this.get("width")instanceof Ye||this.get("height")instanceof Ye?Zd(e._percentageSizeChildren,this):kn(e._percentageSizeChildren,this))}_addPercentagePositionChildren(){let e=this.parent;e&&(this.get("x")instanceof Ye||this.get("y")instanceof Ye?Zd(e._percentagePositionChildren,this):kn(e._percentagePositionChildren,this))}markDirtyPosition(){this._root._addDirtyPosition(this)}updatePivotPoint(){const e=this._localBounds;if(e){const t=this.get("centerX");t!=null&&(this._display.pivot.x=e.left+zn(t,e.right-e.left));const i=this.get("centerY");i!=null&&(this._display.pivot.y=e.top+zn(i,e.bottom-e.top))}}_beforeChanged(){if(super._beforeChanged(),this._handleStates(),this.isDirty("tooltip")){const e=this._prevSettings.tooltip;e&&e.dispose()}if((this.isDirty("layer")||this.isDirty("layerMargin"))&&(this._display.setLayer(this.get("layer"),this.get("layerMargin")),this.markDirtyLayer()),this.isDirty("tooltipPosition")){const e=this._tooltipMoveDp;e&&(e.dispose(),this._tooltipMoveDp=void 0);const t=this._tooltipPointerDp;t&&(t.dispose(),this._tooltipPointerDp=void 0),this.get("tooltipPosition")=="pointer"&&(this.isHover()&&(this._tooltipMoveDp=this.events.on("globalpointermove",i=>{this.showTooltip(i.point)})),this._tooltipPointerDp=new fi([this.events.on("pointerover",()=>{this._tooltipMoveDp=this.events.on("globalpointermove",i=>{this.showTooltip(i.point)})}),this.events.on("pointerout",()=>{const i=this._tooltipMoveDp;i&&(i.dispose(),this._tooltipMoveDp=void 0)})]))}}_handleStates(){this._statesHandled||(this.isDirty("active")&&(this.get("active")?(this.states.applyAnimate("active"),this.set("ariaChecked",!0)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!1)),this.markDirtyAccessibility()),this.isDirty("disabled")&&(this.get("disabled")?(this.states.applyAnimate("disabled"),this.set("ariaChecked",!1)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!0)),this.markDirtyAccessibility()),this._statesHandled=!0)}_changed(){super._changed();const e=this._display,t=this.events;if(this.isDirty("draggable")){const r=this.get("draggable");r?(this.set("interactive",!0),this._dragDp=new fi([t.on("pointerdown",s=>{this.dragStart(s)}),t.on("globalpointermove",s=>{this.dragMove(s)}),t.on("globalpointerup",s=>{this.dragStop(s)})])):this._dragDp&&(this._dragDp.dispose(),this._dragDp=void 0),e.cancelTouch=!!r}if(this.isDirty("tooltipText")||this.isDirty("tooltipHTML")||this.isDirty("showTooltipOn")){const r=this.get("tooltipText"),s=this.get("tooltipHTML"),o=this.get("showTooltipOn","hover");this._tooltipDp&&(this._tooltipDp.dispose(),this._tooltipDp=void 0),(r||s)&&(o=="click"?(this._tooltipDp=new fi([t.on("click",()=>{this.setTimeout(()=>{const a=this.getTooltip();a&&!a.isHidden()&&a.get("tooltipTarget")===this?this.hideTooltip():this.showTooltip()},10)}),St(document,"click",a=>{this.hideTooltip()})]),this._disposers.push(this._tooltipDp)):o=="always"||(this._tooltipDp=new fi([t.on("pointerover",()=>{this.showTooltip()}),t.on("pointerout",()=>{this.hideTooltip()})]),this._disposers.push(this._tooltipDp)))}if(this.isDirty("toggleKey")){let r=this.get("toggleKey");r&&r!="none"?this._toggleDp=t.on("click",()=>{this._isDragging||this.set(r,!this.get(r))}):this._toggleDp&&(this._toggleDp.dispose(),this._toggleDp=void 0)}if(this.isDirty("opacity")&&(e.alpha=Math.max(0,this.get("opacity",1)),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("rotation")&&(this.markDirtyBounds(),e.angle=this.get("rotation",0)),this.isDirty("scale")&&(this.markDirtyBounds(),e.scale=this.get("scale",0)),(this.isDirty("centerX")||this.isDirty("centerY"))&&(this.markDirtyBounds(),this.updatePivotPoint()),(this.isDirty("visible")||this.isPrivateDirty("visible")||this.isDirty("forceHidden"))&&(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden")?(e.visible=!1,this.hideTooltip()):e.visible=!0,this.markDirtyBounds(),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("width")||this.isDirty("height")){this.markDirtyBounds(),this._addPercentageSizeChildren();const r=this.parent;r&&(this.isDirty("width")&&this.get("width")instanceof Ye||this.isDirty("height")&&this.get("height")instanceof Ye)&&(r.markDirty(),r._prevWidth=0),this._sizeDirty=!0}if((this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("minWidth")||this.isDirty("minHeight")||this.isPrivateDirty("maxWidth")||this.isPrivateDirty("maxHeight")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight")||this.isDirty("marginLeft")||this.isDirty("marginTop")||this.isDirty("marginRight")||this.isDirty("marginBottom"))&&(this.markDirtyBounds(),this._sizeDirty=!0),this._sizeDirty&&this._updateSize(),this.isDirty("wheelable")){const r=this.get("wheelable");r&&this.set("interactive",!0),e.wheelable=!!r}(this.isDirty("tabindexOrder")||this.isDirty("focusableGroup"))&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this)),this.isDirty("filter")&&(e.filter=this.get("filter"));let i=this.get("filter","");if(this.isDirty("blur")){const r=this.get("blur",0);r!=0&&(i+=" blur("+r+"px)")}if(this.isDirty("saturate")){const r=this.get("saturate",1);r!=1&&(i+=" saturate("+r+")")}if(this.isDirty("brightness")){const r=this.get("brightness",1);r!=1&&(i+=" brightness("+r+")")}if(this.isDirty("contrast")){const r=this.get("contrast",1);r!=1&&(i+=" contrast("+r+")")}if(this.isDirty("sepia")){const r=this.get("sepia",0);r!=0&&(i+=" sepia("+r+")")}if(this.isDirty("hue")){const r=this.get("hue",0);r!=0&&(i+=" hue-rotate("+r+"deg)")}if(this.isDirty("invert")){const r=this.get("invert",0);r!=0&&(i+=" invert("+r+")")}if(i&&(e.filter=i),this.isDirty("cursorOverStyle")&&(e.cursorOverStyle=this.get("cursorOverStyle")),this.isDirty("hoverOnFocus")&&(this.get("hoverOnFocus")?this._focusDp=new fi([t.on("focus",()=>{this.showTooltip()}),t.on("blur",()=>{this.hideTooltip()})]):this._focusDp&&(this._focusDp.dispose(),this._focusDp=void 0)),this.isDirty("focusable")&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this),this.markDirtyAccessibility(),this._disposers.push(t.on("blur",()=>{this.setPrivateRaw("touchHovering",!1)})),this._disposers.push(t.once("boundschanged",()=>{this.markDirtyAccessibility()}))),this.isPrivateDirty("focusable")&&this.markDirtyAccessibility(),(this.isDirty("role")||this.isDirty("ariaLive")||this.isDirty("ariaChecked")||this.isDirty("ariaHidden")||this.isDirty("ariaOrientation")||this.isDirty("ariaValueNow")||this.isDirty("ariaValueMin")||this.isDirty("ariaValueMax")||this.isDirty("ariaValueText")||this.isDirty("ariaLabel")||this.isDirty("ariaControls"))&&this.markDirtyAccessibility(),this.isDirty("exportable")&&(e.exportable=this.get("exportable")),this.isDirty("interactive")){const r=this.events;this.get("interactive")&&!r.isDisposed()?this._hoverDp=new fi([r.on("click",s=>{cx(s.originalEvent)&&(this.getPrivate("touchHovering")||this.setTimeout(()=>{this._handleOver(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.showTooltip(),this.setPrivateRaw("touchHovering",!0),this.events.dispatch("pointerover",{type:"pointerover",target:s.target,originalEvent:s.originalEvent,point:s.point,simulated:s.simulated})},10))}),r.on("globalpointerup",s=>{cx(s.originalEvent)&&this.getPrivate("touchHovering")&&(this._handleOut(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.hideTooltip(),this.setPrivateRaw("touchHovering",!1),this.events.dispatch("pointerout",{type:"pointerout",target:s.target,originalEvent:s.originalEvent,point:s.point,simulated:s.simulated})),this._isDown&&this._handleUp(s)}),r.on("pointerover",()=>{this._handleOver()}),r.on("pointerout",()=>{this._handleOut()}),r.on("pointerdown",s=>{this._handleDown(s)})]):(this._display.interactive=!1,this._hoverDp&&(this._hoverDp.dispose(),this._hoverDp=void 0))}this.isDirty("forceInactive")&&(this._display.inactive=this.get("forceInactive",null)),this.get("showTooltipOn")=="always"&&this._display.visible&&this.showTooltip()}dragStart(e){this._dragEvent=e,this.events.stopParentDispatch()}dragStop(e){if(this._dragEvent=void 0,this._dragPoint=void 0,this.events.stopParentDispatch(),this._isDragging){this._isDragging=!1;const t="dragstop";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}}_handleOver(){this.isHidden()||(this.get("active")&&this.states.lookup("hoverActive")?this.states.applyAnimate("hoverActive"):this.get("disabled")&&this.states.lookup("hoverDisabled")?this.states.applyAnimate("hoverDisabled"):this.states.applyAnimate("hover"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleOut(){this.isHidden()||(this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):(this.states.lookup("hover")||this.states.lookup("hoverActive"))&&this.states.applyAnimate("default"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleUp(e){if(!this.isHidden()){this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):this.states.lookup("down")&&(this.isHover()?this.states.applyAnimate("hover"):this.states.applyAnimate("default")),this._downPoint=void 0;const t=kb(e.originalEvent);delete this._downPoints[t],en(this._downPoints).length==0&&(this._isDown=!1)}}_hasMoved(e){const t=kb(e.originalEvent),i=this._downPoints[t];if(i){const r=Math.abs(i.x-e.point.x),s=Math.abs(i.y-e.point.y);return r>5||s>5}return!1}_hasDown(){return en(this._downPoints).length>0}_handleDown(e){const t=this.parent;if(t&&!this.get("draggable")&&t._handleDown(e),this.get("interactive")&&!this.isHidden()){this.states.lookup("down")&&this.states.applyAnimate("down"),this._downPoint={x:e.point.x,y:e.point.y},this._isDown=!0;const i=kb(e.originalEvent);this._downPoints[i]={x:e.point.x,y:e.point.y}}}dragMove(e){let t=this._dragEvent;if(t){if(t.simulated&&!e.simulated)return!0;let i=0,r=this.parent,s=1;for(;r!=null;)i+=r.get("rotation",0),r=r.parent,r&&(s*=r.get("scale",1));let o=(e.point.x-t.point.x)/s,a=(e.point.y-t.point.y)/s;const l=this.events;if(t.simulated&&!this._isDragging){this._isDragging=!0,this._dragEvent=e,this._dragPoint={x:this.x(),y:this.y()};const u="dragstart";l.isEnabled(u)&&l.dispatch(u,{type:u,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}if(this._isDragging){let u=this._dragPoint;this.set("x",u.x+o*dx(i)+a*hx(i)),this.set("y",u.y+a*dx(i)-o*hx(i));const c="dragged";l.isEnabled(c)&&l.dispatch(c,{type:c,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}else if(Math.hypot(o,a)>5){this._isDragging=!0,this._dragEvent=e,this._dragPoint={x:this.x(),y:this.y()};const u="dragstart";l.isEnabled(u)&&l.dispatch(u,{type:u,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}}}_updateSize(){}_getBounds(){this._localBounds=this._display.getLocalBounds()}depth(){let e=this.parent,t=0;for(;;)if(e)++t,e=e.parent;else return t}markDirtySize(){this._sizeDirty=!0,this.markDirty()}markDirtyBounds(){const e=this._display;if(this.get("isMeasured")){this._root._addDirtyBounds(this),e.isMeasured=!0,e.invalidateBounds();const t=this.parent;t&&this.get("position")!="absolute"&&(t.get("width")==null||t.get("height")==null||t.get("layout"))&&t.markDirtyBounds(),this.get("focusable")&&this.markDirtyAccessibility()}}markDirtyAccessibility(){this._root._invalidateAccessibility(this)}markDirtyLayer(){this._display.markDirtyLayer(!0)}markDirty(){super.markDirty(),this.markDirtyLayer()}_updateBounds(){const e=this._adjustedLocalBounds;let t;if(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden")?(t={left:0,right:0,top:0,bottom:0},this._localBounds=t,this._adjustedLocalBounds=t):(this._getBounds(),this._fixMinBounds(this._localBounds),this.updatePivotPoint(),this._adjustedLocalBounds=this._display.getAdjustedBounds(this._localBounds),t=this._adjustedLocalBounds),!e||e.left!==t.left||e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom){const i="boundschanged";this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this}),this.parent&&(this.parent.markDirty(),this.parent.markDirtyBounds()),this.getPrivate("showingTooltip")&&this.showTooltip()}}_fixMinBounds(e){let t=this.get("minWidth",this.getPrivate("minWidth")),i=this.get("minHeight",this.getPrivate("minHeight"));Y(t)&&e.right-e.left<t&&(e.right=e.left+t),Y(i)&&e.bottom-e.top<i&&(e.bottom=e.top+i);let r=this.getPrivate("width"),s=this.getPrivate("height");Y(r)&&(r>0?e.right=e.left+r:e.left=e.right+r),Y(s)&&(s>0?e.bottom=e.top+s:e.top=e.bottom+s)}_removeParent(e){e&&(e.children.removeValue(this),kn(e._percentageSizeChildren,this),kn(e._percentagePositionChildren,this))}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._statesHandled=!1}hover(){this.isDisposed()||(this.showTooltip(),this._handleOver())}unhover(){this.isDisposed()||(this.hideTooltip(),this._handleOut())}showTooltip(e){if(!this.isDisposed()){const t=this.getTooltip(),i=this.get("tooltipText"),r=this.get("tooltipHTML");if((i||r)&&t){const s=this.get("tooltipPosition"),o=this.getPrivate("tooltipTarget",this);if((s=="fixed"||!e)&&(this._display._setMatrix(),e=this.toGlobal(o._getTooltipPoint())),s=="pointer"){const u=this.getPrivate("lastTooltipCoords");if(u&&u.x==e.x&&u.y==e.y)return;this.setPrivate("lastTooltipCoords",e)}t.set("pointTo",e),t.set("tooltipTarget",o),t.get("x")||t.set("x",e.x),t.get("y")||t.set("y",e.y),i&&t.label.set("text",i),r&&t.label.set("html",r);const a=this.dataItem;if(a&&t.label._setDataItem(a),this.get("showTooltipOn")=="always"&&(e.x<0||e.x>this._root.width()||e.y<0||e.y>this._root.height())){this.hideTooltip();return}t.label.text.markDirtyText();const l=t.show();return this.setPrivateRaw("showingTooltip",!0),l}}}hideTooltip(){const e=this.getTooltip();if(e&&(this.removePrivate("lastTooltipCoords"),e.get("tooltipTarget")==this.getPrivate("tooltipTarget",this)||this.get("tooltip")==e)){let t=e.get("keepTargetHover")&&e.get("stateAnimationDuration",0)==0?400:void 0;const i=e.hide(t);return this.setPrivateRaw("showingTooltip",!1),i}}_getTooltipPoint(){const e=this._localBounds;if(e){let t=0,i=0;return this.get("isMeasured")?(t=e.left+zn(this.get("tooltipX",0),e.right-e.left),i=e.top+zn(this.get("tooltipY",0),e.bottom-e.top)):(t=zn(this.get("tooltipX",0),this.width()),i=zn(this.get("tooltipY",0),this.height())),{x:t,y:i}}return{x:0,y:0}}getTooltip(){let e=this.get("tooltip");if(e)return e;{let t=this.parent;if(t)return t.getTooltip()}}_updatePosition(){const e=this.parent;let t=this.get("dx",0),i=this.get("dy",0),r=this.get("x"),s=this.getPrivate("x"),o=0,a=0;const l=this.get("position");r instanceof Ye&&(e?r=e.innerWidth()*r.value+e.get("paddingLeft",0):r=0),Y(r)?o=r+t:s!=null?o=s:e&&l=="relative"&&(o=e.get("paddingLeft",0)+t);let u=this.get("y"),c=this.getPrivate("y");u instanceof Ye&&(e?u=e.innerHeight()*u.value+e.get("paddingTop",0):u=0),Y(u)?a=u+i:c!=null?a=c:e&&l=="relative"&&(a=e.get("paddingTop",0)+i);const h=this._display;if(h.x!=o||h.y!=a){h.invalidateBounds(),h.x=o,h.y=a;const d="positionchanged";this.events.isEnabled(d)&&this.events.dispatch(d,{type:d,target:this})}this.getPrivate("showingTooltip")&&this.showTooltip()}x(){let e=this.get("x"),t=this.getPrivate("x");const i=this.parent;return i?e instanceof Ye?zn(e,i.innerWidth())+i.get("paddingLeft",0):Y(e)?e:t??i.get("paddingLeft",this._display.x):this._display.x}y(){let e=this.getPrivate("y");if(e!=null)return e;let t=this.get("y");const i=this.parent;return i?t instanceof Ye?zn(t,i.innerHeight())+i.get("paddingTop",0):Y(t)?t:e??i.get("paddingTop",this._display.y):this._display.y}_dispose(){super._dispose(),this._display.dispose(),this._removeTemplateField(),this._removeParent(this.parent),this._root._removeFocusElement(this);const e=this.get("tooltip");e&&e.dispose(),this.markDirty()}adjustedLocalBounds(){return this._fixMinBounds(this._adjustedLocalBounds),this._adjustedLocalBounds}localBounds(){return this._localBounds}bounds(){const e=this._adjustedLocalBounds,t=this.x(),i=this.y();return{left:e.left+t,right:e.right+t,top:e.top+i,bottom:e.bottom+i}}globalBounds(){const e=this.localBounds(),t=this.toGlobal({x:e.left,y:e.top}),i=this.toGlobal({x:e.right,y:e.top}),r=this.toGlobal({x:e.right,y:e.bottom}),s=this.toGlobal({x:e.left,y:e.bottom});return{left:Math.min(t.x,i.x,r.x,s.x),top:Math.min(t.y,i.y,r.y,s.y),right:Math.max(t.x,i.x,r.x,s.x),bottom:Math.max(t.y,i.y,r.y,s.y)}}_onShow(e){}_onHide(e){}appear(e,t){return mi(this,void 0,void 0,function*(){return yield this.hide(0),t?new Promise((i,r)=>{this.setTimeout(()=>{i(this.show(e))},t)}):this.show(e)})}show(e){return mi(this,void 0,void 0,function*(){if(!this._isShowing){this._isHidden=!1,this._isShowing=!0,this._isHiding=!1,this.states.lookup("default").get("visible")&&this.set("visible",!0),this._onShow(e);const t=this.states.applyAnimate("default",e);yield CD(t),this._isShowing=!1}})}hide(e){return mi(this,void 0,void 0,function*(){if(!this._isHiding&&!this._isHidden){this._isHiding=!0,this._isShowing=!1;let t=this.states.lookup("hidden");t||(t=this.states.create("hidden",{opacity:0,visible:!1})),this._isHidden=!0,this._onHide(e);const i=this.states.applyAnimate("hidden",e);yield CD(i),this._isHiding=!1}})}isHidden(){return this._isHidden}isShowing(){return this._isShowing}isHiding(){return this._isHiding}isHover(){return this._display.hovering()}isFocus(){return this._root.focused(this)}isDragging(){return this._isDragging}isVisible(){return!!(this.get("visible")&&this.getPrivate("visible")&&!this.get("forceHidden"))}isVisibleDeep(){return this._parent?this._parent.isVisibleDeep()&&this.isVisible():this.isVisible()}compositeOpacity(){const e=this.get("opacity",1);return this._parent?this._parent.compositeOpacity()*e:e}compositeScale(){const e=this.get("scale",1);return this._parent?this._parent.compositeScale()*e:e}compositeRotation(){const e=this.get("rotation",0);return this._parent?this._parent.compositeRotation()+e:e}width(){let e=this.get("width"),t=this.get("maxWidth",this.getPrivate("maxWidth")),i=this.get("minWidth",this.getPrivate("minWidth")),r=this.getPrivate("width"),s=0;if(Y(r))s=r;else if(e==null)this._adjustedLocalBounds&&(s=this._adjustedLocalBounds.right-this._adjustedLocalBounds.left);else if(e instanceof Ye){const o=this.parent;o?s=o.innerWidth()*e.value:s=this._root.width()*e.value}else Y(e)&&(s=e);return Y(i)&&(s=Math.max(i,s)),Y(t)&&(s=Math.min(t,s)),s}maxWidth(){let e=this.get("maxWidth",this.getPrivate("maxWidth"));if(Y(e))return e;{let i=this.get("width");if(Y(i))return i}const t=this.parent;return t?t.innerWidth():this._root.width()}maxHeight(){let e=this.get("maxHeight",this.getPrivate("maxHeight"));if(Y(e))return e;{let i=this.get("height");if(Y(i))return i}const t=this.parent;return t?t.innerHeight():this._root.height()}height(){let e=this.get("height"),t=this.get("maxHeight",this.getPrivate("maxHeight")),i=this.get("minHeight",this.getPrivate("minHeight")),r=this.getPrivate("height"),s=0;if(Y(r))s=r;else if(e==null)this._adjustedLocalBounds&&(s=this._adjustedLocalBounds.bottom-this._adjustedLocalBounds.top);else if(e instanceof Ye){const o=this.parent;o?s=o.innerHeight()*e.value:s=this._root.height()*e.value}else Y(e)&&(s=e);return Y(i)&&(s=Math.max(i,s)),Y(t)&&(s=Math.min(t,s)),s}_findStaticTemplate(e){return this._templateField&&e(this._templateField)?this._templateField:super._findStaticTemplate(e)}_walkParents(e){this._parent&&this._walkParent(e)}_walkParent(e){this._parent&&this._parent._walkParent(e),e(this)}get parent(){return this._parent}_setParent(e,t=!1){const i=this._parent;e!==i&&(this.markDirtyBounds(),e.markDirty(),this._parent=e,t&&(this._removeParent(i),e&&(this._addPercentageSizeChildren(),this._addPercentagePositionChildren())),this.markDirtyPosition(),this._applyThemes())}getNumberFormatter(){return this.get("numberFormatter",this._root.numberFormatter)}getDateFormatter(){return this.get("dateFormatter",this._root.dateFormatter)}getDurationFormatter(){return this.get("durationFormatter",this._root.durationFormatter)}toGlobal(e){return this._display.toGlobal(e)}toLocal(e){return this._display.toLocal(e)}_getDownPoint(){const e=this._getDownPointId();if(e)return this._downPoints[e]}_getDownPointId(){if(this._downPoints)return pue(this._downPoints,(e,t)=>e>t?1:e<t?-1:0)[0]}toFront(){const e=this.parent;e&&e.children.moveValue(this,e.children.length-1)}toBack(){const e=this.parent;e&&e.children.moveValue(this,0)}}Object.defineProperty(Mr,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Sprite"});Object.defineProperty(Mr,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:cn.classNames.concat([Mr.className])});class Jd extends cn{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_backgroundDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_pattern",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}get pattern(){return this._pattern}_draw(){}_beforeChanged(){super._beforeChanged(),(this.isDirty("repetition")||this.isDirty("width")||this.isDirty("height")||this.isDirty("rotation")||this.isDirty("strokeWidth")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("colorOpacity")||this.isDirty("fillOpacity"))&&(this._clear=!0),this._checkDirtyFill()}_checkDirtyFill(){(this.isDirty("color")||this.isDirty("fill"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const e=this.get("repetition",""),t=this.get("width",100),i=this.get("height",100),r=this.get("fill"),s=this.get("fillOpacity",1),o=this._backgroundDisplay,a=this._display;a.clear(),o.clear(),r&&s>0&&(o.beginFill(r,s),o.drawRect(0,0,t,i),o.endFill()),a.angle=this.get("rotation",0),this._draw(),this._pattern=this._root._renderer.createPattern(a,o,e,t,i)}this._clear=!1}}Object.defineProperty(Jd,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Pattern"});Object.defineProperty(Jd,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:cn.classNames.concat([Jd.className])});class ef extends Jd{constructor(){super(...arguments),Object.defineProperty(this,"_image",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){super._beforeChanged(),this._clear=!0,this.isDirty("src")&&this._load();const e=this.get("canvas");e&&(this.set("width",e.width),this.set("height",e.height))}_draw(){super._draw();const e=this.get("colorOpacity");e!==void 0&&(this._display.alpha=Math.max(0,e));const t=this._image;if(t){const r=this.get("width",100),s=this.get("height",100),o=this.get("fit","image");let a=0,l=0;o=="pattern"?(a=r,l=s,this.markDirty()):(a=t.width,l=t.height,o=="image"&&(this.set("width",a),this.set("height",l)));const u=this.get("centered",!0);let c=0,h=0;u&&(c=r/2-a/2,h=s/2-l/2),this._display.image(t,a,l,c,h)}const i=this.get("canvas");i&&this._display.image(i,i.width,i.height,0,0)}_load(){const e=this.get("src");if(e){const t=new Image;t.src=e,t.decode().then(()=>{this._image=t,this._draw(),this.events.isEnabled("loaded")&&this.events.dispatch("loaded",{type:"loaded",target:this})}).catch(i=>{})}}}Object.defineProperty(ef,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PicturePattern"});Object.defineProperty(ef,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Jd.classNames.concat([ef.className])});var iy;(function(n){n.ADD="lighter",n.COLOR="color",n.COLOR_BURN="color-burn",n.COLOR_DODGE="color-dodge",n.DARKEN="darken",n.DIFFERENCE="difference",n.DST_OVER="destination-over",n.EXCLUSION="exclusion",n.HARD_LIGHT="hard-light",n.HUE="hue",n.LIGHTEN="lighten",n.LUMINOSITY="luminosity",n.MULTIPLY="multiply",n.NORMAL="source-over",n.OVERLAY="overlay",n.SATURATION="saturation",n.SCREEN="screen",n.SOFT_LIGHT="soft-light",n.SRC_ATOP="source-atop",n.XOR="xor"})(iy||(iy={}));class ct extends Mr{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_beforeChanged(){if(super._beforeChanged(),(this.isDirty("draw")||this.isDirty("svgPath"))&&this.markDirtyBounds(),(this.isDirty("fill")||this.isDirty("stroke")||this.isDirty("visible")||this.isDirty("forceHidden")||this.isDirty("scale")||this.isDirty("fillGradient")||this.isDirty("strokeGradient")||this.isDirty("fillPattern")||this.isDirty("strokePattern")||this.isDirty("fillOpacity")||this.isDirty("strokeOpacity")||this.isDirty("strokeWidth")||this.isDirty("draw")||this.isDirty("blendMode")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("svgPath")||this.isDirty("lineJoin")||this.isDirty("lineCap")||this.isDirty("shadowColor")||this.isDirty("shadowBlur")||this.isDirty("shadowOffsetX")||this.isDirty("shadowOffsetY"))&&(this._clear=!0),this._display.crisp=this.get("crisp",!1),this.isDirty("fillGradient")){const e=this.get("fillGradient");if(e){this._display.isMeasured=!0;const t=e.get("target");t&&(this._disposers.push(t.events.on("boundschanged",()=>{this._markDirtyKey("fill")})),this._disposers.push(t.events.on("positionchanged",()=>{this._markDirtyKey("fill")})))}}if(this.isDirty("strokeGradient")){const e=this.get("strokeGradient");if(e){this._display.isMeasured=!0;const t=e.get("target");t&&(this._disposers.push(t.events.on("boundschanged",()=>{this._markDirtyKey("stroke")})),this._disposers.push(t.events.on("positionchanged",()=>{this._markDirtyKey("stroke")})))}}}_changed(){if(super._changed(),this._clear){this.markDirtyBounds(),this.markDirtyLayer(),this._display.clear();let e=this.get("strokeDasharray");Y(e)&&(e<.5?e=[0]:e=[e]),this._display.setLineDash(e);const t=this.get("strokeDashoffset");t&&this._display.setLineDashOffset(t);const i=this.get("blendMode",iy.NORMAL);this._display.blendMode=i;const r=this.get("draw");r&&typeof r=="function"&&r(this._display,this);const s=this.get("svgPath");s!=null&&this._display.svgPath(s)}}_afterChanged(){if(super._afterChanged(),this._clear){const e=this.get("fill"),t=this.get("fillGradient"),i=this.get("fillPattern"),r=this.get("fillOpacity"),s=this.get("stroke"),o=this.get("strokeGradient"),a=this.get("strokePattern"),l=this.get("shadowColor"),u=this.get("shadowBlur"),c=this.get("shadowOffsetX"),h=this.get("shadowOffsetY"),d=this.get("shadowOpacity");if(l&&(u||c||h)&&this._display.shadow(l,u,c,h,d),e&&!t&&(this._display.beginFill(e,r),this._display.endFill()),t){if(e){const y=t.get("stops",[]);y.length&&W(y,g=>{(!g.color||g.colorInherited)&&e&&(g.color=e,g.colorInherited=!0),(g.opacity==null||g.opacityInherited)&&(g.opacity=r,g.opacityInherited=!0)})}const f=t.getFill(this);f&&(this._display.beginFill(f,r),this._display.endFill())}if(i){const f=i.pattern;f&&(this._display.beginFill(f,r),this._display.endFill(),i instanceof ef&&i.events.once("loaded",()=>{this._clear=!0,this.markDirty()}))}if(s||o||a){const f=this.get("strokeOpacity");let y=this.get("strokeWidth",1);this.get("nonScalingStroke")&&(y=y/this.get("scale",1)),this.get("crisp")&&(y/=this._root._renderer.resolution);const g=this.get("lineJoin"),_=this.get("lineCap");if(s&&!o&&(this._display.lineStyle(y,s,f,g,_),this._display.endStroke()),o){const v=o.get("stops",[]);v.length&&W(v,x=>{(!x.color||x.colorInherited)&&s&&(x.color=s,x.colorInherited=!0),(x.opacity==null||x.opacityInherited)&&(x.opacity=f,x.opacityInherited=!0)});const b=o.getFill(this);b&&(this._display.lineStyle(y,b,f,g,_),this._display.endStroke())}if(a){let v=a.pattern;v&&(this._display.lineStyle(y,v,f,g,_),this._display.endStroke(),a instanceof ef&&a.events.once("loaded",()=>{this._clear=!0,this.markDirty()}))}}this.getPrivate("showingTooltip")&&this.showTooltip()}this._clear=!1}}Object.defineProperty(ct,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Graphics"});Object.defineProperty(ct,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Mr.classNames.concat([ct.className])});class ji extends ct{_afterNew(){super._afterNew(),this._display.isMeasured=!0,this.setPrivateRaw("trustBounds",!0)}_beforeChanged(){super._beforeChanged(),(this.isDirty("width")||this.isDirty("height")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&!this.get("draw")&&this._draw()}_draw(){let e=this.width(),t=this.height(),i=0,r=0,s=e/Math.abs(e),o=t/Math.abs(t);if(this.get("containStroke",!1)){const a=this.get("strokeWidth",0);e-=a*s,t-=a*o,i+=a/2*s,r+=a/2*o}this._display.drawRect(i,r,e,t)}_updateSize(){this.markDirty(),this._clear=!0}}Object.defineProperty(ji,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Rectangle"});Object.defineProperty(ji,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ct.classNames.concat([ji.className])});function Os(n,e){n.get("reverseChildren",!1)?n.children.eachReverse(e):n.children.each(e)}class Zs extends cn{}Object.defineProperty(Zs,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Layout"});Object.defineProperty(Zs,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:cn.classNames.concat([Zs.className])});class gc extends Zs{updateContainer(e){let t=e.get("paddingLeft",0),i=e.innerWidth(),r=0;Os(e,o=>{if(o.isVisible()&&o.get("position")=="relative"){let a=o.get("width");if(a instanceof Ye){r+=a.value;let l=i*a.value,u=o.get("minWidth",o.getPrivate("minWidth",-1/0));u>l&&(i-=u,r-=a.value);let c=o.get("maxWidth",o.getPrivate("maxWidth",1/0));l>c&&(i-=c,r-=a.value)}else Y(a)||(a=o.width()),i-=a+o.get("marginLeft",0)+o.get("marginRight",0)}}),(i<=0||i==1/0)&&(i=.1),Os(e,o=>{if(o.isVisible()&&o.get("position")=="relative"){let a=o.get("width");if(a instanceof Ye){let l=i*a.value/r-o.get("marginLeft",0)-o.get("marginRight",0),u=o.get("minWidth",o.getPrivate("minWidth",-1/0)),c=o.get("maxWidth",o.getPrivate("maxWidth",1/0));l=Math.min(Math.max(u,l),c),o.setPrivate("width",l)}else o._prevSettings.width instanceof Ye&&o.setPrivate("width",void 0)}});let s=t;Os(e,o=>{if(o.get("position")=="relative")if(o.isVisible()){let a=o.adjustedLocalBounds(),l=o.get("marginLeft",0),u=o.get("marginRight",0),c=o.get("maxWidth"),h=a.left,d=a.right;c&&d-h>c&&(d=h+c);let f=s+l-h;o.setPrivate("x",f),s=f+d+u}else o.setPrivate("x",void 0)})}}Object.defineProperty(gc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HorizontalLayout"});Object.defineProperty(gc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Zs.classNames.concat([gc.className])});class yc extends Zs{updateContainer(e){let t=e.get("paddingTop",0),i=e.innerHeight(),r=0;Os(e,o=>{if(o.isVisible()&&o.get("position")=="relative"){let a=o.get("height");if(a instanceof Ye){r+=a.value;let l=i*a.value,u=o.get("minHeight",o.getPrivate("minHeight",-1/0));u>l&&(i-=u,r-=a.value);let c=o.get("maxHeight",o.getPrivate("maxHeight",1/0));l>c&&(i-=c,r-=a.value)}else Y(a)||(a=o.height()),i-=a+o.get("marginTop",0)+o.get("marginBottom",0)}}),(i<=0||i==1/0)&&(i=.1),Os(e,o=>{if(o.isVisible()&&o.get("position")=="relative"){let a=o.get("height");if(a instanceof Ye){let l=i*a.value/r-o.get("marginTop",0)-o.get("marginBottom",0),u=o.get("minHeight",o.getPrivate("minHeight",-1/0)),c=o.get("maxHeight",o.getPrivate("maxHeight",1/0));l=Math.min(Math.max(u,l),c),o.setPrivate("height",l)}else o._prevSettings.height instanceof Ye&&o.setPrivate("height",void 0)}});let s=t;Os(e,o=>{if(o.get("position")=="relative")if(o.isVisible()){let a=o.adjustedLocalBounds(),l=o.get("marginTop",0),u=a.top,c=a.bottom,h=o.get("maxHeight");h&&c-u>h&&(c=u+h);let d=o.get("marginBottom",0),f=s+l-u;o.setPrivate("y",f),s=f+c+d}else o.setPrivate("y",void 0)})}}Object.defineProperty(yc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"VerticalLayout"});Object.defineProperty(yc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Zs.classNames.concat([yc.className])});class Cl extends Zs{_afterNew(){this._setRawDefault("maxColumns",Number.MAX_VALUE),super._afterNew()}updateContainer(e){let t=e.get("paddingLeft",0),i=e.get("paddingRight",0),r=e.get("paddingTop",0),s=e.maxWidth()-t-i,o=s,a=1;Os(e,y=>{if(y.get("visible")&&y.getPrivate("visible")&&!y.get("forceHidden")&&y.get("position")!="absolute"){let g=y.width();g<o&&(o=g),g>a&&(a=g)}}),o=zt(o,1,s),a=zt(a,1,s);let l=1;this.get("fixedWidthGrid")?l=s/a:l=s/o,l=Math.max(1,Math.floor(l)),l=Math.min(this.get("maxColumns",Number.MAX_VALUE),l);let u=this.getColumnWidths(e,l,a,s),c=r,h=0,d=0;l=u.length;let f=t;Os(e,y=>{if(y.get("position")=="relative"&&y.isVisible()){const g=y.get("marginTop",0),_=y.get("marginBottom",0);let v=y.adjustedLocalBounds(),b=y.get("marginLeft",0),x=y.get("marginRight",0),P=f+b-v.left,k=c+g-v.top;y.setPrivate("x",P),y.setPrivate("y",k),f+=u[h]+x,d=Math.max(d,y.height()+g+_),h++,h>=l&&(h=0,f=t,c+=d)}})}getColumnWidths(e,t,i,r){let s=0,o=[],a=0;return Os(e,l=>{let u=l.adjustedLocalBounds();l.get("position")!="absolute"&&l.isVisible()&&(this.get("fixedWidthGrid")?o[a]=i:o[a]=Math.max(o[a]|0,u.right-u.left+l.get("marginLeft",0)+l.get("marginRight",0)),a<e.children.length-1&&(a++,a==t&&(a=0)))}),W(o,l=>{s+=l}),s>r?t>2?(t-=1,this.getColumnWidths(e,t,i,r)):[r]:o}}Object.defineProperty(Cl,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GridLayout"});Object.defineProperty(Cl,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Zs.classNames.concat([Cl.className])});class Ar{static escape(e){return e.replace(/\[\[/g,this.prefix+"1").replace(/([^\/\]]{1})\]\]/g,"$1"+this.prefix+"2").replace(/\]\]/g,this.prefix+"2").replace(/\{\{/g,this.prefix+"3").replace(/\}\}/g,this.prefix+"4").replace(/\'\'/g,this.prefix+"5")}static unescape(e){return e.replace(new RegExp(this.prefix+"1","g"),"[[").replace(new RegExp(this.prefix+"2","g"),"]]").replace(new RegExp(this.prefix+"3","g"),"{{").replace(new RegExp(this.prefix+"4","g"),"}}").replace(new RegExp(this.prefix+"5","g"),"''")}static cleanUp(e){return e.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")}static chunk(e,t=!1,i=!1){let r=[];e=this.escape(e);let s=t?e.split("'"):[e];for(let o=0;o<s.length;o++){let a=s[o];if(a!=="")if(o%2===0){a=a.replace(/\]\[/g,"]"+ya+"["),a=a.replace(/\[\]/g,"[ ]");let l=a.split(/[\[\]]+/);for(let u=0;u<l.length;u++){let c=this.cleanUp(this.unescape(l[u]));c!==ya&&c!==""&&(u%2===0?r.push({type:"value",text:c}):r.push({type:i?"value":"format",text:"["+c+"]"}))}}else{let l=a.split(/[\[\]]+/);for(let u=0;u<l.length;u++){let c=this.cleanUp(this.unescape(l[u]));c!==""&&(u%2===0?r.push({type:"text",text:c}):this.isImage(c)?r.push({type:"image",text:"["+c+"]"}):r.push({type:"format",text:"["+c+"]"}))}}}return r}static isImage(e){return!!e.match(/img[ ]?:/)}static getTextStyle(e){let t={};if(e==""||e=="[ ]")return{};const i=e.match(/('[^']*')|("[^"]*")/gi);if(i)for(let s=0;s<i.length;s++)e=e.replace(i[s],i[s].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));let r=e.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w\-]+)|(\/)/gi);if(!r)return{};for(let s=0;s<r.length;s++)if(r[s].match(/^(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)$/i))t.fontWeight=r[s];else if(r[s].match(/^(underline|line-through)$/i))t.textDecoration=r[s];else if(r[s]!="/")if(!r[s].match(/:/))t.fill=_e.fromString(r[s]);else{const o=r[s].replace("+"," ").split(/:[ ]*/);t[o[0]]=o[1]}return t}}Object.defineProperty(Ar,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:"__amcharts__"});function tf(n,e){if(e!=null){e=""+e,e=Ar.escape(e);let t=e.match(/\{([^}]+)\}/g),i;if(t)for(i=0;i<t.length;i++){let r=t[i].replace(/\{([^}]+)\}/,"$1"),s=px(n,r);s==null&&(s=""),e=e.split(t[i]).join(s)}e=Ar.unescape(e)}else e="";return e}function px(n,e,t){let i;const r=n.dataItem;let s=[],o=/(format[a-zA-Z]*)\((.*)\)|([^.]+)/g,a;for(;a=o.exec(e),a!==null;)if(a[3]){s.push({prop:a[3]});const l=n.getDateFormatter().get("dateFields",[]),u=n.getNumberFormatter().get("numericFields",[]),c=n.getDurationFormatter().get("durationFields",[]);l.indexOf(a[3])!==-1?s.push({method:"formatDate",params:[]}):u.indexOf(a[3])!==-1?s.push({method:"formatNumber",params:[]}):c.indexOf(a[3])!==-1&&s.push({method:"formatDuration",params:[]})}else{let l=[];if(ju(a[2])!=""){let u=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,c;for(;c=u.exec(a[2]),c!==null;)l.push(c[1]||c[2]||c[3])}s.push({method:a[1],params:l})}if(r){i=Va(n,s,r._settings),(i==null||$c(i))&&(i=Va(n,s,r));let l=r.dataContext;i==null&&l&&(i=Va(n,s,l),i==null&&(i=Va(n,[{prop:e}],l)),i==null&&l.dataContext&&(i=Va(n,s,l.dataContext))),i==null&&r.component&&r.component.dataItem!==r&&(i=px(r.component,e))}return i==null&&(i=Va(n,s,n)),i==null&&n.parent&&(i=px(n.parent,e)),i}function ece(n,e){const t=n.getPrivate("customData");if($c(t))return t[e]}function Va(n,e,t,i){let r=t,s=!1;for(let o=0,a=e.length;o<a;o++){let l=e[o];if(l.prop){if(r instanceof Mr){let u=r.get(l.prop);u==null&&(u=r.getPrivate(l.prop)),u==null&&(u=ece(r,l.prop)),u==null&&(u=r[l.prop]),r=u}else if(r.get){let u=r.get(l.prop);u==null&&(u=r[l.prop]),r=u}else r=r[l.prop];if(r==null)return}else switch(l.method){case"formatNumber":let u=hi(r);u!=null&&(r=n.getNumberFormatter().format(u,l.params[0]||void 0),s=!0);break;case"formatDate":let c=lue(r);if(!ix(c)||Qs(c.getTime()))return;c!=null&&(r=n.getDateFormatter().format(c,l.params[0]||void 0),s=!0);break;case"formatDuration":let h=hi(r);h!=null&&(r=n.getDurationFormatter().format(h,l.params[0]||void 0,l.params[1]||void 0),s=!0);break;case"urlEncode":case"encodeURIComponent":r=encodeURIComponent(r);break;default:r[l.method]&&r[l.method].apply(t,l.params);break}}if(!s){let o=[{method:"",params:i}];Y(r)?(o[0].method="formatNumber",o[0].params=""):ix(r)&&(o[0].method="formatDate",o[0].params=""),o[0].method&&(r=Va(n,o,r))}return r}class Me extends Mr{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"_childrenDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"children",{enumerable:!0,configurable:!0,writable:!0,value:new Uue(this)}),Object.defineProperty(this,"_percentageSizeChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_percentagePositionChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_prevWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_prevHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd0",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd1",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNew(),this._display.addChild(this._childrenDisplay)}_dispose(){ed(this.allChildren(),e=>{e.dispose()}),this.getPrivate("htmlElement")&&this._root._removeHTMLContent(this),super._dispose()}_changed(){if(super._changed(),this.isDirty("interactiveChildren")&&(this._display.interactiveChildren=this.get("interactiveChildren",!1)),this.isDirty("layout")&&(this._prevWidth=0,this._prevHeight=0,this.markDirtyBounds(),this._prevSettings.layout&&this.children.each(e=>{e.removePrivate("x"),e.removePrivate("y")})),(this.isDirty("paddingTop")||this.isDirty("paddingBottom")||this.isDirty("paddingLeft")||this.isDirty("paddingRight"))&&this.children.each(e=>{e.markDirtyPosition()}),this.isDirty("maskContent")){const e=this._childrenDisplay;let t=this._contentMask;this.get("maskContent")?t||(t=ji.new(this._root,{x:-.5,y:-.5,width:this.width()+1,height:this.height()+1}),this._contentMask=t,e.addChildAt(t._display,0),e.mask=t._display):t&&(e.removeChild(t._display),e.mask=null,t.dispose(),this._contentMask=void 0)}}_updateSize(){super._updateSize(),W(this._percentageSizeChildren,e=>{e._updateSize()}),W(this._percentagePositionChildren,e=>{e.markDirtyPosition(),e._updateSize()}),this.updateBackground()}updateBackground(){const e=this.get("background");let t=this._localBounds;if(t&&!this.isHidden()){let i=t.left,r=t.top,s=t.right-i,o=t.bottom-r,a=this.get("maxWidth"),l=this.get("maxHeight");l&&o>l&&(o=l),a&&s>a&&(s=a);let u=this.width(),c=this.height();e&&(e.setAll({width:s,height:o,x:i,y:r}),this._display.interactive&&(e._display.interactive=!0));const h=this._contentMask;h&&h.setAll({width:u+1,height:c+1});const d=this.get("verticalScrollbar");if(d){d.set("height",c),d.set("x",u-d.width()-d.get("marginRight",0)),d.set("end",d.get("start",0)+c/this._contentHeight);const f=d.get("background");f&&f.setAll({width:d.width(),height:c});let y=!0;this._contentHeight<=c&&(y=!1),d.setPrivate("visible",y)}}}_applyThemes(e=!1){return super._applyThemes(e)?(this.eachChildren(t=>{t._applyThemes(e)}),!0):!1}_applyState(e){super._applyState(e),this.get("setStateOnChildren")&&this.eachChildren(t=>{t.states.apply(e)})}_applyStateAnimated(e,t){super._applyStateAnimated(e,t),this.get("setStateOnChildren")&&this.eachChildren(i=>{i.states.applyAnimate(e,t)})}innerWidth(){return this.width()-this.get("paddingRight",0)-this.get("paddingLeft",0)}innerHeight(){return this.height()-this.get("paddingTop",0)-this.get("paddingBottom",0)}_getBounds(){if(this.get("html")){let e=this._localBounds;e&&(this._contentWidth=e.right-e.left,this._contentHeight=e.bottom-e.top)}else{let e=this.get("width"),t=this.get("height"),i=this.getPrivate("width"),r=this.getPrivate("height"),s={left:0,top:0,right:this.width(),bottom:this.height()},o=this.get("layout"),a=!1,l=!1;if((o instanceof gc||o instanceof Cl)&&(a=!0),o instanceof yc&&(l=!0),!((e!=null||i!=null)&&(t!=null||r!=null)&&!this.get("verticalScrollbar"))){let u=Number.MAX_VALUE,c=u,h=-u,d=u,f=-u;const y=this.get("paddingLeft",0),g=this.get("paddingTop",0),_=this.get("paddingRight",0),v=this.get("paddingBottom",0);this.children.each(P=>{if(P.get("position")!="absolute"&&P.get("isMeasured")){let k=P.adjustedLocalBounds(),M=P.x(),A=P.y(),T=M+k.left,E=M+k.right,C=A+k.top,D=A+k.bottom;a&&(T-=P.get("marginLeft",0),E+=P.get("marginRight",0)),l&&(C-=P.get("marginTop",0),D+=P.get("marginBottom",0)),T<c&&(c=T),E>h&&(h=E),C<d&&(d=C),D>f&&(f=D)}}),c==u&&(c=0),h==-u&&(h=0),d==u&&(d=0),f==-u&&(f=0),s.left=c-y,s.top=d-g,s.right=h+_,s.bottom=f+v;const b=this.get("minWidth");Y(b)&&b>0&&s.right-s.left<b&&(s.right>=b?s.left=s.right-b:s.right=s.left+b);const x=this.get("minHeight");Y(x)&&x>0&&s.bottom-s.top<x&&(s.bottom>=x?s.top=s.bottom-x:s.bottom=s.top+x)}this._contentWidth=s.right-s.left,this._contentHeight=s.bottom-s.top,Y(e)&&(s.left=0,s.right=e),Y(i)&&(s.left=0,s.right=i),Y(t)&&(s.top=0,s.bottom=t),Y(r)&&(s.top=0,s.bottom=r),this._localBounds=s}}_updateBounds(){const e=this.get("layout");e&&e.updateContainer(this),super._updateBounds(),this.updateBackground()}markDirty(){super.markDirty(),this._root._addDirtyParent(this)}_prepareChildren(){const e=this.innerWidth(),t=this.innerHeight();if(e!=this._prevWidth||t!=this._prevHeight){let i=this.get("layout"),r=!1,s=!1;i&&((i instanceof gc||i instanceof Cl)&&(r=!0),i instanceof yc&&(s=!0)),W(this._percentageSizeChildren,o=>{if(!r){let a=o.get("width");a instanceof Ye&&o.setPrivate("width",a.value*e)}if(!s){let a=o.get("height");a instanceof Ye&&o.setPrivate("height",a.value*t)}}),W(this._percentagePositionChildren,o=>{o.markDirtyPosition(),o.markDirtyBounds()}),this._prevWidth=e,this._prevHeight=t,this._sizeDirty=!0,this.updateBackground()}this._handleStates()}_updateHTMLContent(){const e=this.get("html","");e&&e!==""?this._root._setHTMLContent(this,tf(this,e)):this._root._removeHTMLContent(this),this._root._positionHTMLElement(this)}scrollToChild(e){const t=this.get("verticalScrollbar");if(t){let i=e.y(),r=this.innerHeight(),s=e.height(),o=this._contentHeight,a=1-(r-s/2)/o;if(i+s*.7+this._childrenDisplay.y>r||i-s*.3+this._childrenDisplay.y<0){let l=Math.max(0,Math.min(a,(i-s/2)/o));t.animate({key:"start",to:l,duration:t.get("animationDuration",0),easing:t.get("animationEasing")})}}}_updateChildren(){if(this.isDirty("html")&&this._updateHTMLContent(),this.isDirty("verticalScrollbar")){const e=this.get("verticalScrollbar");if(e){e._setParent(this),e.startGrip.setPrivate("visible",!1),e.endGrip.setPrivate("visible",!1),this.set("maskContent",!0),this.set("paddingRight",e.width()+e.get("marginRight",0)+e.get("marginLeft",0));let t=this.get("background");t||(t=this.set("background",ji.new(this._root,{themeTags:["background"],fillOpacity:0,fill:this._root.interfaceColors.get("alternativeBackground")}))),this._vsbd0=this.events.on("wheel",i=>{const r=i.originalEvent;if($E(r,this))r.preventDefault();else return;let s=r.deltaY/5e3;const o=e.get("start",0),a=e.get("end",1);o+s<=0&&(s=-o),a+s>=1&&(s=1-a),o+s>=0&&a+s<=1&&(e.set("start",o+s),e.set("end",a+s))}),this._disposers.push(this._vsbd0),this._vsbd1=e.events.on("rangechanged",()=>{let i=this._contentHeight;const r=this._childrenDisplay,s=this._contentMask;r.y=-e.get("start",0)*i,r.markDirtyLayer(),s&&(s._display.y=-r.y,r.mask=s._display)}),this._disposers.push(this._vsbd1),this._display.addChild(e._display)}else{const t=this._prevSettings.verticalScrollbar;if(t){this._display.removeChild(t._display),this._vsbd0&&this._vsbd0.dispose(),this._vsbd1&&this._vsbd1.dispose();const i=this._childrenDisplay;i.y=0,this.setPrivate("height",void 0),this.set("maskContent",!1),this.set("paddingRight",void 0)}}}if(this.isDirty("background")){const e=this._prevSettings.background;e&&this._display.removeChild(e._display);const t=this.get("background");t instanceof Mr&&(t.set("isMeasured",!1),t._setParent(this),this._display.addChildAt(t._display,0))}if(this.isDirty("mask")){const e=this.get("mask"),t=this._prevSettings.mask;if(t&&(this._display.removeChild(t._display),t!=e&&t.dispose()),e){const i=e.parent;i&&i.children.removeValue(e),e._setParent(this),this._display.addChildAt(e._display,0),this._childrenDisplay.mask=e._display}}}_processTemplateField(){super._processTemplateField(),this.children.each(e=>{e._processTemplateField()})}walkChildren(e){this.children.each(t=>{t instanceof Me&&t.walkChildren(e),e(t)})}eachChildren(e){const t=this.get("background");t&&e(t);const i=this.get("verticalScrollbar");i&&e(i);const r=this.get("mask");r&&e(r),this.children.values.forEach(s=>{e(s)})}allChildren(){const e=[];return this.eachChildren(t=>{e.push(t)}),e}_setDataItem(e){const t=e!==this._dataItem;super._setDataItem(e);const i=this.get("html","");i&&i!==""&&t&&this._root._setHTMLContent(this,tf(this,i))}}Object.defineProperty(Me,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Container"});Object.defineProperty(Me,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Mr.classNames.concat([Me.className])});class nf extends Mr{constructor(){super(...arguments),Object.defineProperty(this,"textStyle",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeTextStyle()}),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeText("",this.textStyle)}),Object.defineProperty(this,"_textStyles",{enumerable:!0,configurable:!0,writable:!0,value:["textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","maxChars"]}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_updateBounds(){if(this.get("text")){super._updateBounds();let e=this.get("fillGradient");e&&(this._display.style.fill=e.getFill(this))}else{let e={left:0,right:0,top:0,bottom:0};this._adjustedLocalBounds=e}}_changed(){super._changed(),this._display.clear();let e=this.textStyle;if(this.isDirty("opacity")){let t=this.get("opacity",1);this._display.alpha=t}if((this.isDirty("text")||this.isDirty("populateText"))&&(this._display.text=this._getText(),this.markDirtyBounds(),this.get("role")=="tooltip"&&this._root.updateTooltip(this)),this.isPrivateDirty("tooltipElement")&&this.getPrivate("tooltipElement")&&this._disposers.push(new on(()=>{this._root._removeTooltipElement(this)})),this.isDirty("width")&&(e.wordWrapWidth=this.width(),this.markDirtyBounds()),this.isDirty("oversizedBehavior")&&(e.oversizedBehavior=this.get("oversizedBehavior","none"),this.markDirtyBounds()),this.isDirty("breakWords")&&(e.breakWords=this.get("breakWords",!1),this.markDirtyBounds()),this.isDirty("ellipsis")&&(e.ellipsis=this.get("ellipsis"),this.markDirtyBounds()),this.isDirty("ignoreFormatting")&&(e.ignoreFormatting=this.get("ignoreFormatting",!1),this.markDirtyBounds()),this.isDirty("minScale")&&(e.minScale=this.get("minScale",0),this.markDirtyBounds()),this.isDirty("fill")||this.isDirty("fillGradient")){const t=this.get("fill"),i=this.get("fillGradient"),r=this.get("fillOpacity");if(i){if(t){const s=i.get("stops",[]);s.length&&W(s,o=>{(!o.color||o.colorInherited)&&t&&(o.color=t,o.colorInherited=!0),(o.opacity==null||o.opacityInherited)&&(o.opacity=r,o.opacityInherited=!0)})}e.fill=i.getFill(this)}else t&&(e.fill=t)}if(this.isDirty("fillOpacity")){let t=this.get("fillOpacity",1);t&&(e.fillOpacity=t)}(this.isDirty("maxWidth")||this.isPrivateDirty("maxWidth"))&&(e.maxWidth=this.get("maxWidth",this.getPrivate("maxWidth")),this.markDirtyBounds()),(this.isDirty("maxHeight")||this.isPrivateDirty("maxHeight"))&&(e.maxHeight=this.get("maxHeight",this.getPrivate("maxHeight")),this.markDirtyBounds()),W(this._textStyles,t=>{this._dirty[t]&&(e[t]=this.get(t),this.markDirtyBounds())}),e.fontSize=this.get("fontSize"),e.fontFamily=this.get("fontFamily"),this._display.style=e,this.isDirty("role")&&this.get("role")=="tooltip"&&this._root.updateTooltip(this)}_getText(){let e=this.get("text","");return this.get("maxChars")&&(e=Cue(e,this.get("maxChars",1e8),this.get("breakWords"),this.get("ellipsis"))),this.get("populateText")?tf(this,e):e}_getAccessibleText(){const e=this.get("ariaLabel");return e!==void 0?this.get("populateText")?tf(this,e):e:this._getText()}markDirtyText(){this._display.text=this._getText(),this.get("role")=="tooltip"&&this._root.updateTooltip(this),this.markDirtyBounds(),this.markDirty()}_setDataItem(e){super._setDataItem(e),this.get("populateText")&&this.markDirtyText()}getNumberFormatter(){return this.parent?this.parent.getNumberFormatter():super.getNumberFormatter()}getDateFormatter(){return this.parent?this.parent.getDateFormatter():super.getDateFormatter()}getDurationFormatter(){return this.parent?this.parent.getDurationFormatter():super.getDurationFormatter()}}Object.defineProperty(nf,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Text"});Object.defineProperty(nf,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Mr.classNames.concat([nf.className])});class tce{constructor(){Object.defineProperty(this,"_observer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this._observer=new ResizeObserver(e=>{W(e,t=>{W(this._targets,i=>{i.target===t.target&&i.callback()})})})}addTarget(e,t){this._observer.observe(e,{box:"border-box"}),this._targets.push({target:e,callback:t})}removeTarget(e){this._observer.unobserve(e),$v(this._targets,t=>t.target!==e)}}class Hv{constructor(){Object.defineProperty(this,"_timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]})}addTarget(e,t){if(this._timer===null){let r=null;const s=()=>{const o=Date.now();(r===null||o>r+Hv.delay)&&(r=o,W(this._targets,a=>{let l=a.target.getBoundingClientRect();(l.width!==a.size.width||l.height!==a.size.height)&&(a.size=l,a.callback())})),this._targets.length===0?this._timer=null:this._timer=requestAnimationFrame(s)};this._timer=requestAnimationFrame(s)}let i={width:0,height:0,left:0,right:0,top:0,bottom:0,x:0,y:0};this._targets.push({target:e,callback:t,size:i})}removeTarget(e){$v(this._targets,t=>t.target!==e),this._targets.length===0&&this._timer!==null&&(cancelAnimationFrame(this._timer),this._timer=null)}}Object.defineProperty(Hv,"delay",{enumerable:!0,configurable:!0,writable:!0,value:200});let nm=null;function nce(){return nm===null&&(typeof ResizeObserver<"u"?nm=new tce:nm=new Hv),nm}class ice{constructor(e,t){Object.defineProperty(this,"_sensor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_listener",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this._sensor=nce(),this._element=e,this._listener=EB(t),this._sensor.addTarget(e,t)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element),this._listener.dispose())}get sensor(){return this._sensor}}class ry extends cn{}Object.defineProperty(ry,"className",{enumerable:!0,configurable:!0,writable:!0,value:"InterfaceColors"});Object.defineProperty(ry,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:cn.classNames.concat([ry.className])});class va extends Me{constructor(){super(...arguments),Object.defineProperty(this,"_text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_textKeys",{enumerable:!0,configurable:!0,writable:!0,value:["text","fill","fillGradient","fillOpacity","textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","populateText","role","ignoreFormatting","maxChars","ariaLabel"]})}get text(){return this._text}_afterNew(){super._afterNew(),this._makeText(),W(this._textKeys,e=>{const t=this.get(e);t!=null&&this._text.set(e,t)}),this.get("html","")!==""&&this._text.set("text",""),this.onPrivate("maxWidth",()=>{this._setMaxDimentions()}),this.onPrivate("maxHeight",()=>{this._setMaxDimentions()})}_makeText(){this._text=this.children.push(nf.new(this._root,{}))}_updateChildren(){super._updateChildren();const e=this._text;if(W(this._textKeys,i=>{this._text.set(i,this.get(i))}),(this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isDirty("rotation"))&&this._setMaxDimentions(),this.get("html","")!==""?e.set("text",""):(e.set("text",this.get("text")),this._maybeUpdateHTMLColor()),(this.isDirty("fill")||this.isDirty("fillGradient"))&&this._maybeUpdateHTMLColor(),this.isDirty("textAlign")||this.isDirty("width")){const i=this.get("textAlign");let r;this.get("width")!=null?i=="right"?r=de:i=="center"?r=ot:r=0:i=="left"||i=="start"?r=this.get("paddingLeft",0):(i=="right"||i=="end")&&(r=-this.get("paddingRight",0)),e.set("x",r)}const t=this.get("background");t&&t.setPrivate("visible",e._display.textVisible)}_maybeUpdateHTMLColor(){const e=this.getPrivate("htmlElement");e&&this.get("fill")&&(e.style.color=this.get("fill").toCSSHex())}_setMaxDimentions(){const e=this.get("rotation"),t=e==90||e==270||e==-90,i=this._text,r=this.get("maxWidth",this.getPrivate("maxWidth",1/0));Y(r)?i.set(t?"maxHeight":"maxWidth",r-this.get("paddingTop",0)-this.get("paddingBottom",0)):i.set(t?"maxHeight":"maxWidth",void 0);const s=this.get("maxHeight",this.getPrivate("maxHeight",1/0));Y(s)?i.set(t?"maxWidth":"maxHeight",s-this.get("paddingLeft",0)-this.get("paddingRight",0)):i.set(t?"maxWidth":"maxHeight",void 0),this.root.events.once("frameended",()=>{i.markDirtyBounds()})}_setDataItem(e){super._setDataItem(e),this._markDirtyKey("text"),this._markDirtyKey("html");const t=this._text;t.get("populateText")&&t.markDirtyText();const i=this.get("html");i&&i!==""&&this._updateHTMLContent()}getText(){return this._text._getText()}getAccessibleText(){return this._text._getAccessibleText()}}Object.defineProperty(va,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Label"});Object.defineProperty(va,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Me.classNames.concat([va.className])});class Lu extends ct{_beforeChanged(){super._beforeChanged(),(this.isDirty("pointerBaseWidth")||this.isDirty("cornerRadius")||this.isDirty("pointerLength")||this.isDirty("pointerX")||this.isDirty("pointerY")||this.isDirty("width")||this.isDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){this.markDirtyBounds();let e=this.width(),t=this.height();if(e>0&&t>0){let i=this.get("cornerRadius",8);i=zt(i,0,Math.min(e/2,t/2));let r=this.get("pointerX",0),s=this.get("pointerY",0),o=this.get("pointerBaseWidth",15)/2,a=0,l=0,u=e,c=0,h=e,d=t,f=0,y=t,g=(r-a)*(d-l)-(s-l)*(h-a),_=(r-f)*(c-y)-(s-y)*(u-f);const v=this._display;if(v.moveTo(i,0),g>0&&_>0){let b=Math.round(zt(r,i+o,e-o-i));s=zt(s,-1/0,0),v.lineTo(b-o,0),v.lineTo(r,s),v.lineTo(b+o,0)}if(v.lineTo(e-i,0),v.arcTo(e,0,e,i,i),g>0&&_<0){let b=Math.round(zt(s,i+o,t-o-i));r=zt(r,e,1/0),v.lineTo(e,i),v.lineTo(e,Math.max(b-o,i)),v.lineTo(r,s),v.lineTo(e,b+o)}if(v.lineTo(e,t-i),v.arcTo(e,t,e-i,t,i),g<0&&_<0){let b=Math.round(zt(r,i+o,e-o-i));s=zt(s,t,1/0),v.lineTo(e-i,t),v.lineTo(b+o,t),v.lineTo(r,s),v.lineTo(b-o,t)}if(v.lineTo(i,t),v.arcTo(0,t,0,t-i,i),g<0&&_>0){let b=Math.round(zt(s,i+o,t-i-o));r=zt(r,-1/0,0),v.lineTo(0,t-i),v.lineTo(0,b+o),v.lineTo(r,s),v.lineTo(0,Math.max(b-o,i))}v.lineTo(0,i),v.arcTo(0,0,i,0,i),v.closePath()}}}}Object.defineProperty(Lu,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PointedRectangle"});Object.defineProperty(Lu,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ct.classNames.concat([Lu.className])});class ea extends Me{constructor(e,t,i,r=[]){super(e,t,i,r),Object.defineProperty(this,"_fx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_fy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fillDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fillGrDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_labelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_w",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_h",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_keepHoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlContentHovered",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._settings.themeTags=Ct(this._settings.themeTags,["tooltip"]),super._afterNew(),this._setDefaultFn("background",()=>Lu.new(this._root,{})).set("themeTags",["tooltip","background"]),this._label=this.children.push(va.new(this._root,{})),this._disposers.push(this._label.events.on("boundschanged",()=>{this._updateBackground()})),this._disposers.push(this.on("bounds",()=>{this._updateBackground()})),this._updateTextColor(),this._root.tooltipContainer.children.push(this),this.hide(0),this._disposers.push(this.label.onPrivate("htmlElement",t=>{t&&(this._disposers.push(St(t,"pointerover",i=>{this._htmlContentHovered=!0})),this._disposers.push(St(t,"pointerout",i=>{this._htmlContentHovered=!1})))})),this.on("visible",t=>{this._handleReaderAnnouncement()}),this.label.events.on("dataitemchanged",t=>{this._handleReaderAnnouncement()}),this._root._tooltips.push(this)}_handleReaderAnnouncement(){this.get("readerAnnounce")&&this.isVisibleDeep()&&this._root.readerAlert(this.label.getAccessibleText())}get label(){return this._label}_dispose(){super._dispose(),Xi(this._root._tooltips,this)}_updateChildren(){super._updateChildren(),(this.isDirty("pointerOrientation")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight"))&&this.get("background")._markDirtyKey("width"),this.get("labelText")!=null&&this.label.set("text",this.get("labelText")),this.get("labelHTML")!=null&&this.label.set("html",this.get("labelHTML")),this.get("labelAriaLabel")!=null&&this.label.set("ariaLabel",this.get("labelAriaLabel"))}_changed(){if(super._changed(),(this.isDirty("pointTo")||this.isDirty("pointerOrientation"))&&this._updateBackground(),this.isDirty("tooltipTarget")&&this.updateBackgroundColor(),this.isDirty("keepTargetHover"))if(this.get("keepTargetHover")){const t=this.get("background");this._keepHoverDp=new fi([t.events.on("pointerover",i=>{let r=this.get("tooltipTarget");r&&(r.parent&&r.parent.getPrivate("tooltipTarget")==r&&(r=r.parent),r.hover())}),t.events.on("pointerout",i=>{let r=this.get("tooltipTarget");r&&(r.parent&&r.parent.getPrivate("tooltipTarget")==r&&(r=r.parent),this._htmlContentHovered||r.unhover())})]),this.label.onPrivate("htmlElement",i=>{this._keepHoverDp&&i&&this._keepHoverDp.disposers.push(St(i,"pointerleave",r=>{const s=this.root._renderer.getEvent(r);t.events.dispatch("pointerout",{type:"pointerout",originalEvent:s.event,point:s.point,simulated:!1,target:t})}))})}else this._keepHoverDp&&(this._keepHoverDp.dispose(),this._keepHoverDp=void 0)}_onShow(){super._onShow(),this.updateBackgroundColor()}updateBackgroundColor(){let e=this.get("tooltipTarget");const t=this.get("background");let i,r;if(e&&t){if(i=e.get("fill"),r=e.get("stroke"),i==null&&(i=r),this.get("getFillFromSprite")&&(this._fillDp&&this._fillDp.dispose(),i!=null&&t.set("fill",i),this._fillDp=e.on("fill",s=>{s!=null&&(t.set("fill",s),this._updateTextColor(s))}),this._disposers.push(this._fillDp)),this.get("getFillGradientFromSprite")){this._fillGrDp&&this._fillGrDp.dispose();let s=e.get("fillGradient");s!=null&&t.set("fillGradient",s),this._fillGrDp=e.on("fillGradient",o=>{o!=null&&t.set("fillGradient",o)}),this._disposers.push(this._fillGrDp)}this.get("getStrokeFromSprite")&&(this._strokeDp&&this._strokeDp.dispose(),i!=null&&t.set("stroke",i),this._strokeDp=e.on("fill",s=>{s!=null&&t.set("stroke",s)}),this._disposers.push(this._strokeDp)),this.get("getLabelFillFromSprite")&&(this._labelDp&&this._labelDp.dispose(),i!=null&&this.label.set("fill",i),this._labelDp=e.on("fill",s=>{s!=null&&this.label.set("fill",s)}),this._disposers.push(this._labelDp))}this._updateTextColor(i)}_updateTextColor(e){this.get("autoTextColor")&&(e==null&&(e=this.get("background").get("fill")),e==null&&(e=this._root.interfaceColors.get("background")),e instanceof _e&&this.label.set("fill",_e.alternative(e,this._root.interfaceColors.get("alternativeText"),this._root.interfaceColors.get("text"))))}_setDataItem(e){super._setDataItem(e),this.label._setDataItem(e)}_updateBackground(){super.updateBackground();const e=this._root.container;if(e){let t=.5,i=.5,r=this.get("centerX");r instanceof Ye&&(t=r.value);let s=this.get("centerY");s instanceof Ye&&(i=s.value);let o=e.width(),a=e.height(),l=this.parent,u=0,c=0;if(l){u=l.x(),c=l.y();const D=l.get("layerMargin");D&&(u+=D.left||0,c+=D.top||0,o+=(D.left||0)+(D.right||0),a+=(D.top||0)+(D.bottom||0))}const h=this.get("bounds",{left:-u,top:-c,right:o-u,bottom:a-c});this._updateBounds();let d=this.width(),f=this.height();d===0&&(d=this._w),f===0&&(f=this._h);let y=this.get("pointTo",{x:o/2,y:a/2}),g=y.x,_=y.y,v=this.get("pointerOrientation"),b=this.get("background"),x=0,P=0,k=0;b instanceof Lu&&(x=b.get("pointerLength",0),P=b.get("strokeWidth",0)/2,k=P,b.set("width",d),b.set("height",f));let M=0,A=0,T=h.right-h.left,E=h.bottom-h.top;v=="horizontal"||v=="left"||v=="right"?(P=0,v=="horizontal"?g>h.left+T/2?(g-=d*(1-t)+x,k*=-1):g+=d*t+x:v=="left"?g+=d*(1-t)+x:(g-=d*t+x,k*=-1)):(k=0,v=="vertical"?_>h.top+f/2+x?_-=f*(1-i)+x:(_+=f*i+x,P*=-1):v=="down"?_-=f*(1-i)+x:(_+=f*i+x,P*=-1)),g=zt(g,h.left+d*t,h.left+T-d*(1-t))+k,_=zt(_,h.top+f*i,h.top+E-f*(1-i))-P,M=y.x-g+d*t+k,A=y.y-_+f*i-P,this._fx=g,this._fy=_;const C=this.get("animationDuration",0);if(C>0&&this.get("visible")&&this.get("opacity")>.1){const D=this.get("animationEasing");this.animate({key:"x",to:g,duration:C,easing:D}),this.animate({key:"y",to:_,duration:C,easing:D})}else this.set("x",g),this.set("y",_);b instanceof Lu&&(b.set("pointerX",M),b.set("pointerY",A)),d>0&&(this._w=d),f>0&&(this._h=f)}}}Object.defineProperty(ea,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tooltip"});Object.defineProperty(ea,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Me.classNames.concat([ea.className])});class rce extends cn{_setDefaults(){this._setDefault("negativeBase",0),this._setDefault("numberFormat","#,###.#####"),this._setDefault("smallNumberThreshold",1);const e="_big_number_suffix_",t="_small_number_suffix_",i="_byte_suffix_";this._setDefault("bigNumberPrefixes",[{number:1e3,suffix:this._t(e+"3")},{number:1e6,suffix:this._t(e+"6")},{number:1e9,suffix:this._t(e+"9")},{number:1e12,suffix:this._t(e+"12")},{number:1e15,suffix:this._t(e+"15")},{number:1e18,suffix:this._t(e+"18")},{number:1e21,suffix:this._t(e+"21")},{number:1e24,suffix:this._t(e+"24")}]),this._setDefault("smallNumberPrefixes",[{number:1e-24,suffix:this._t(t+"24")},{number:1e-21,suffix:this._t(t+"21")},{number:1e-18,suffix:this._t(t+"18")},{number:1e-15,suffix:this._t(t+"15")},{number:1e-12,suffix:this._t(t+"12")},{number:1e-9,suffix:this._t(t+"9")},{number:1e-6,suffix:this._t(t+"6")},{number:.001,suffix:this._t(t+"3")}]),this._setDefault("bytePrefixes",[{number:1,suffix:this._t(i+"B")},{number:1024,suffix:this._t(i+"KB")},{number:1048576,suffix:this._t(i+"MB")},{number:1073741824,suffix:this._t(i+"GB")},{number:1099511627776,suffix:this._t(i+"TB")},{number:0x4000000000000,suffix:this._t(i+"PB")}]),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,t,i){(t==null||Sl(t)&&t.toLowerCase()==="number")&&(t=this.get("numberFormat",""));let r,s=Number(e);if($c(t))try{return this.get("intlLocales")?new Intl.NumberFormat(this.get("intlLocales"),t).format(s):new Intl.NumberFormat(void 0,t).format(s)}catch{return"Invalid"}else{t=zE(t);let o=this.parseFormat(t,this._root.language),a;s>this.get("negativeBase")?a=o.positive:s<this.get("negativeBase")?a=o.negative:a=o.zero,i!=null&&!a.mod&&(a=Za(a),a.decimals.active=s==0?0:i),r=a.template.split(ya).join(this.applyFormat(s,a))}return this.get("forceLTR")===!0&&(r=""+r),r}parseFormat(e,t){const i=t.translateEmpty("_thousandSeparator"),r=t.translateEmpty("_decimalSeparator");let s={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:r},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:r},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:i},decimals:{active:-1,passive:-1,separator:r},template:"",source:"",parsed:!1}};e=e.replace("||",_u);let o=e.split("|");return s.positive.source=o[0],typeof o[2]>"u"?s.zero=s.positive:s.zero.source=o[2],typeof o[1]>"u"?s.negative=s.positive:s.negative.source=o[1],Ze(s,(a,l)=>{if(l.parsed)return;let u=l.source;u.toLowerCase()==="number"&&(u=this.get("numberFormat","#,###.#####"));let c=Ar.chunk(u,!0);for(let h=0;h<c.length;h++){let d=c[h];if(d.text=d.text.replace(_u,"|"),d.type==="value"){let f=d.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP!]?/);if(f)if(f===null||f[0]==="")l.template+=d.text;else{let y=f[0].match(/[abespABESP%!]{2}|[abespABESP%]{1}$/);y&&(l.mod=y[0].toLowerCase(),l.modSpacing=!!f[0].match(/[ ]{1}[abespABESP%!]{1}$/));let g=f[0].split(".");if(g[0]!==""){l.thousands.active=(g[0].match(/0/g)||[]).length,l.thousands.passive=(g[0].match(/\#/g)||[]).length+l.thousands.active;let _=g[0].split(",");_.length===1||(l.thousands.interval=(_.pop()||"").length,l.thousands.interval===0&&(l.thousands.interval=-1))}typeof g[1]>"u"||(l.decimals.active=(g[1].match(/0/g)||[]).length,l.decimals.passive=(g[1].match(/\#/g)||[]).length+l.decimals.active),l.template+=d.text.split(f[0]).join(ya)}}else l.template+=d.text}l.parsed=!0}),s}applyFormat(e,t){let i=e<0;e=Math.abs(e);let r="",s="",o=t.mod?t.mod.split(""):[];if(o.indexOf("b")!==-1){let h=this.applyPrefix(e,this.get("bytePrefixes"),o.indexOf("!")!==-1);e=h[0],r=h[1],s=h[2],t.modSpacing&&(s=" "+s)}else if(o.indexOf("a")!==-1){let h=this.applyPrefix(e,e<this.get("smallNumberThreshold")?this.get("smallNumberPrefixes"):this.get("bigNumberPrefixes"),o.indexOf("!")!==-1);e=h[0],r=h[1],s=h[2],t.modSpacing&&(s=" "+s)}else if(o.indexOf("p")!==-1){let h=Math.min(e.toString().length+2,21);e=parseFloat(e.toPrecision(h)),r=this._root.language.translate("_percentPrefix"),s=this._root.language.translate("_percentSuffix"),r==""&&s==""&&(s="%")}else if(o.indexOf("%")!==-1){let h=Math.min(e.toString().length+2,21);e*=100,e=parseFloat(e.toPrecision(h)),s="%"}else if(o.indexOf("")!==-1){let h=Math.min(e.toString().length+3,21);e*=1e3,e=parseFloat(e.toPrecision(h)),s=""}if(o.indexOf("e")!==-1){let h;t.decimals.passive>=0?h=e.toExponential(t.decimals.passive).split("e"):h=e.toExponential().split("e"),e=Number(h[0]),s="e"+h[1],t.modSpacing&&(s=" "+s)}else if(t.decimals.passive===0)e=Math.round(e);else if(t.decimals.passive>0){const h=SB(e);if(h>0){const d=Math.pow(10,t.decimals.passive);e=Math.round(parseFloat((e*d).toFixed(h)))/d}}let a="",l=uue(e).split("."),u=l[0];if(u.length<t.thousands.active&&(u=Array(t.thousands.active-u.length+1).join("0")+u),t.thousands.interval>0){let h=[],d=u.split("").reverse().join("");for(let f=0,y=u.length;f<=y;f+=t.thousands.interval){let g=d.substr(f,t.thousands.interval).split("").reverse().join("");g!==""&&h.unshift(g)}u=h.join(t.thousands.separator)}a+=u,l.length===1&&l.push("");let c=l[1];return c.length<t.decimals.active&&(c+=Array(t.decimals.active-c.length+1).join("0")),c!==""&&(a+=t.decimals.separator+c),a===""&&(a="0"),e!==0&&i&&o.indexOf("s")===-1&&(a="-"+a),r&&(a=r+a),s&&(a+=s),a}applyPrefix(e,t,i=!1){let r=e,s="",o="",a=!1,l=1;for(let u=0,c=t.length;u<c;u++)t[u].number<=e&&(t[u].number===0?r=0:(r=e/t[u].number,l=t[u].number),s=t[u].prefix,o=t[u].suffix,a=!0);return!a&&i&&t.length&&e!=0&&(r=e/t[0].number,s=t[0].prefix,o=t[0].suffix,a=!0),a&&(r=parseFloat(r.toPrecision(Math.min(l.toString().length+Math.floor(r).toString().replace(/[^0-9]*/g,"").length,21)))),[r,s,o]}escape(e){return e.replace("||",_u)}unescape(e){return e.replace(_u,"|")}}function jB(n,e){let t=0,i=0,r=1,s=0,o=0,a=0,l=0,u=0;return n.formatToParts(e).forEach(c=>{switch(c.type){case"year":t=+c.value;break;case"month":i=+c.value-1;break;case"day":r=+c.value;break;case"hour":s=+c.value;break;case"minute":o=+c.value;break;case"second":a=+c.value;break;case"fractionalSecond":l=+c.value;break;case"weekday":switch(c.value){case"Sun":u=0;break;case"Mon":u=1;break;case"Tue":u=2;break;case"Wed":u=3;break;case"Thu":u=4;break;case"Fri":u=5;break;case"Sat":u=6;break}}}),s===24&&(s=0),{year:t,month:i,day:r,hour:s,minute:o,second:a,millisecond:l,weekday:u}}function ID(n,e){const{year:t,month:i,day:r,hour:s,minute:o,second:a,millisecond:l}=jB(n,e);return Date.UTC(t,i,r,s,o,a,l)}class sce{constructor(e,t){if(Object.defineProperty(this,"_utc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dtf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!t)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this.name=e,this._utc=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3}),this._dtf=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3})}static new(e){return new this(e,!0)}convertLocal(e){const t=this.offsetUTC(e),i=e.getTimezoneOffset(),r=new Date(e);r.setUTCMinutes(r.getUTCMinutes()-(t-i));const s=r.getTimezoneOffset();return i!=s&&r.setUTCMinutes(r.getUTCMinutes()+s-i),r}offsetUTC(e){const t=ID(this._utc,e),i=ID(this._dtf,e);return(t-i)/6e4}parseDate(e){return jB(this._dtf,e)}}class oce extends cn{_setDefaults(){this._setDefault("capitalize",!0),this._setDefault("dateFormat","yyyy-MM-dd"),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,t,i=!1){(typeof t>"u"||t==="")&&(t=this.get("dateFormat","yyyy-MM-dd"));let r,s=e;if($c(t))try{const u=this.get("intlLocales");return u?new Intl.DateTimeFormat(u,t).format(s):new Intl.DateTimeFormat(void 0,t).format(s)}catch{return"Invalid"}let o=this.parseFormat(t);const a=this._root.timezone;let l=s;return a&&!this._root.utc&&!i&&(s=a.convertLocal(s)),Y(s.getTime())?(r=this.applyFormat(s,o,i,l),this.get("capitalize")&&(r=r.replace(/^.{1}/,r.substr(0,1).toUpperCase())),r):"Invalid date"}applyFormat(e,t,i=!1,r){let s=t.template,o,a,l,u,c,h,d,f,y=e.getTime();this._root.utc&&!i?(o=e.getUTCFullYear(),a=e.getUTCMonth(),l=e.getUTCDay(),u=e.getUTCDate(),c=e.getUTCHours(),h=e.getUTCMinutes(),d=e.getUTCSeconds(),f=e.getUTCMilliseconds()):(o=e.getFullYear(),a=e.getMonth(),l=e.getDay(),u=e.getDate(),c=e.getHours(),h=e.getMinutes(),d=e.getSeconds(),f=e.getMilliseconds());for(let g=0,_=t.parts.length;g<_;g++){let v="";switch(t.parts[g]){case"G":v=this._t(o<0?"_era_bc":"_era_ad");break;case"yyyy":v=Math.abs(o).toString(),o<0&&(v+=this._t("_era_bc"));break;case"yyy":case"yy":case"y":v=Math.abs(o).toString().substr(-t.parts[g].length),o<0&&(v+=this._t("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":let b=kue(e,this._root.utc);t.parts[g]=="YYYY"?v=Math.abs(b).toString():v=Math.abs(b).toString().substr(-t.parts[g].length),b<0&&(v+=this._t("_era_bc"));break;case"u":break;case"q":v=""+Math.ceil((e.getMonth()+1)/3);break;case"MMMMM":v=this._t(this._getMonth(a)).substr(0,1);break;case"MMMM":v=this._t(this._getMonth(a));break;case"MMM":v=this._t(this._getShortMonth(a));break;case"MM":v=Bt(a+1,2,"0");break;case"M":v=(a+1).toString();break;case"ww":v=Bt(ty(e,this._root.utc),2,"0");break;case"w":v=ty(e,this._root.utc).toString();break;case"W":v=Iue(e,this._root.utc).toString();break;case"dd":v=Bt(u,2,"0");break;case"d":v=u.toString();break;case"DD":case"DDD":v=Bt(ED(e,this._root.utc).toString(),t.parts[g].length,"0");break;case"D":v=ED(e,this._root.utc).toString();break;case"F":break;case"g":break;case"t":v=this._root.language.translateFunc("_dateOrd").call(this,u);break;case"E":v=(l||7).toString();break;case"EE":v=Bt((l||7).toString(),2,"0");break;case"EEE":case"eee":v=this._t(this._getShortWeekday(l));break;case"EEEE":case"eeee":v=this._t(this._getWeekday(l));break;case"EEEEE":case"eeeee":v=this._t(this._getShortWeekday(l)).substr(0,1);break;case"e":case"ee":v=(l-(this._root.locale.firstDayOfWeek||1)+1).toString(),t.parts[g]=="ee"&&(v=Bt(v,2,"0"));break;case"a":c>=12?v=this._t("PM"):v=this._t("AM");break;case"aa":c>=12?v=this._t("P.M."):v=this._t("A.M.");break;case"aaa":c>=12?v=this._t("P"):v=this._t("A");break;case"h":v=Jp(c).toString();break;case"hh":v=Bt(Jp(c),2,"0");break;case"H":v=c.toString();break;case"HH":v=Bt(c,2,"0");break;case"K":v=Jp(c,0).toString();break;case"KK":v=Bt(Jp(c,0),2,"0");break;case"k":v=(c+1).toString();break;case"kk":v=Bt(c+1,2,"0");break;case"m":v=h.toString();break;case"mm":v=Bt(h,2,"0");break;case"s":v=d.toString();break;case"ss":v=Bt(d,2,"0");break;case"S":case"SS":case"SSS":v=Math.round(f/1e3*Math.pow(10,t.parts[g].length)).toString();break;case"x":v=y.toString();break;case"n":case"nn":case"nnn":v=Bt(f,t.parts[g].length,"0");break;case"z":v=em(r||e,!1,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zz":v=em(r||e,!0,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"zzz":v=em(r||e,!1,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zzzz":v=em(r||e,!0,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"Z":case"ZZ":let x=this._root.utc?"UTC":this._root.timezone;x instanceof sce&&(x=x.name);const P=x?Rue(x,r||e):e.getTimezoneOffset();let k=Math.abs(P)/60,M=Math.floor(k),A=k*60-M*60;this._root.utc&&(M=0,A=0),t.parts[g]=="Z"?(v="GMT",v+=P>0?"-":"+",v+=Bt(M,2)+":"+Bt(A,2)):(v=P>0?"-":"+",v+=Bt(M,2)+Bt(A,2));break;case"i":v=e.toISOString();break;case"I":v=e.toUTCString();break}s=s.replace(ya,v)}return s}parseFormat(e){let t={template:"",parts:[]},i=Ar.chunk(e,!0);for(let r=0;r<i.length;r++){let s=i[r];if(s.type==="value"){if(s.text.match(/^date$/i)){let a=this.get("dateFormat","yyyy-MM-dd");Sl(a)||(a="yyyy-MM-dd"),s.text=a}let o=s.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(o)for(let a=0;a<o.length;a++)t.parts.push(o[a]),s.text=s.text.replace(o[a],ya)}t.template+=s.text}return t}_months(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}_getMonth(e){return this._months()[e]}_shortMonths(){return["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}_getShortMonth(e){return this._shortMonths()[e]}_weekdays(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}_getWeekday(e){return this._weekdays()[e]}_shortWeekdays(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}_getShortWeekday(e){return this._shortWeekdays()[e]}parse(e,t,i){if(typeof i>"u"&&(i=this._root.utc),e instanceof Date)return e;if(Y(e))return new Date(e);if(t=="x")return new Date(parseInt(e));Sl(e)||(e=e.toString());let r,s="";t=zE(t),t=t.substr(0,e.length);let o=this.parseFormat(t),a={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},l={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:i},u=0,c=0;for(let f=0;f<o.parts.length;f++){switch(c=f+u+1,o.parts[f]){case"yyyy":case"YYYY":s+="([0-9]{4})",a.year=c;break;case"yyy":case"YYY":s+="([0-9]{3})",a.year3=c;break;case"yy":case"YY":s+="([0-9]{2})",a.year2=c;break;case"y":case"Y":s+="([0-9]{1})",a.year1=c;break;case"MMMM":s+="("+this.getStringList(this._months()).join("|")+")",a.monthLong=c;break;case"MMM":s+="("+this.getStringList(this._shortMonths()).join("|")+")",a.monthShort=c;break;case"MM":case"M":s+="([0-9]{2}|[0-9]{1})",a.month=c;break;case"ww":case"w":s+="([0-9]{2}|[0-9]{1})",a.week=c;break;case"dd":case"d":s+="([0-9]{2}|[0-9]{1})",a.day=c;break;case"DDD":case"DD":case"D":s+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.yearDay=c;break;case"dddd":s+="("+this.getStringList(this._weekdays()).join("|")+")",a.weekdayLong=c;break;case"ddd":s+="("+this.getStringList(this._shortWeekdays()).join("|")+")",a.weekdayShort=c;break;case"aaa":case"aa":case"a":s+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",a.am=c;break;case"hh":case"h":s+="([0-9]{2}|[0-9]{1})",a.hour12Base1=c;break;case"HH":case"H":s+="([0-9]{2}|[0-9]{1})",a.hourBase0=c;break;case"KK":case"K":s+="([0-9]{2}|[0-9]{1})",a.hour12Base0=c;break;case"kk":case"k":s+="([0-9]{2}|[0-9]{1})",a.hourBase1=c;break;case"mm":case"m":s+="([0-9]{2}|[0-9]{1})",a.minute=c;break;case"ss":case"s":s+="([0-9]{2}|[0-9]{1})",a.second=c;break;case"SSS":case"SS":case"S":s+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.millisecond=c,a.millisecondDigits=o.parts[f].length;break;case"nnn":case"nn":case"n":s+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.millisecond=c;break;case"x":s+="([0-9]{1,})",a.timestamp=c;break;case"Z":s+="GMT([-+]+[0-9]{2}:[0-9]{2})",a.zone=c;break;case"ZZ":s+="([\\-+]+[0-9]{2}[0-9]{2})",a.zone=c;break;case"i":s+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\.?([0-9]{0,3})([zZ]|[+\\-][0-9]{2}:?[0-9]{2}|$)",a.iso=c,u+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":u--;break}s+="[^0-9]*"}let h=new RegExp(s),d=e.match(h);if(d){if(a.year>-1&&(l.year=parseInt(d[a.year])),a.year3>-1){let f=parseInt(d[a.year3]);f+=1e3,l.year=f}if(a.year2>-1){let f=parseInt(d[a.year2]);f>50?f+=1e3:f+=2e3,l.year=f}if(a.year1>-1){let f=parseInt(d[a.year1]);f=Math.floor(new Date().getFullYear()/10)*10+f,l.year=f}if(a.monthLong>-1&&(l.month=this.resolveMonth(d[a.monthLong])),a.monthShort>-1&&(l.month=this.resolveShortMonth(d[a.monthShort])),a.month>-1&&(l.month=parseInt(d[a.month])-1),a.week>-1&&a.day===-1&&(l.month=0,l.day=Due(parseInt(d[a.week]),l.year,1,i)),a.day>-1&&(l.day=parseInt(d[a.day])),a.yearDay>-1&&(l.month=0,l.day=parseInt(d[a.yearDay])),a.hourBase0>-1&&(l.hour=parseInt(d[a.hourBase0])),a.hourBase1>-1&&(l.hour=parseInt(d[a.hourBase1])-1),a.hour12Base0>-1){let f=parseInt(d[a.hour12Base0]);f==11&&(f=0),a.am>-1&&!this.isAm(d[a.am])&&(f+=12),l.hour=f}if(a.hour12Base1>-1){let f=parseInt(d[a.hour12Base1]);f==12&&(f=0),a.am>-1&&!this.isAm(d[a.am])&&(f+=12),l.hour=f}if(a.minute>-1&&(l.minute=parseInt(d[a.minute])),a.second>-1&&(l.second=parseInt(d[a.second])),a.millisecond>-1){let f=parseInt(d[a.millisecond]);a.millisecondDigits==2?f*=10:a.millisecondDigits==1&&(f*=100),l.millisecond=f}if(a.timestamp>-1){l.timestamp=parseInt(d[a.timestamp]);const f=new Date(l.timestamp);l.year=f.getUTCFullYear(),l.month=f.getUTCMonth(),l.day=f.getUTCDate(),l.hour=f.getUTCHours(),l.minute=f.getUTCMinutes(),l.second=f.getUTCSeconds(),l.millisecond=f.getUTCMilliseconds()}a.zone>-1&&(l.offset=this.resolveTimezoneOffset(new Date(l.year,l.month,l.day),d[a.zone])),a.iso>-1&&(l.year=hi(d[a.iso+0]),l.month=hi(d[a.iso+1])-1,l.day=hi(d[a.iso+2]),l.hour=hi(d[a.iso+3]),l.minute=hi(d[a.iso+4]),l.second=hi(d[a.iso+5]),l.millisecond=hi(d[a.iso+6]),d[a.iso+7]=="Z"||d[a.iso+7]=="z"?l.utc=!0:d[a.iso+7]!=""&&(l.offset=this.resolveTimezoneOffset(new Date(l.year,l.month,l.day),d[a.iso+7]))),l.utc?r=new Date(Date.UTC(l.year,l.month,l.day,l.hour,l.minute,l.second,l.millisecond)):r=new Date(l.year,l.month,l.day,l.hour,l.minute+l.offset,l.second,l.millisecond)}else r=new Date(e);return r}resolveTimezoneOffset(e,t){if(t.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)){let r=t.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/),s=r[1],o=r[2],a=r[3],l=parseInt(o)*60+parseInt(a);s=="+"&&(l*=-1);let u=(e||new Date).getTimezoneOffset();return l-u}return 0}resolveMonth(e){let t=this._months().indexOf(e);return t>-1||!this._root.language.isDefault()&&(t=this._root.language.translateAll(this._months()).indexOf(e),t>-1)?t:0}resolveShortMonth(e){let t=this._shortMonths().indexOf(e);return t>-1||(t=this._months().indexOf(e),t>-1)||this._root.language&&!this._root.language.isDefault()&&(t=this._root.language.translateAll(this._shortMonths()).indexOf(e),t>-1)?t:0}isAm(e){return this.getStringList(["AM","A.M.","A"]).indexOf(e.toUpperCase())>-1}getStringList(e){let t=[];for(let i=0;i<e.length;i++)this._root.language?t.push(TD(this._t(e[i]))):t.push(TD(e[i]));return t}}class ace extends cn{constructor(){super(...arguments),Object.defineProperty(this,"_unitAliases",{enumerable:!0,configurable:!0,writable:!0,value:{Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"}})}_setDefaults(){const e="_duration_millisecond",t="_duration_second",i="_duration_minute",r="_duration_hour",s="_duration_day",o="_duration_week",a="_duration_month",l="_duration_year",u="_second",c="_minute",h="_hour",d="_day",f="_week",y="_week",g="_year";this._setDefault("negativeBase",0),this._setDefault("baseUnit","second"),this._setDefault("durationFormats",{millisecond:{millisecond:this._t(e),second:this._t(e+u),minute:this._t(e+c),hour:this._t(e+h),day:this._t(e+d),week:this._t(e+f),month:this._t(e+y),year:this._t(e+g)},second:{second:this._t(t),minute:this._t(t+c),hour:this._t(t+h),day:this._t(t+d),week:this._t(t+f),month:this._t(t+y),year:this._t(t+g)},minute:{minute:this._t(i),hour:this._t(i+h),day:this._t(i+d),week:this._t(i+f),month:this._t(i+y),year:this._t(i+g)},hour:{hour:this._t(r),day:this._t(r+d),week:this._t(r+f),month:this._t(r+y),year:this._t(r+g)},day:{day:this._t(s),week:this._t(s+f),month:this._t(s+y),year:this._t(s+g)},week:{week:this._t(o),month:this._t(o+y),year:this._t(o+g)},month:{month:this._t(a),year:this._t(a+g)},year:{year:this._t(l)}}),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,t,i){let r=i||this.get("baseUnit");(typeof t>"u"||t==="")&&(this.get("durationFormat")!=null?t=this.get("durationFormat"):t=this.getFormat(hi(e),void 0,r)),t=zE(t);let s=this.parseFormat(t,r),o=Number(e),a;o>this.get("negativeBase")?a=s.positive:o<this.get("negativeBase")?a=s.negative:a=s.zero;let l=this.applyFormat(o,a);return a.color!==""&&(l="["+a.color+"]"+l+"[/]"),l}parseFormat(e,t){let i=t||this.get("baseUnit"),r={positive:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:i,parsed:!1,absolute:!1}};e=e.replace("||",_u);let s=e.split("|");return r.positive.source=s[0],typeof s[2]>"u"?r.zero=r.positive:r.zero.source=s[2],typeof s[1]>"u"?r.negative=r.positive:r.negative.source=s[1],Ze(r,(o,a)=>{if(a.parsed)return;let l=a.source,u=[];u=a.source.match(/^\[([^\]]*)\]/),u&&u.length&&u[0]!==""&&(l=a.source.substr(u[0].length),a.color=u[1]);let c=Ar.chunk(l,!0);for(let h=0;h<c.length;h++){let d=c[h];if(d.text=d.text.replace(_u,"|"),d.type==="value"){d.text.match(/[yYMdDwhHKkmsSn]+a/)&&(a.absolute=!0,d.text=d.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));let f=d.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(f)for(let y=0;y<f.length;y++)f[y]==null&&(f[y]=this._unitAliases[f[y]]),a.parts.push(f[y]),d.text=d.text.replace(f[y],ya)}a.template+=d.text}a.parsed=!0}),r}applyFormat(e,t){let i=!t.absolute&&e<this.get("negativeBase");e=Math.abs(e);let r=this.toTimeStamp(e,t.baseUnit),s=t.template;const o={millisecond:0,second:0,minute:0,hour:0,day:0,week:0,month:0,year:0};for(let a=0,l=t.parts.length;a<l;a++){let u=t.parts[a],c=this._toTimeUnit(u.substr(0,1)),h;const d=this._getUnitValue(c);a<l-1?h=Math.floor(r/d):h=Math.round(r/d),o[c]+=h,r-=h*d}Ze(o,(a,l)=>{a=="millisecond"&&l==1e3?(o.second++,o.millisecond=0):a=="second"&&l==60?(o.minute++,o.second=0):a=="minute"&&l==60?(o.hour++,o.minute=0):a=="hour"&&l==24?(o.day++,o.hour=0):a=="day"&&l==7?(o.week++,o.day=0):a=="day"&&l==30?(o.month++,o.day=0):a=="month"&&l==12&&(o.year++,o.month=0)});for(let a=0,l=t.parts.length;a<l;a++){let u=t.parts[a],c=this._toTimeUnit(u.substr(0,1)),h=u.length;s=s.replace(ya,Bt(o[c],h,"0"))}return i&&(s="-"+s),s}toTimeStamp(e,t){return e*this._getUnitValue(t)}_toTimeUnit(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}}getFormat(e,t,i){if(this.get("durationFormat")!=null)return this.get("durationFormat");if(i||(i=this.get("baseUnit")),t!=null&&e!=t){e=Math.abs(e),t=Math.abs(t);let r=this.getValueUnit(Math.max(e,t),i);return this.get("durationFormats")[i][r]}else{let r=this.getValueUnit(e,i);return this.get("durationFormats")[i][r]}}getValueUnit(e,t){t||(t=this.get("baseUnit"));let i,r=this.getMilliseconds(e,t);return mue(this._getUnitValues(),(s,o)=>{if(s==t||i){if(r/o<=1)return i||(i=s),!1;i=s}return!0}),i}getMilliseconds(e,t){return t||(t=this.get("baseUnit")),e*this._getUnitValue(t)}_getUnitValue(e){return this._getUnitValues()[e]}_getUnitValues(){return{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}}}const LB={firstDayOfWeek:1,_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"HH:mm:ss",_date_second_full:"HH:mm:ss",_date_minute:"HH:mm",_date_minute_full:"HH:mm - MMM dd, yyyy",_date_hour:"HH:mm",_date_hour_full:"HH:mm - MMM dd, yyyy",_date_day:"MMM dd",_date_day_full:"MMM dd, yyyy",_date_week:"ww",_date_week_full:"MMM dd, yyyy",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(n){let e="th";if(n<11||n>13)switch(n%10){case 1:e="st";break;case 2:e="nd";break;case 3:e="rd";break}return e},"Zoom Out":"",Play:"",Stop:"",Legend:"","Press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Press ENTER to open":"","Press ENTER to print.":"","Press ENTER to export as %1.":"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""};class lce extends cn{_setDefaults(){this.setPrivate("defaultLocale",LB),super._setDefaults()}translate(e,t,...i){t||(t=this._root.locale||this.getPrivate("defaultLocale"));let r=e,s=t[e];if(s===null)r="";else if(s!=null)s&&(r=s);else if(t!==this.getPrivate("defaultLocale"))return this.translate(e,this.getPrivate("defaultLocale"),...i);if(i.length)for(let o=i.length,a=0;a<o;++a)r=r.split("%"+(a+1)).join(i[a]);return r}translateAny(e,t,...i){return this.translate(e,t,...i)}setTranslationAny(e,t,i){const r=i||this._root.locale;r[e]=t}setTranslationsAny(e,t){Ze(e,(i,r)=>{this.setTranslationAny(i,r,t)})}translateEmpty(e,t,...i){let r=this.translate(e,t,...i);return r==e?"":r}translateFunc(e,t){return this._root.locale[e]?this._root.locale[e]:t!==this.getPrivate("defaultLocale")?this.translateFunc(e,this.getPrivate("defaultLocale")):()=>""}translateAll(e,t){return this.isDefault()?e:rx(e,i=>this.translate(i,t))}isDefault(){return this.getPrivate("defaultLocale")===this._root.locale}}class HE{constructor(e,t){if(Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rules",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._root=e,!t)throw new Error("You cannot use `new Class()`, instead use `Class.new()`")}static new(e){const t=new this(e,!0);return t.setupDefaultRules(),t}setupDefaultRules(){}_lookupRules(e){return this._rules[e]}ruleRaw(e,t=[]){let i=this._rules[e];i||(i=this._rules[e]=[]),t.sort(rs);const{index:r,found:s}=lx(i,o=>{const a=rs(o.tags.length,t.length);return a===0?NB(o.tags,t,rs):a});if(s)return i[r].template;{const o=Sn.new({});return i.splice(r,0,{tags:t,template:o}),o}}rule(e,t=[]){return this.ruleRaw(e,t)}}function we(n,e,t,i){n.set(e,t.get(i)),t.on(i,r=>{n.set(e,r)})}class uce extends HE{setupDefaultRules(){super.setupDefaultRules();const e=this._root.language,t=this._root.interfaceColors,i=this._root.horizontalLayout,r=this._root.verticalLayout,s=this.rule.bind(this);s("InterfaceColors").setAll({stroke:_e.fromHex(15066597),fill:_e.fromHex(15987699),primaryButton:_e.fromHex(6788316),primaryButtonHover:_e.fromHex(6779356),primaryButtonDown:_e.fromHex(6872182),primaryButtonActive:_e.fromHex(6872182),primaryButtonDisabled:_e.fromHex(14342874),primaryButtonTextDisabled:_e.fromHex(16777215),primaryButtonText:_e.fromHex(16777215),primaryButtonStroke:_e.fromHex(16777215),secondaryButton:_e.fromHex(14277081),secondaryButtonHover:_e.fromHex(10724259),secondaryButtonDown:_e.fromHex(9276813),secondaryButtonActive:_e.fromHex(15132390),secondaryButtonText:_e.fromHex(0),secondaryButtonStroke:_e.fromHex(16777215),grid:_e.fromHex(0),background:_e.fromHex(16777215),alternativeBackground:_e.fromHex(0),text:_e.fromHex(0),alternativeText:_e.fromHex(16777215),disabled:_e.fromHex(11382189),positive:_e.fromHex(5288704),negative:_e.fromHex(11730944)});{const o=s("ColorSet");o.setAll({passOptions:{hue:.05,saturation:0,lightness:0},colors:[_e.fromHex(6797276)],step:1,reuse:!1,startIndex:0}),o.setPrivate("currentStep",0),o.setPrivate("currentPass",0)}s("Entity").setAll({stateAnimationDuration:0,stateAnimationEasing:Kl(Fa)}),s("Component").setAll({interpolationDuration:0,interpolationEasing:Kl(Fa)}),s("Sprite").setAll({visible:!0,scale:1,opacity:1,rotation:0,position:"relative",tooltipX:ot,tooltipY:ot,tooltipPosition:"fixed",isMeasured:!0}),s("Sprite").states.create("default",{visible:!0,opacity:1}),s("Container").setAll({interactiveChildren:!0,setStateOnChildren:!1}),s("Graphics").setAll({strokeWidth:1}),s("Chart").setAll({width:de,height:de,interactiveChildren:!1}),s("ZoomableContainer").setAll({width:de,height:de,wheelable:!0,pinchZoom:!0,maxZoomLevel:32,minZoomLevel:1,zoomStep:2,animationEasing:Kl(Fa),animationDuration:600,maxPanOut:.4}),s("Sprite",["horizontal","center"]).setAll({centerX:ot,x:ot}),s("Sprite",["vertical","center"]).setAll({centerY:ot,y:ot}),s("Container",["horizontal","layout"]).setAll({layout:i}),s("Container",["vertical","layout"]).setAll({layout:r}),s("Pattern").setAll({repetition:"repeat",width:50,height:50,rotation:0,fillOpacity:1}),s("LinePattern").setAll({gap:6,colorOpacity:1,width:49,height:49}),s("RectanglePattern").setAll({gap:6,checkered:!1,centered:!0,maxWidth:5,maxHeight:5,width:48,height:48,strokeWidth:0}),s("CirclePattern").setAll({gap:5,checkered:!1,centered:!1,radius:3,strokeWidth:0,width:45,height:45}),s("GrainPattern").setAll({width:200,height:200,colors:[_e.fromHex(0)],size:1,horizontalGap:0,verticalGap:0,density:1,minOpacity:0,maxOpacity:.2});{const o=s("PatternSet");o.setAll({step:1}),we(o,"color",t,"stroke")}s("LinearGradient").setAll({rotation:90}),s("Legend").setAll({fillField:"fill",strokeField:"stroke",nameField:"name",layout:Cl.new(this._root,{}),layer:30,clickTarget:"itemContainer"}),s("Container",["legend","item","itemcontainer"]).setAll({paddingLeft:5,paddingRight:5,paddingBottom:5,paddingTop:5,layout:i,setStateOnChildren:!0,interactiveChildren:!1,ariaChecked:!0,focusable:!0,ariaLabel:e.translate("Press ENTER to toggle"),role:"checkbox"});{const o=s("Rectangle",["legend","item","background"]);o.setAll({fillOpacity:0}),we(o,"fill",t,"background")}s("Container",["legend","marker"]).setAll({setStateOnChildren:!0,centerY:ot,paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:0,width:18,height:18}),s("RoundedRectangle",["legend","marker","rectangle"]).setAll({width:de,height:de,cornerRadiusBL:3,cornerRadiusTL:3,cornerRadiusBR:3,cornerRadiusTR:3});{const o=s("RoundedRectangle",["legend","marker","rectangle"]).states.create("disabled",{});we(o,"fill",t,"disabled"),we(o,"stroke",t,"disabled")}s("Label",["legend","label"]).setAll({centerY:ot,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,populateText:!0});{const o=s("Label",["legend","label"]).states.create("disabled",{});we(o,"fill",t,"disabled")}s("Label",["legend","value","label"]).setAll({centerY:ot,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,width:50,centerX:de,populateText:!0});{const o=s("Label",["legend","value","label"]).states.create("disabled",{});we(o,"fill",t,"disabled")}s("HeatLegend").setAll({stepCount:1}),s("RoundedRectangle",["heatlegend","marker"]).setAll({cornerRadiusTR:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusBL:0}),s("RoundedRectangle",["vertical","heatlegend","marker"]).setAll({height:de,width:15}),s("RoundedRectangle",["horizontal","heatlegend","marker"]).setAll({width:de,height:15}),s("HeatLegend",["vertical"]).setAll({height:de}),s("HeatLegend",["horizontal"]).setAll({width:de}),s("Label",["heatlegend","start"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5}),s("Label",["heatlegend","end"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5});{const o=s("Label");o.setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontSize:"1em",populateText:!1}),we(o,"fill",t,"text")}s("RadialLabel").setAll({textType:"regular",centerY:ot,centerX:ot,inside:!1,radius:0,baseRadius:de,orientation:"auto",textAlign:"center"}),s("EditableLabel").setAll({editOn:"click",themeTags:["editablelabel"],multiLine:!0}),s("RoundedRectangle",["editablelabel","background"]).setAll({fillOpacity:0,fill:_e.fromHex(0),cornerRadiusBL:3,cornerRadiusBR:3,cornerRadiusTL:3,cornerRadiusTR:3,strokeOpacity:0,stroke:_e.fromHex(0)}),s("RoundedRectangle",["editablelabel","background"]).states.create("active",{strokeOpacity:.2}),s("RoundedRectangle").setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8}),s("PointedRectangle").setAll({pointerBaseWidth:15,pointerLength:10,cornerRadius:8}),s("Slice").setAll({shiftRadius:0,dRadius:0,dInnerRadius:0});{const o=s("Tick");o.setAll({strokeOpacity:.15,isMeasured:!1,length:4.5,position:"absolute",crisp:!0}),we(o,"stroke",t,"grid")}s("Bullet").setAll({locationX:.5,locationY:.5}),s("Tooltip").setAll({position:"absolute",getFillFromSprite:!0,getStrokeFromSprite:!1,autoTextColor:!0,paddingTop:9,paddingBottom:8,paddingLeft:10,paddingRight:10,marginBottom:5,pointerOrientation:"vertical",centerX:ot,centerY:ot,animationEasing:Kl(Fa),exportable:!1}),s("Polygon").setAll({animationEasing:Kl(Fa)}),s("PointedRectangle",["tooltip","background"]).setAll({strokeOpacity:.9,cornerRadius:4,pointerLength:4,pointerBaseWidth:8,fillOpacity:.9,stroke:_e.fromHex(16777215)});{const o=s("Label",["tooltip"]);o.setAll({role:"tooltip",populateText:!0,paddingRight:0,paddingTop:0,paddingLeft:0,paddingBottom:0}),we(o,"fill",t,"alternativeText")}s("Button").setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,interactive:!0,layout:i,interactiveChildren:!1,setStateOnChildren:!0,focusable:!0}),s("Button").states.create("hover",{}),s("Button").states.create("down",{stateAnimationDuration:0}),s("Button").states.create("active",{}),s("Button").states.create("disabled",{forceInactive:!0});{const o=s("RoundedRectangle",["button","background"]);we(o,"fill",t,"primaryButton"),we(o,"stroke",t,"primaryButtonStroke")}{const o=s("RoundedRectangle",["button","background"]).states.create("hover",{});we(o,"fill",t,"primaryButtonHover")}{const o=s("RoundedRectangle",["button","background"]).states.create("down",{stateAnimationDuration:0});we(o,"fill",t,"primaryButtonDown")}{const o=s("RoundedRectangle",["button","background"]).states.create("active",{});we(o,"fill",t,"primaryButtonActive")}{const o=s("RoundedRectangle",["button","background"]).states.create("disabled",{});we(o,"fill",t,"primaryButtonDisabled")}{const o=s("Graphics",["button","icon"]).states.create("disabled",{});we(o,"fill",t,"primaryButtonTextDisabled")}{const o=s("Label",["button"]).states.create("disabled",{});we(o,"fill",t,"primaryButtonTextDisabled")}{const o=s("Graphics",["button","icon"]);o.setAll({forceInactive:!0}),we(o,"stroke",t,"primaryButtonText")}{const o=s("Label",["button"]);we(o,"fill",t,"primaryButtonText")}s("Button",["zoom"]).setAll({paddingTop:18,paddingBottom:18,paddingLeft:12,paddingRight:12,centerX:46,centerY:-10,y:0,x:de,role:"button",ariaLabel:e.translate("Zoom Out"),layer:30});{const o=s("RoundedRectangle",["background","button","zoom"]);o.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),we(o,"fill",t,"primaryButton")}{const o=s("RoundedRectangle",["background","button","zoom"]).states.create("hover",{});we(o,"fill",t,"primaryButtonHover")}{const o=s("RoundedRectangle",["background","button","zoom"]).states.create("down",{stateAnimationDuration:0});we(o,"fill",t,"primaryButtonDown")}{const o=s("Graphics",["icon","button","zoom"]);o.setAll({crisp:!0,strokeOpacity:.7,draw:a=>{a.moveTo(0,0),a.lineTo(12,0)}}),we(o,"stroke",t,"primaryButtonText")}s("Button",["resize"]).setAll({paddingTop:9,paddingBottom:9,paddingLeft:13,paddingRight:13,draggable:!0,centerX:ot,centerY:ot,position:"absolute",role:"slider",ariaValueMin:"0",ariaValueMax:"100",ariaLabel:e.translate("Use up and down arrows to move selection")});{const o=s("RoundedRectangle",["background","resize","button"]);o.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),we(o,"fill",t,"secondaryButton"),we(o,"stroke",t,"secondaryButtonStroke")}{const o=s("RoundedRectangle",["background","resize","button"]).states.create("hover",{});we(o,"fill",t,"secondaryButtonHover")}{const o=s("RoundedRectangle",["background","resize","button"]).states.create("down",{stateAnimationDuration:0});we(o,"fill",t,"secondaryButtonDown")}{const o=s("Graphics",["resize","button","icon"]);o.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:a=>{a.moveTo(0,.5),a.lineTo(0,12.5),a.moveTo(4,.5),a.lineTo(4,12.5)}}),we(o,"stroke",t,"secondaryButtonText")}s("Button",["resize","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize"}),s("Button",["resize","horizontal"]).setAll({cursorOverStyle:"ew-resize"}),s("Button",["play"]).setAll({paddingTop:13,paddingBottom:13,paddingLeft:14,paddingRight:14,ariaLabel:e.translate("Play"),toggleKey:"active"});{const o=s("RoundedRectangle",["play","background"]);o.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),we(o,"fill",t,"primaryButton")}{const o=s("Graphics",["play","icon"]);o.setAll({stateAnimationDuration:0,dx:1,draw:a=>{a.moveTo(0,-5),a.lineTo(8,0),a.lineTo(0,5),a.lineTo(0,-5)}}),we(o,"fill",t,"primaryButtonText")}s("Graphics",["play","icon"]).states.create("default",{stateAnimationDuration:0}),s("Graphics",["play","icon"]).states.create("active",{stateAnimationDuration:0,draw:o=>{o.moveTo(-4,-5),o.lineTo(-1,-5),o.lineTo(-1,5),o.lineTo(-4,5),o.lineTo(-4,-5),o.moveTo(4,-5),o.lineTo(1,-5),o.lineTo(1,5),o.lineTo(4,5),o.lineTo(4,-5)}}),s("Button",["switch"]).setAll({paddingTop:4,paddingBottom:4,paddingLeft:4,paddingRight:4,ariaLabel:e.translate("Press ENTER to toggle"),toggleKey:"active",width:40,height:24,layout:null});{const o=s("RoundedRectangle",["switch","background"]);o.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),we(o,"fill",t,"primaryButton")}{const o=s("Circle",["switch","icon"]);o.setAll({radius:8,centerY:0,centerX:0,dx:0}),we(o,"fill",t,"primaryButtonText")}s("Graphics",["switch","icon"]).states.create("active",{dx:16}),s("Scrollbar").setAll({start:0,end:1,layer:30,animationEasing:Kl(Fa)}),s("Scrollbar",["vertical"]).setAll({marginRight:13,marginLeft:13,minWidth:12,height:de}),s("Scrollbar",["horizontal"]).setAll({marginTop:13,marginBottom:13,minHeight:12,width:de}),this.rule("Button",["scrollbar"]).setAll({exportable:!1});{const o=s("RoundedRectangle",["scrollbar","main","background"]);o.setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8,fillOpacity:.8}),we(o,"fill",t,"fill")}{const o=s("RoundedRectangle",["scrollbar","thumb"]);o.setAll({role:"slider",ariaLive:"polite",position:"absolute",draggable:!0}),we(o,"fill",t,"secondaryButton")}{const o=s("RoundedRectangle",["scrollbar","thumb"]).states.create("hover",{});we(o,"fill",t,"secondaryButtonHover")}{const o=s("RoundedRectangle",["scrollbar","thumb"]).states.create("down",{stateAnimationDuration:0});we(o,"fill",t,"secondaryButtonDown")}s("RoundedRectangle",["scrollbar","thumb","vertical"]).setAll({x:ot,width:de,centerX:ot,ariaLabel:e.translate("Use up and down arrows to move selection")}),s("RoundedRectangle",["scrollbar","thumb","horizontal"]).setAll({y:ot,centerY:ot,height:de,ariaLabel:e.translate("Use left and right arrows to move selection")});{const o=s("PointedRectangle",["axis","tooltip","background"]);o.setAll({cornerRadius:0}),we(o,"fill",t,"alternativeBackground")}s("Label",["axis","tooltip"]).setAll({role:void 0}),s("Label",["axis","tooltip","y"]).setAll({textAlign:"right"}),s("Label",["axis","tooltip","y","opposite"]).setAll({textAlign:"left"}),s("Label",["axis","tooltip","x"]).setAll({textAlign:"center"}),s("Tooltip",["categoryaxis"]).setAll({labelText:"{category}"}),s("Star").setAll({spikes:5,innerRadius:5,radius:10}),s("Tooltip",["stock"]).setAll({paddingTop:6,paddingBottom:5,paddingLeft:7,paddingRight:7}),s("Tooltip",["indicator"]).setAll({forceHidden:!0}),s("PointedRectangle",["tooltip","stock","axis"]).setAll({pointerLength:0,pointerBaseWidth:0,cornerRadius:3}),s("Label",["tooltip","stock"]).setAll({fontSize:"0.8em"}),s("SpriteResizer").setAll({rotationStep:10,isMeasured:!1}),s("Container",["resizer","grip"]).states.create("hover",{});{const o=s("RoundedRectangle",["resizer","grip"]);o.setAll({strokeOpacity:.7,strokeWidth:1,fillOpacity:1,width:12,height:12}),we(o,"fill",t,"background"),we(o,"stroke",t,"alternativeBackground")}{const o=s("RoundedRectangle",["resizer","grip","outline"]);o.setAll({strokeOpacity:0,fillOpacity:0,width:20,height:20}),o.states.create("hover",{fillOpacity:.3}),we(o,"fill",t,"alternativeBackground")}s("RoundedRectangle",["resizer","grip","left"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0}),s("RoundedRectangle",["resizer","grip","right"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0});{const o=s("Rectangle",["resizer","rectangle"]);o.setAll({strokeDasharray:[2,2],strokeOpacity:.5,strokeWidth:1}),we(o,"stroke",t,"alternativeBackground")}s("Graphics",["button","plus","icon"]).setAll({x:ot,y:ot,draw:o=>{o.moveTo(-4,0),o.lineTo(4,0),o.moveTo(0,-4),o.lineTo(0,4)}}),s("Graphics",["button","minus","icon"]).setAll({x:ot,y:ot,draw:o=>{o.moveTo(-4,0),o.lineTo(4,0)}}),s("Graphics",["button","home","icon"]).setAll({x:ot,y:ot,svgPath:"M 8 -1 L 6 -1 L 6 7 L 2 7 L 2 1 L -2 1 L -2 7 L -6 7 L -6 -1 L -8 -1 L 0 -9 L 8 -1 Z M 8 -1"}),s("Button",["zoomtools"]).setAll({marginTop:1,marginBottom:2}),s("ZoomTools").setAll({x:de,centerX:de,y:de,centerY:de,paddingRight:10,paddingBottom:10})}}class Db{constructor(e=1,t=0,i=0,r=1,s=0,o=0){Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"b",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"c",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"d",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.a=e,this.b=t,this.c=i,this.d=r,this.tx=s,this.ty=o}setTransform(e,t,i,r,s,o=1){this.a=Math.cos(s)*o,this.b=Math.sin(s)*o,this.c=-Math.sin(s)*o,this.d=Math.cos(s)*o,this.tx=e-(i*this.a+r*this.c),this.ty=t-(i*this.b+r*this.d)}apply(e){return{x:this.a*e.x+this.c*e.y+this.tx,y:this.b*e.x+this.d*e.y+this.ty}}applyInverse(e){const t=1/(this.a*this.d+this.c*-this.b);return{x:this.d*t*e.x+-this.c*t*e.y+(this.ty*this.c-this.tx*this.d)*t,y:this.a*t*e.y+-this.b*t*e.x+(-this.ty*this.a+this.tx*this.b)*t}}append(e){const t=this.a,i=this.b,r=this.c,s=this.d;this.a=e.a*t+e.b*r,this.b=e.a*i+e.b*s,this.c=e.c*t+e.d*r,this.d=e.c*i+e.d*s,this.tx=e.tx*t+e.ty*r+this.tx,this.ty=e.tx*i+e.ty*s+this.ty}prepend(e){const t=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const i=this.a,r=this.c;this.a=i*e.a+this.b*e.c,this.b=i*e.b+this.b*e.d,this.c=r*e.a+this.d*e.c,this.d=r*e.b+this.d*e.d}this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty}copyFrom(e){this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty}}var cce=function(){function n(e,t){var i=[],r=!0,s=!1,o=void 0;try{for(var a=e[Symbol.iterator](),l;!(r=(l=a.next()).done)&&(i.push(l.value),!(t&&i.length===t));r=!0);}catch(u){s=!0,o=u}finally{try{!r&&a.return&&a.return()}finally{if(s)throw o}}return i}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),nd=Math.PI*2,Rb=function(e,t,i,r,s,o,a){var l=e.x,u=e.y;l*=t,u*=i;var c=r*l-s*u,h=s*l+r*u;return{x:c+o,y:h+a}},hce=function(e,t){var i=t===1.5707963267948966?.551915024494:t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),r=Math.cos(e),s=Math.sin(e),o=Math.cos(e+t),a=Math.sin(e+t);return[{x:r-s*i,y:s+r*i},{x:o+a*i,y:a-o*i},{x:o,y:a}]},DD=function(e,t,i,r){var s=e*r-t*i<0?-1:1,o=e*i+t*r;return o>1&&(o=1),o<-1&&(o=-1),s*Math.acos(o)},dce=function(e,t,i,r,s,o,a,l,u,c,h,d){var f=Math.pow(s,2),y=Math.pow(o,2),g=Math.pow(h,2),_=Math.pow(d,2),v=f*y-f*_-y*g;v<0&&(v=0),v/=f*_+y*g,v=Math.sqrt(v)*(a===l?-1:1);var b=v*s/o*d,x=v*-o/s*h,P=c*b-u*x+(e+i)/2,k=u*b+c*x+(t+r)/2,M=(h-b)/s,A=(d-x)/o,T=(-h-b)/s,E=(-d-x)/o,C=DD(1,0,M,A),D=DD(M,A,T,E);return l===0&&D>0&&(D-=nd),l===1&&D<0&&(D+=nd),[P,k,C,D]},fce=function(e){var t=e.px,i=e.py,r=e.cx,s=e.cy,o=e.rx,a=e.ry,l=e.xAxisRotation,u=l===void 0?0:l,c=e.largeArcFlag,h=c===void 0?0:c,d=e.sweepFlag,f=d===void 0?0:d,y=[];if(o===0||a===0)return[];var g=Math.sin(u*nd/360),_=Math.cos(u*nd/360),v=_*(t-r)/2+g*(i-s)/2,b=-g*(t-r)/2+_*(i-s)/2;if(v===0&&b===0)return[];o=Math.abs(o),a=Math.abs(a);var x=Math.pow(v,2)/Math.pow(o,2)+Math.pow(b,2)/Math.pow(a,2);x>1&&(o*=Math.sqrt(x),a*=Math.sqrt(x));var P=dce(t,i,r,s,o,a,h,f,g,_,v,b),k=cce(P,4),M=k[0],A=k[1],T=k[2],E=k[3],C=Math.abs(E)/(nd/4);Math.abs(1-C)<1e-7&&(C=1);var D=Math.max(Math.ceil(C),1);E/=D;for(var N=0;N<D;N++)y.push(hce(T,E)),T+=E;return y.map(function(R){var V=Rb(R[0],o,a,_,g,M,A),q=V.x,ee=V.y,H=Rb(R[1],o,a,_,g,M,A),F=H.x,j=H.y,L=Rb(R[2],o,a,_,g,M,A),B=L.x,z=L.y;return{x1:q,y1:ee,x2:F,y2:j,x:B,y:z}})};function pce(n,e,t){if(e!==t)throw new Error("Required "+t+" arguments for "+n+" but got "+e)}function Ih(n,e,t){if(e<t)throw new Error("Required at least "+t+" arguments for "+n+" but got "+e)}function Ci(n,e,t){if(Ih(n,e,t),e%t!==0)throw new Error("Arguments for "+n+" must be in pairs of "+t)}function mce(n){for(let e=0;e<n.length;e+=7){let t=e+3,i=n[t];if(i.length>1){const r=/^([01])([01])(.*)$/.exec(i);r!==null&&(n.splice(t,0,r[1]),++t,n.splice(t,0,r[2]),++t,r[3].length>0?n[t]=r[3]:n.splice(t,1))}if(++t,i=n[t],i.length>1){const r=/^([01])(.+)$/.exec(i);r!==null&&(n.splice(t,0,r[1]),++t,n[t]=r[2])}}}function RD(n){if(n===0||n===1)return n;throw new Error("Flag must be 0 or 1")}function gce(n){const e=[0,0,0];for(let t=0;t<24;t++)e[t%3]<<=1,e[t%3]|=n&1,n>>=1;return(e[0]|0)+(e[1]<<8)+(e[2]<<16)}function im(n,e){for(;!(n.interactive&&!e(n));)if(n._parent)n=n._parent;else break}function yce(n,e,t){return St(n,ux(e),i=>{const r=PB(i);let s=i.touches;s?(s.length==0&&(s=i.changedTouches),t(ox(s),r)):t([i],r)})}function MD(n){const e=document.createElement("canvas");e.width=1,e.height=1;const t=e.getContext("2d",{willReadFrequently:!0});t.drawImage(n,0,0,1,1);try{return t.getImageData(0,0,1,1),!1}catch{return console.warn('Image "'+n.src+'" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors'),!0}}function Dh(n){n.width=0,n.height=0,n.style.width="0px",n.style.height="0px"}function ND(n){return Math.floor(n)+.5}class vce{constructor(){Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0})}get x(){return this._x}get y(){return this._y}set x(e){this._x=e}set y(e){this._y=e}}class Wv extends UE{constructor(e){super(),Object.defineProperty(this,"_layer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mask",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"interactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inactive",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"wheelable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"cancelTouch",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isMeasured",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"buttonMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"alpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"compoundAlpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"angle",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"crisp",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"pivot",{enumerable:!0,configurable:!0,writable:!0,value:new vce}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cursorOverStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_replacedCursorStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new Db}),Object.defineProperty(this,"_matrix",{enumerable:!0,configurable:!0,writable:!0,value:new Db}),Object.defineProperty(this,"_uMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new Db}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._renderer=e}subStatus(e){return{inactive:this.inactive==null?e.inactive:this.inactive,layer:this._layer||e.layer}}_dispose(){this._renderer._removeObject(this),this.getLayer().dirty=!0}getCanvas(){return this.getLayer().view}getLayer(){let e=this;for(;;){if(e._layer)return e._layer;if(e._parent)e=e._parent;else return this._renderer.defaultLayer}}setLayer(e,t){e==null?this._layer=void 0:(this._layer=this._renderer.getLayer(e,!0),this._layer.visible=!0,this._layer.margin=t,t&&eu(this._layer.view,!1),this._renderer._ghostLayer.setMargin(this._renderer.layers),this._parent&&this._parent.registerChildLayer(this._layer),this._layer.dirty=!0,this._renderer.resizeLayer(this._layer),this._renderer.resizeGhost())}markDirtyLayer(){this.getLayer().dirty=!0}clear(){this.invalidateBounds()}invalidateBounds(){this._localBounds=void 0}_addBounds(e){}_getColorId(){return this._colorId===void 0&&(this._colorId=this._renderer.paintId(this)),this._colorId}_isInteractive(e){return!e.inactive&&(this.interactive||this._renderer._forceInteractive>0)}_isInteractiveMask(e){return this._isInteractive(e)}contains(e){for(;;){if(e===this)return!0;if(e._parent)e=e._parent;else return!1}}toGlobal(e){return this._matrix.apply(e)}toLocal(e){return this._matrix.applyInverse(e)}getLocalMatrix(){return this._uMatrix.setTransform(0,0,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._uMatrix}getLocalBounds(){return this._localBounds||(this._localBounds={left:1e7,top:1e7,right:-1e7,bottom:-1e7},this._addBounds(this._localBounds)),this._localBounds}getAdjustedBounds(e){this._setMatrix();const t=this.getLocalMatrix(),i=t.apply({x:e.left,y:e.top}),r=t.apply({x:e.right,y:e.top}),s=t.apply({x:e.right,y:e.bottom}),o=t.apply({x:e.left,y:e.bottom});return{left:Math.min(i.x,r.x,s.x,o.x),top:Math.min(i.y,r.y,s.y,o.y),right:Math.max(i.x,r.x,s.x,o.x),bottom:Math.max(i.y,r.y,s.y,o.y)}}on(e,t,i){return this.interactive?this._renderer._addEvent(this,e,t,i):new on(()=>{})}_setMatrix(){this._localMatrix.setTransform(this.x,this.y,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._matrix.copyFrom(this._localMatrix),this._parent&&this._matrix.prepend(this._parent._matrix)}_transform(e,t){const i=this._matrix;let r=i.tx*t,s=i.ty*t;this.crisp&&(r=ND(r),s=ND(s)),e.setTransform(i.a*t,i.b*t,i.c*t,i.d*t,r,s)}_transformMargin(e,t,i){const r=this._matrix;e.setTransform(r.a*t,r.b*t,r.c*t,r.d*t,(r.tx+i.left)*t,(r.ty+i.top)*t)}_transformLayer(e,t,i){i.margin?this._transformMargin(e,i.scale||t,i.margin):this._transform(e,i.scale||t)}render(e,t=0){if(this.visible&&(this.exportable!==!1||!this._renderer._omitTainted)){this._setMatrix();const i=this.subStatus(e),r=this._renderer.resolution,s=this._renderer.layers,o=this._renderer._ghostLayer,a=o.context,l=this.mask;l&&l._setMatrix(),W(s,u=>{if(u){const c=u.context;c.save(),l&&(l._transformLayer(c,r,u),l._runPath(c),c.clip()),c.globalAlpha=this.compoundAlpha*this.alpha,this._transformLayer(c,r,u),this.filter&&(c.filter=this.filter)}}),a.save(),l&&this._isInteractiveMask(i)&&(l._transformMargin(a,r,o.margin),l._runPath(a),a.clip()),this._transformMargin(a,r,o.margin),i.layer.order>0&&!t&&sx(this._renderer._deferredGhostLayers,i.layer.order),this._render(i,t),a.restore(),W(s,u=>{u&&u.context.restore()})}}_render(e,t=0){this.exportable===!1&&(e.layer.tainted=!0)}_ghostOnly(e=0){return e>0}_drawGhost(e,t=0){const i=this._isInteractive(e),r=e.layer.order||0;return!!(i&&(r==0&&!this._ghostOnly(t)||r==t))}hovering(){return this._renderer._hovering.has(this)}dragging(){return this._renderer._dragging.some(e=>e.value===this)}shouldCancelTouch(){const e=this._renderer;return e.tapToActivate&&!e._touchActive?!1:this.cancelTouch?!0:this._parent?this._parent.shouldCancelTouch():!1}}class bce extends Wv{constructor(){super(...arguments),Object.defineProperty(this,"interactiveChildren",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_childLayers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_children",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_isInteractiveMask(e){return this.interactiveChildren||super._isInteractiveMask(e)}addChild(e){e._parent=this,this._children.push(e),e._layer&&this.registerChildLayer(e._layer)}addChildAt(e,t){e._parent=this,this._children.splice(t,0,e),e._layer&&this.registerChildLayer(e._layer)}removeChild(e){e._parent=void 0,kn(this._children,e)}_render(e,t){super._render(e);const i=this._renderer;this.interactive&&this.interactiveChildren&&++i._forceInteractive,W(this._children,r=>{r.compoundAlpha=this.compoundAlpha*this.alpha,r.render(e,t)}),this.interactive&&this.interactiveChildren&&--i._forceInteractive}registerChildLayer(e){this._childLayers||(this._childLayers=[]),Zd(this._childLayers,e),this._parent&&this._parent.registerChildLayer(e)}markDirtyLayer(e=!1){super.markDirtyLayer(),e&&this._childLayers&&W(this._childLayers,t=>t.dirty=!0)}_dispose(){super._dispose(),this._childLayers&&W(this._childLayers,e=>{e.dirty=!0})}}function Gt(n,e){n.left=Math.min(n.left,e.x),n.top=Math.min(n.top,e.y),n.right=Math.max(n.right,e.x),n.bottom=Math.max(n.bottom,e.y)}class hn{colorize(e,t){}colorizeGhost(e,t){this.colorize(e,t)}path(e){}pathGhost(e){this.path(e)}addBounds(e){}}class _ce extends hn{colorize(e,t){e.beginPath()}}class Mb extends hn{constructor(e){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,t){t!==void 0?e.fillStyle=t:e.fillStyle=this.color}}class wce extends hn{constructor(e){super(),Object.defineProperty(this,"clearShadow",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,t){e.fill(),this.clearShadow&&(e.shadowColor="",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}}class xce extends hn{colorize(e,t){e.stroke()}}class Nb extends hn{constructor(e,t,i,r){super(),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"lineJoin",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"lineCap",{enumerable:!0,configurable:!0,writable:!0,value:r})}colorize(e,t){t!==void 0?e.strokeStyle=t:e.strokeStyle=this.color,e.lineWidth=this.width,this.lineJoin&&(e.lineJoin=this.lineJoin),this.lineCap&&(e.lineCap=this.lineCap)}}class Tce extends hn{constructor(e){super(),Object.defineProperty(this,"dash",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,t){e.setLineDash(this.dash)}}class Ece extends hn{constructor(e){super(),Object.defineProperty(this,"dashOffset",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,t){e.lineDashOffset=this.dashOffset}}class Pce extends hn{constructor(e,t,i,r){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:r})}path(e){e.rect(this.x,this.y,this.width,this.height)}addBounds(e){const t=this.x,i=this.y,r=t+this.width,s=i+this.height;Gt(e,{x:t,y:i}),Gt(e,{x:r,y:i}),Gt(e,{x:t,y:s}),Gt(e,{x:r,y:s})}}class Sce extends hn{constructor(e,t,i){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:i})}path(e){e.moveTo(this.x+this.radius,this.y),e.arc(this.x,this.y,this.radius,0,2*Math.PI)}addBounds(e){Gt(e,{x:this.x-this.radius,y:this.y-this.radius}),Gt(e,{x:this.x+this.radius,y:this.y+this.radius})}}class Cce extends hn{constructor(e,t,i,r){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"radiusX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"radiusY",{enumerable:!0,configurable:!0,writable:!0,value:r})}path(e){e.ellipse(0,0,this.radiusX,this.radiusY,0,0,Math.PI*2)}addBounds(e){Gt(e,{x:this.x-this.radiusX,y:this.y-this.radiusY}),Gt(e,{x:this.x+this.radiusX,y:this.y+this.radiusY})}}class Ace extends hn{constructor(e,t,i,r,s,o){super(),Object.defineProperty(this,"cx",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cy",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"endAngle",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"anticlockwise",{enumerable:!0,configurable:!0,writable:!0,value:o})}path(e){this.radius>0&&e.arc(this.cx,this.cy,this.radius,this.startAngle,this.endAngle,this.anticlockwise)}addBounds(e){let t=Hue(this.cx,this.cy,this.startAngle*td,this.endAngle*td,this.radius);Gt(e,{x:t.left,y:t.top}),Gt(e,{x:t.right,y:t.bottom})}}class kce extends hn{constructor(e,t,i,r,s){super(),Object.defineProperty(this,"x1",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y1",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"x2",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"y2",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:s})}path(e){this.radius>0&&e.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)}addBounds(e){}}class Ice extends hn{constructor(e,t){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t})}path(e){e.lineTo(this.x,this.y)}addBounds(e){Gt(e,{x:this.x,y:this.y})}}class Dce extends hn{constructor(e,t){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:t})}path(e){e.moveTo(this.x,this.y)}addBounds(e){Gt(e,{x:this.x,y:this.y})}}class Rce extends hn{path(e){e.closePath()}}class Mce extends hn{constructor(e,t,i,r,s,o){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"cpX2",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"cpY2",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:o})}path(e){e.bezierCurveTo(this.cpX,this.cpY,this.cpX2,this.cpY2,this.toX,this.toY)}addBounds(e){Gt(e,{x:this.cpX,y:this.cpY}),Gt(e,{x:this.cpX2,y:this.cpY2}),Gt(e,{x:this.toX,y:this.toY})}}class Nce extends hn{constructor(e,t,i,r){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:r})}path(e){e.quadraticCurveTo(this.cpX,this.cpY,this.toX,this.toY)}addBounds(e){Gt(e,{x:this.cpX,y:this.cpY}),Gt(e,{x:this.toX,y:this.toY})}}class Oce extends hn{constructor(e,t,i,r,s){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"blur",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"offsetX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"offsetY",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"opacity",{enumerable:!0,configurable:!0,writable:!0,value:s})}colorize(e,t){this.opacity&&(e.fillStyle=this.color),e.shadowColor=this.color,e.shadowBlur=this.blur,e.shadowOffsetX=this.offsetX,e.shadowOffsetY=this.offsetY}colorizeGhost(e,t){}}class jce extends hn{constructor(e,t,i,r,s){super(),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:s})}path(e){e.drawImage(this.image,this.x,this.y,this.width,this.height)}addBounds(e){Gt(e,{x:this.x,y:this.y}),Gt(e,{x:this.width,y:this.height})}}class Lce extends Wv{constructor(){super(...arguments),Object.defineProperty(this,"_operations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"blendMode",{enumerable:!0,configurable:!0,writable:!0,value:iy.NORMAL}),Object.defineProperty(this,"_hasShadows",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_fillAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}clear(){super.clear(),this._operations.length=0}_pushOp(e){this._operations.push(e)}beginFill(e,t=1){this._fillAlpha=t,e?e instanceof _e?this._pushOp(new Mb(e.toCSS(t))):(this.isMeasured=!0,this._pushOp(new Mb(e))):this._pushOp(new Mb("rgba(0, 0, 0, "+t+")"))}endFill(){this._pushOp(new wce(this._hasShadows))}endStroke(){this._pushOp(new xce)}beginPath(){this._pushOp(new _ce)}lineStyle(e=0,t,i=1,r,s){this._strokeAlpha=i,t?t instanceof _e?this._pushOp(new Nb(e,t.toCSS(i),r,s)):this._pushOp(new Nb(e,t,r,s)):this._pushOp(new Nb(e,"rgba(0, 0, 0, "+i+")",r,s))}setLineDash(e){this._pushOp(new Tce(e||[]))}setLineDashOffset(e=0){this._pushOp(new Ece(e))}drawRect(e,t,i,r){this._pushOp(new Pce(e,t,i,r))}drawCircle(e,t,i){this._pushOp(new Sce(e,t,i))}drawEllipse(e,t,i,r){this._pushOp(new Cce(e,t,i,r))}arc(e,t,i,r,s,o=!1){this._pushOp(new Ace(e,t,i,r,s,o))}arcTo(e,t,i,r,s){this._pushOp(new kce(e,t,i,r,s))}lineTo(e,t){this._pushOp(new Ice(e,t))}moveTo(e,t){this._pushOp(new Dce(e,t))}bezierCurveTo(e,t,i,r,s,o){this._pushOp(new Mce(e,t,i,r,s,o))}quadraticCurveTo(e,t,i,r){this._pushOp(new Nce(e,t,i,r))}closePath(){this._pushOp(new Rce)}shadow(e,t=0,i=0,r=0,s){this._hasShadows=!0,this._pushOp(new Oce(s?e.toCSS(s):e.toCSS(this._fillAlpha||this._strokeAlpha),t,i,r))}image(e,t,i,r,s){this._pushOp(new jce(e,t,i,r,s))}svgPath(e){let t=0,i=0,r=null,s=null,o=null,a=null;const l=/([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g,u=/[\u0009\u0020\u000A\u000C\u000D]*([\+\-]?[0-9]*\.?[0-9]+(?:[eE][\+\-]?[0-9]+)?)[\u0009\u0020\u000A\u000C\u000D]*,?/g;let c;for(;(c=l.exec(e))!==null;){const h=c[1],d=c[2],f=[];for(;(c=u.exec(d))!==null;)f.push(c[1]);switch(h!=="S"&&h!=="s"&&h!=="C"&&h!=="c"&&(r=null,s=null),h!=="Q"&&h!=="q"&&h!=="T"&&h!=="t"&&(o=null,a=null),h){case"M":Ci(h,f.length,2),t=+f[0],i=+f[1],this.moveTo(t,i);for(let g=2;g<f.length;g+=2)t=+f[g],i=+f[g+1],this.lineTo(t,i);break;case"m":Ci(h,f.length,2),t+=+f[0],i+=+f[1],this.moveTo(t,i);for(let g=2;g<f.length;g+=2)t+=+f[g],i+=+f[g+1],this.lineTo(t,i);break;case"L":Ci(h,f.length,2);for(let g=0;g<f.length;g+=2)t=+f[g],i=+f[g+1],this.lineTo(t,i);break;case"l":Ci(h,f.length,2);for(let g=0;g<f.length;g+=2)t+=+f[g],i+=+f[g+1],this.lineTo(t,i);break;case"H":Ih(h,f.length,1);for(let g=0;g<f.length;++g)t=+f[g],this.lineTo(t,i);break;case"h":Ih(h,f.length,1);for(let g=0;g<f.length;++g)t+=+f[g],this.lineTo(t,i);break;case"V":Ih(h,f.length,1);for(let g=0;g<f.length;++g)i=+f[g],this.lineTo(t,i);break;case"v":Ih(h,f.length,1);for(let g=0;g<f.length;++g)i+=+f[g],this.lineTo(t,i);break;case"C":Ci(h,f.length,6);for(let g=0;g<f.length;g+=6){const _=+f[g],v=+f[g+1];r=+f[g+2],s=+f[g+3],t=+f[g+4],i=+f[g+5],this.bezierCurveTo(_,v,r,s,t,i)}break;case"c":Ci(h,f.length,6);for(let g=0;g<f.length;g+=6){const _=+f[g]+t,v=+f[g+1]+i;r=+f[g+2]+t,s=+f[g+3]+i,t+=+f[g+4],i+=+f[g+5],this.bezierCurveTo(_,v,r,s,t,i)}break;case"S":Ci(h,f.length,4),(r===null||s===null)&&(r=t,s=i);for(let g=0;g<f.length;g+=4){const _=2*t-r,v=2*i-s;r=+f[g],s=+f[g+1],t=+f[g+2],i=+f[g+3],this.bezierCurveTo(_,v,r,s,t,i)}break;case"s":Ci(h,f.length,4),(r===null||s===null)&&(r=t,s=i);for(let g=0;g<f.length;g+=4){const _=2*t-r,v=2*i-s;r=+f[g]+t,s=+f[g+1]+i,t+=+f[g+2],i+=+f[g+3],this.bezierCurveTo(_,v,r,s,t,i)}break;case"Q":Ci(h,f.length,4);for(let g=0;g<f.length;g+=4)o=+f[g],a=+f[g+1],t=+f[g+2],i=+f[g+3],this.quadraticCurveTo(o,a,t,i);break;case"q":Ci(h,f.length,4);for(let g=0;g<f.length;g+=4)o=+f[g]+t,a=+f[g+1]+i,t+=+f[g+2],i+=+f[g+3],this.quadraticCurveTo(o,a,t,i);break;case"T":Ci(h,f.length,2),(o===null||a===null)&&(o=t,a=i);for(let g=0;g<f.length;g+=2)o=2*t-o,a=2*i-a,t=+f[g],i=+f[g+1],this.quadraticCurveTo(o,a,t,i);break;case"t":Ci(h,f.length,2),(o===null||a===null)&&(o=t,a=i);for(let g=0;g<f.length;g+=2)o=2*t-o,a=2*i-a,t+=+f[g],i+=+f[g+1],this.quadraticCurveTo(o,a,t,i);break;case"A":case"a":const y=h==="a";mce(f),Ci(h,f.length,7);for(let g=0;g<f.length;g+=7){let _=+f[g+5],v=+f[g+6];y&&(_+=t,v+=i);const b=fce({px:t,py:i,rx:+f[g],ry:+f[g+1],xAxisRotation:+f[g+2],largeArcFlag:RD(+f[g+3]),sweepFlag:RD(+f[g+4]),cx:_,cy:v});W(b,x=>{this.bezierCurveTo(x.x1,x.y1,x.x2,x.y2,x.x,x.y),t=x.x,i=x.y})}break;case"Z":case"z":pce(h,f.length,0),this.closePath();break}}}_runPath(e){e.beginPath(),W(this._operations,t=>{t.path(e)})}_render(e,t=0){super._render(e);const i=e.layer.dirty,r=this._isInteractive(e),s=this._ghostOnly(t),o=this._drawGhost(e,t);if(i||r||s){const a=e.layer.context,l=this._renderer._ghostLayer.context;i&&!s&&(a.globalCompositeOperation=this.blendMode,a.beginPath());let u;o&&(l.beginPath(),u=this._getColorId()),W(this._operations,c=>{i&&!s&&(c.path(a),c.colorize(a,void 0)),o&&(c.pathGhost(l),c.colorizeGhost(l,u))})}}renderDetached(e){if(this.visible){this._setMatrix(),e.save();const t=this.mask;t&&(t._setMatrix(),t._transform(e,1),t._runPath(e),e.clip()),e.globalAlpha=this.compoundAlpha*this.alpha,this._transform(e,1),this.filter&&(e.filter=this.filter),e.globalCompositeOperation=this.blendMode,e.beginPath(),W(this._operations,i=>{i.path(e),i.colorize(e,void 0)}),e.restore()}}_addBounds(e){this.visible&&this.isMeasured&&W(this._operations,t=>{t.addBounds(e)})}}class FB extends Wv{constructor(e,t,i){super(e),Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"textVisible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"truncated",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_textInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:1}),this.text=t,this.style=i}invalidateBounds(){super.invalidateBounds(),this._textInfo=void 0}_shared(e){this.style.textAlign&&(e.textAlign=this.style.textAlign),this.style.direction&&(e.direction=this.style.direction),this.style.textBaseline&&(e.textBaseline=this.style.textBaseline)}_prerender(e,t=!1,i=!1){super._render(e);const r=e.layer.context,s=this._renderer._ghostLayer.context,o=this.style;let a=this._getFontStyle(void 0,i);r.font=a,this._isInteractive(e)&&!t&&(s.font=a),o.fill&&(o.fill instanceof _e?r.fillStyle=o.fill.toCSS(o.fillOpacity!=null?o.fillOpacity:1):r.fillStyle=o.fill),o.shadowColor&&(e.layer.context.shadowColor=o.shadowColor.toCSS(o.shadowOpacity||1)),o.shadowBlur&&(e.layer.context.shadowBlur=o.shadowBlur),o.shadowOffsetX&&(e.layer.context.shadowOffsetX=o.shadowOffsetX),o.shadowOffsetY&&(e.layer.context.shadowOffsetY=o.shadowOffsetY),this._shared(r),this._isInteractive(e)&&!t&&(s.fillStyle=this._getColorId(),this._shared(s))}_getFontStyle(e,t=!1){const i=this.style;let r=[];return e&&e.fontVariant?r.push(e.fontVariant):i.fontVariant&&r.push(i.fontVariant),t||(e&&e.fontWeight?r.push(e.fontWeight):i.fontWeight&&r.push(i.fontWeight)),e&&e.fontStyle?r.push(e.fontStyle):i.fontStyle&&r.push(i.fontStyle),e&&e.fontSize?(Y(e.fontSize)&&(e.fontSize=e.fontSize+"px"),r.push(e.fontSize)):i.fontSize&&(Y(i.fontSize)&&(i.fontSize=i.fontSize+"px"),r.push(i.fontSize)),e&&e.fontFamily?r.push(e.fontFamily):i.fontFamily?r.push(i.fontFamily):r.length&&r.push("Arial"),r.join(" ")}_render(e,t=0){if(this._textInfo||this._measure(e),this.textVisible){const i=this._isInteractive(e),r=e.layer.context,s=e.layer.dirty,o=this._renderer._ghostLayer.context,a=this._ghostOnly(t),l=this._drawGhost(e,t);r.save(),o.save(),this._prerender(e),W(this._textInfo,(u,c)=>{W(u.textChunks,(h,d)=>{if(h.style&&(r.save(),o.save(),a||(r.font=h.style),this._isInteractive(e)&&(o.font=h.style)),h.fill&&(r.save(),a||(r.fillStyle=h.fill.toCSS())),s&&!a&&r.fillText(h.text,h.offsetX,u.offsetY+h.offsetY),h.textDecoration=="underline"||h.textDecoration=="line-through"){let f=1,y=1,g=h.height;const _=this.style.oversizedBehavior||"";if(["truncate","wrap","wrap-no-break"].indexOf(_)>-1){const x=this._measureText(h.text,r);h.width=x.actualBoundingBoxLeft+x.actualBoundingBoxRight}let v=h.offsetX;switch(this.style.textAlign){case"right":case"end":v-=h.width;break;case"center":v-=h.width/2;break}if(h.style)switch(Ar.getTextStyle(h.style).fontWeight){case"bolder":case"bold":case"700":case"800":case"900":f=2;break}g&&(y=g/20);let b;h.textDecoration=="line-through"?b=f+u.offsetY+h.offsetY-h.height/2:b=f+y*1.5+u.offsetY+h.offsetY,a||(r.save(),r.beginPath(),h.fill?r.strokeStyle=h.fill.toCSS():this.style.fill&&this.style.fill instanceof _e&&(r.strokeStyle=this.style.fill.toCSS()),r.lineWidth=f*y,r.moveTo(v,b),r.lineTo(v+h.width,b),r.stroke(),r.restore())}i&&this.interactive&&l&&o.fillText(h.text,h.offsetX,u.offsetY+h.offsetY),h.fill&&r.restore(),h.style&&(r.restore(),o.restore())})}),r.restore(),o.restore()}}_addBounds(e){if(this.visible&&this.isMeasured){const t=this._measure({inactive:this.inactive,layer:this.getLayer()});Gt(e,{x:t.left,y:t.top}),Gt(e,{x:t.right,y:t.bottom})}}_ignoreFontWeight(){return/apple/i.test(navigator.vendor)}_measure(e){const t=e.layer.context,i=this._renderer._ghostLayer.context,r=this.style.direction=="rtl";this._textInfo=[];const s=this.style.oversizedBehavior,o=this.style.maxWidth,a=Y(o)&&s=="truncate",l=Y(o)&&(s=="wrap"||s=="wrap-no-break");t.save(),i.save(),this._prerender(e,!0,this._ignoreFontWeight());const u="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",c=this.text.toString().replace(/\r/g,"").split(/\n/);let h=!0,d=0,f=0,y=0,g;W(c,(v,b)=>{let x;for(v==""?x=[{type:"value",text:""}]:x=Ar.chunk(v,!1,this.style.ignoreFormatting);x.length>0;){let P={offsetY:y,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]};const k=this._measureText(u,t),M=k.actualBoundingBoxAscent+k.actualBoundingBoxDescent;P.height=M,P.ascent=k.actualBoundingBoxAscent;let A,T=this.style.textDecoration,E,C,D=!1,N=!0,R=[],V;BE(x,(q,ee)=>{if(q.type=="format")if(q.text=="[/]")h||(t.restore(),i.restore(),h=!0),E=void 0,g=void 0,C=void 0,T=this.style.textDecoration,V=void 0,A=q.text;else{h||(t.restore(),i.restore());let H=Ar.getTextStyle(q.text);const F=this._getFontStyle(H);t.save(),i.save(),t.font=F,g=F,A=q.text,H.textDecoration&&(T=H.textDecoration),H.fill&&(E=H.fill),H.width&&(C=hi(H.width)),H.verticalAlign&&(V=H.verticalAlign),h=!1;const j=this._measureText(u,t),L=j.actualBoundingBoxAscent+j.actualBoundingBoxDescent;L>P.height&&(P.height=L),j.actualBoundingBoxAscent>P.ascent&&(P.ascent=j.actualBoundingBoxAscent)}else if(q.type=="value"&&!D){const H=this._measureText(q.text,t);let F=H.actualBoundingBoxLeft+H.actualBoundingBoxRight;if(a){this.truncated=void 0;let z=N||this.style.breakWords||!1;const $=this.style.ellipsis||"",oe=this._measureText($,t),K=oe.actualBoundingBoxLeft+oe.actualBoundingBoxRight;if(P.width+F>o){const ne=o-P.width-K;q.text=this._truncateText(t,q.text,ne,z),q.text+=$,D=!0,this.truncated=!0}}else if(l&&P.width+F>o){const z=o-P.width,$=this._truncateText(t,q.text,z,!1,N&&this.style.oversizedBehavior!="wrap-no-break");if($=="")return this.textVisible=!0,!1;R=x.slice(ee+1),ju($)!=ju(q.text)&&(R.unshift({type:"value",text:q.text.substr($.length)}),A&&R.unshift({type:"format",text:A})),q.text=ju($),x=[],D=!0}let j=1,L=1;if(g&&C&&C>F){const z=F/C;switch(this.style.textAlign){case"right":case"end":j=z;break;case"center":j=z,L=z;break;default:L=z}F=C}const B=H.actualBoundingBoxAscent+H.actualBoundingBoxDescent;B>P.height&&(P.height=B),H.actualBoundingBoxAscent>P.ascent&&(P.ascent=H.actualBoundingBoxAscent),P.width+=F,P.left+=H.actualBoundingBoxLeft/j,P.right+=H.actualBoundingBoxRight/L,P.textChunks.push({style:g,fill:E,text:q.text,width:F,height:B,left:H.actualBoundingBoxLeft,right:H.actualBoundingBoxRight,ascent:H.actualBoundingBoxAscent,offsetX:0,offsetY:0,textDecoration:T,verticalAlign:V}),N=!1}return!0}),this.style.lineHeight instanceof Ye?(P.height*=this.style.lineHeight.value,P.ascent*=this.style.lineHeight.value):(P.height*=this.style.lineHeight||1.2,P.ascent*=this.style.lineHeight||1.2),d<P.left&&(d=P.left),f<P.right&&(f=P.right),this._textInfo.push(P),y+=P.height,x=R||[]}}),h||(t.restore(),i.restore()),W(this._textInfo,(v,b)=>{let x=0;W(v.textChunks,P=>{if(P.offsetX=x+P.left-v.left,P.offsetY+=v.height-v.height*(this.style.baselineRatio||.19),x+=P.width,P.verticalAlign)switch(P.verticalAlign){case"super":P.offsetY-=v.height/2-P.height/2;break;case"sub":P.offsetY+=P.height/2;break}})});const _={left:r?-f:-d,top:0,right:r?d:f,bottom:y};if(s!=="none"){const v=this._fitRatio(_);if(v<1)if(s=="fit")Y(this.style.minScale)&&v<this.style.minScale?(this.textVisible=!1,_.left=0,_.top=0,_.right=0,_.bottom=0):(this._originalScale||(this._originalScale=this.scale),this.scale=v,this.textVisible=!0);else if(s=="hide")this.textVisible=!1,_.left=0,_.top=0,_.right=0,_.bottom=0;else{switch(this.style.textAlign){case"right":case"end":_.left=r?o:-o,_.right=0;break;case"center":_.left=-o/2,_.right=o/2;break;default:_.left=0,_.right=r?-o:o}this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}else this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}return t.restore(),i.restore(),_}_fitRatio(e){const t=this.style.maxWidth,i=this.style.maxHeight;if(!Y(t)&&!Y(i))return 1;const r=e.right-e.left,s=e.bottom-e.top;return Math.min(t/r||1,i/s||1)}_truncateText(e,t,i,r=!1,s=!0){let o;do{if(r)t=t.slice(0,-1);else{let l=t.replace(/[^,;:!?\\\/\s]+[,;:!?\\\/\s]*$/g,"");if((l==""||l===t)&&s)r=!0;else{if(l=="")return t;t=l}}const a=this._measureText(t,e);o=a.actualBoundingBoxLeft+a.actualBoundingBoxRight}while(o>i&&t!="");return t}_measureText(e,t){let i=t.measureText(e),r={};if(i.actualBoundingBoxAscent==null){const o=document.createElement("div");o.innerText=e,o.style.visibility="hidden",o.style.position="absolute",o.style.top="-1000000px;",o.style.fontFamily=this.style.fontFamily||"",o.style.fontSize=this.style.fontSize+"",document.body.appendChild(o);const a=o.getBoundingClientRect();document.body.removeChild(o);const l=a.height,u=i.width;r={actualBoundingBoxAscent:l,actualBoundingBoxDescent:0,actualBoundingBoxLeft:0,actualBoundingBoxRight:u,fontBoundingBoxAscent:l,fontBoundingBoxDescent:0,width:u}}else r={actualBoundingBoxAscent:i.actualBoundingBoxAscent,actualBoundingBoxDescent:i.actualBoundingBoxDescent,actualBoundingBoxLeft:i.actualBoundingBoxLeft,actualBoundingBoxRight:i.actualBoundingBoxRight,fontBoundingBoxAscent:i.actualBoundingBoxAscent,fontBoundingBoxDescent:i.actualBoundingBoxDescent,width:i.width};const s=i.width;switch(this.style.textAlign){case"right":case"end":r.actualBoundingBoxLeft=s,r.actualBoundingBoxRight=0;break;case"center":r.actualBoundingBoxLeft=s/2,r.actualBoundingBoxRight=s/2;break;default:r.actualBoundingBoxLeft=0,r.actualBoundingBoxRight=s}return r}}class Fce{constructor(){Object.defineProperty(this,"fill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fillOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textAlign",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontFamily",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontWeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontVariant",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textDecoration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lineHeight",{enumerable:!0,configurable:!0,writable:!0,value:vr(120)}),Object.defineProperty(this,"baselineRatio",{enumerable:!0,configurable:!0,writable:!0,value:.19}),Object.defineProperty(this,"direction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textBaseline",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"oversizedBehavior",{enumerable:!0,configurable:!0,writable:!0,value:"none"}),Object.defineProperty(this,"breakWords",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ellipsis",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"maxWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxHeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreFormatting",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class Vce extends FB{constructor(){super(...arguments),Object.defineProperty(this,"textType",{enumerable:!0,configurable:!0,writable:!0,value:"circular"}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inside",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"orientation",{enumerable:!0,configurable:!0,writable:!0,value:"auto"}),Object.defineProperty(this,"kerning",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_textReversed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_render(e,t=0){switch(this.textType){case"circular":this._renderCircular(e,t);break;default:super._render(e,t);break}}_renderCircular(e,t=0){if(this.textVisible){this._prerender(e);const i=this._isInteractive(e),r=e.layer.context,s=e.layer.dirty,o=this._renderer._ghostLayer.context;r.save(),i&&o.save(),this._textInfo||this._measure(e);let a=this.radius||0,l=this.startAngle||0,u=0,c=this.orientation,h=c=="auto"?"auto":c=="inward";const d=this.inside,f=this.style.textAlign||"left",y=this.kerning||0;let g=f=="left"?1:-1;const _=!this._textReversed,v=this._ghostOnly(t),b=this._drawGhost(e,t);if(h=="auto"){let x=0,P=0;W(this._textInfo,(k,M)=>{const A=l+k.width/(a-k.height)/2*-g;A>x&&(x=A)}),f=="left"?P=(x+u/2)*td:f=="right"?P=(x-u/2)*td:P=l*td,P=zue(P),h=P>=270||P<=90}h==!0&&_&&(this._textInfo.reverse(),this._textReversed=!0),W(this._textInfo,(x,P)=>{const k=x.height;d||(a+=k),(g==-1&&h||g==1&&!h)&&_&&x.textChunks.reverse();let M=l;u=0,f=="center"&&(M+=x.width/(a-k)/2*-g,u=M-l),M+=Math.PI*(h?0:1),r.save(),i&&o.save(),v||r.rotate(M),i&&o.rotate(M);let A=0;W(x.textChunks,(T,E)=>{const C=T.text,D=T.width;A=D/2/(a-k)*g,v||r.rotate(A),i&&o.rotate(A),T.style&&(r.save(),o.save(),v||(r.font=T.style),i&&(o.font=T.style)),T.fill&&(r.save(),v||(r.fillStyle=T.fill.toCSS())),v||(r.textBaseline="middle",r.textAlign="center"),i&&(o.textBaseline="middle",o.textAlign="center"),s&&!v&&r.fillText(C,0,(h?1:-1)*(0-a+k/2)),i&&b&&o.fillText(C,0,(h?1:-1)*(0-a+k/2)),T.fill&&r.restore(),T.style&&(r.restore(),o.restore()),A=(D/2+y)/(a-k)*g,v||r.rotate(A),i&&o.rotate(A)}),r.restore(),i&&o.restore(),d&&(a-=k)}),r.restore(),i&&o.restore()}}_measure(e){switch(this.textType){case"circular":return this._measureCircular(e);default:return super._measure(e)}}_measureCircular(e){const t=e.layer.context,i=this._renderer._ghostLayer.context,r=this.style.direction=="rtl",s=this.style.oversizedBehavior,o=this.style.maxWidth,a=Y(o)&&s=="truncate",l=this.style.ellipsis||"";let u;this.textVisible=!0,this._textInfo=[],this._textReversed=!1,t.save(),i.save(),this._prerender(e,!0);const c=this.text.toString().replace(/\r/g,"").split(/\n/);let h=!0,d=0,f=0;return W(c,(y,g)=>{let _=Ar.chunk(y,!1,this.style.ignoreFormatting),v={offsetY:f,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]},b,x,P;W(_,(k,M)=>{if(k.type=="format"){if(k.text=="[/]")h||(t.restore(),i.restore(),h=!0),x=void 0,b=void 0,P=void 0;else{let A=Ar.getTextStyle(k.text);const T=this._getFontStyle(A);t.save(),i.save(),t.font=T,b=T,A.fill&&(x=A.fill),A.width&&(P=hi(A.width)),h=!1}a&&(u=this._measureText(l,t))}else if(k.type=="value"){let A=k.text.match(/./ug)||[];r&&(A=Aue(k.text),A.reverse());for(let T=0;T<A.length;T++){const E=A[T],C=this._measureText(E,t);let D=C.width;b&&P&&P>D&&(D=P);const N=C.actualBoundingBoxAscent+C.actualBoundingBoxDescent;if(N>v.height&&(v.height=N),C.actualBoundingBoxAscent>v.ascent&&(v.ascent=C.actualBoundingBoxAscent),d+=D,a){u||(u=this._measureText(l,t));const R=u.actualBoundingBoxLeft+u.actualBoundingBoxRight;if(d+R>o){v.textChunks.length==1?this.textVisible=!1:(v.width+=R,v.left+=u.actualBoundingBoxLeft,v.right+=u.actualBoundingBoxRight,v.textChunks.push({style:b,fill:x,text:l,width:R,height:N+u.actualBoundingBoxDescent,left:u.actualBoundingBoxLeft,right:u.actualBoundingBoxRight,ascent:u.actualBoundingBoxAscent,offsetX:0,offsetY:N,textDecoration:void 0}));break}}v.width+=D,v.left+=C.actualBoundingBoxLeft,v.right+=C.actualBoundingBoxRight,v.textChunks.push({style:b,fill:x,text:E,width:D,height:N+C.actualBoundingBoxDescent,left:C.actualBoundingBoxLeft,right:C.actualBoundingBoxRight,ascent:C.actualBoundingBoxAscent,offsetX:0,offsetY:N,textDecoration:void 0})}}}),this.style.lineHeight instanceof Ye?v.height*=this.style.lineHeight.value:v.height*=this.style.lineHeight||1.2,this._textInfo.push(v),f+=v.height}),h||(t.restore(),i.restore()),s=="hide"&&d>o&&(this.textVisible=!1),W(this._textInfo,y=>{W(y.textChunks,g=>{g.offsetY+=Math.round((y.height-g.height+(y.ascent-g.ascent))/2)})}),t.restore(),i.restore(),{left:0,top:0,right:0,bottom:0}}}class Bce extends Wv{constructor(e,t){super(e),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_imageMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.image=t}_dispose(){super._dispose(),this._imageMask&&Dh(this._imageMask)}getLocalBounds(){if(!this._localBounds){let e=0,t=0;this.width&&(e=this.width),this.height&&(t=this.height),this._localBounds={left:0,top:0,right:e,bottom:t},this._addBounds(this._localBounds)}return this._localBounds}_render(e,t=0){if(super._render(e),this.image){if(this.tainted===void 0&&(this.tainted=MD(this.image),e.layer.tainted=!0),this.tainted&&this._renderer._omitTainted)return;const i=this._ghostOnly(t),r=this._drawGhost(e,t);if(e.layer.dirty&&!i){this.shadowColor&&(e.layer.context.shadowColor=this.shadowColor.toCSS(this.shadowOpacity||1)),this.shadowBlur&&(e.layer.context.shadowBlur=this.shadowBlur),this.shadowOffsetX&&(e.layer.context.shadowOffsetX=this.shadowOffsetX),this.shadowOffsetY&&(e.layer.context.shadowOffsetY=this.shadowOffsetY);const s=this.width||this.image.naturalWidth,o=this.height||this.image.naturalHeight;e.layer.context.drawImage(this.image,0,0,s,o)}if(this.interactive&&this._isInteractive(e)&&r){const s=this._getMask(this.image);this._renderer._ghostLayer.context.drawImage(s,0,0)}}}clear(){super.clear(),this.image=void 0,this._imageMask=void 0}_getMask(e){if(this._imageMask===void 0){const t=this.width||e.naturalWidth,i=this.height||e.naturalHeight,r=document.createElement("canvas");r.width=t,r.height=i;const s=r.getContext("2d");s.imageSmoothingEnabled=!1,s.fillStyle=this._getColorId(),s.fillRect(0,0,t,i),MD(e)||(s.globalCompositeOperation="destination-in",s.drawImage(e,0,0,t,i)),this._imageMask=r}return this._imageMask}}class Uce{constructor(e,t,i,r){Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"originalPoint",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"point",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"bbox",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"simulated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"native",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Ns("touchevents")&&e instanceof Touch?this.id=e.identifier:this.id=null}}class $ce extends yue{constructor(e){if(super(),Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"_layerDom",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"layers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_dirtyLayers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"defaultLayer",{enumerable:!0,configurable:!0,writable:!0,value:this.getLayer(0)}),Object.defineProperty(this,"_ghostLayer",{enumerable:!0,configurable:!0,writable:!0,value:new zce}),Object.defineProperty(this,"_deferredGhostLayers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_patternCanvas",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("canvas")}),Object.defineProperty(this,"_patternContext",{enumerable:!0,configurable:!0,writable:!0,value:this._patternCanvas.getContext("2d")}),Object.defineProperty(this,"_realWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_realHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_calculatedWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_calculatedHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interactionsEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_colorMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_forceInteractive",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_omitTainted",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_hovering",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"_dragging",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mousedown",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_lastPointerMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tapToActivate",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"tapToActivateTimeout",{enumerable:!0,configurable:!0,writable:!0,value:3e3}),Object.defineProperty(this,"_touchActive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_touchActiveTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e==null?this.resolution=window.devicePixelRatio:this.resolution=e,this.view.style.position="absolute",this.view.setAttribute("aria-hidden","true"),this.view.appendChild(this._layerDom),this._disposers.push(new on(()=>{Ze(this._events,(t,i)=>{i.disposer.dispose()}),W(this.layers,t=>{Dh(t.view),t.exportableView&&Dh(t.exportableView)}),Dh(this._ghostLayer.view),Dh(this._patternCanvas)})),this._disposers.push(EB(()=>{e==null&&(this.resolution=window.devicePixelRatio)})),Ns("touchevents")){const t=i=>{this._dragging.length!==0&&BE(this._dragging,r=>r.value.shouldCancelTouch()?(i.preventDefault(),!1):!0),this._touchActiveTimeout&&this._delayTouchDeactivate()};this._disposers.push(St(window,"touchstart",t,{passive:!1})),this._disposers.push(St(this.view,"touchstart",t,{passive:!1})),this._disposers.push(St(this.view,"touchmove",()=>{this._touchActiveTimeout&&this._delayTouchDeactivate()},{passive:!0})),this._disposers.push(St(window,"click",i=>{this._touchActive=!1},{passive:!0})),this._disposers.push(St(this.view,"click",i=>{window.setTimeout(()=>{this._touchActive=!0,this._delayTouchDeactivate()},100)},{passive:!0}))}Ns("wheelevents")&&this._disposers.push(St(this.view,"wheel",t=>{let i=!1;this._hovering.forEach(r=>{if(r.wheelable)return i=!0,!1}),i&&t.preventDefault()},{passive:!1}))}resetImageArray(){this._ghostLayer.imageArray=void 0}_delayTouchDeactivate(){this._touchActiveTimeout&&clearTimeout(this._touchActiveTimeout),this.tapToActivateTimeout>0&&(this._touchActiveTimeout=window.setTimeout(()=>{this._touchActive=!1},this.tapToActivateTimeout))}get debugGhostView(){return!!this._ghostLayer.view.parentNode}set debugGhostView(e){e?this._ghostLayer.view.parentNode||this.view.appendChild(this._ghostLayer.view):this._ghostLayer.view.parentNode&&this._ghostLayer.view.parentNode.removeChild(this._ghostLayer.view)}createLinearGradient(e,t,i,r){return this.defaultLayer.context.createLinearGradient(e,t,i,r)}createRadialGradient(e,t,i,r,s,o){return this.defaultLayer.context.createRadialGradient(e,t,i,r,s,o)}createPattern(e,t,i,r,s){return this._patternCanvas.width=r,this._patternCanvas.height=s,this._patternContext.clearRect(0,0,r,s),t.renderDetached(this._patternContext),e.renderDetached(this._patternContext),this._patternContext.createPattern(this._patternCanvas,i)}makeContainer(){return new bce(this)}makeGraphics(){return new Lce(this)}makeText(e,t){return new FB(this,e,t)}makeTextStyle(){return new Fce}makeRadialText(e,t){return new Vce(this,e,t)}makePicture(e){return new Bce(this,e)}resizeLayer(e){e.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}resizeGhost(){this._ghostLayer.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}resize(e,t,i,r){this._realWidth=e,this._realHeight=t,this._calculatedWidth=i,this._calculatedHeight=r,W(this.layers,s=>{s&&(s.dirty=!0,this.resizeLayer(s))}),this.resizeGhost(),this.view.style.width=i+"px",this.view.style.height=r+"px"}createDetachedLayer(e=!1){const t=document.createElement("canvas"),i=t.getContext("2d",{willReadFrequently:e}),r=new Hce(t,i);return t.style.position="absolute",t.style.top="0px",t.style.left="0px",r}getLayerByOrder(e){const t=this.layers,i=t.length;for(let r=0;r<i;r++){const s=t[r];if(s.order==e)return s}}getLayer(e,t=!0){let i=this.getLayerByOrder(e);if(i)return i;const r=this.createDetachedLayer(e==99);r.order=e,r.visible=t,r.view.className="am5-layer-"+e,r.visible&&this.resizeLayer(r);const s=this.layers;s.push(r),s.sort((u,c)=>u.order>c.order?1:u.order<c.order?-1:0);const o=s.length,a=Qd(s,r);let l;for(let u=a+1;u<o;u++)if(s[u].visible){l=s[u];break}return r.visible&&(l===void 0?this._layerDom.appendChild(r.view):this._layerDom.insertBefore(r.view,l.view)),r}render(e){this._dirtyLayers.length=0,this._deferredGhostLayers=[],W(this.layers,i=>{i&&i.dirty&&i.visible&&(this._dirtyLayers.push(i),i.clear())}),this._ghostLayer.clear(),e.render({inactive:null,layer:this.defaultLayer});const t=this._deferredGhostLayers;if(t.length&&(t.sort((i,r)=>i-r),W(t,i=>{e.render({inactive:null,layer:this.defaultLayer},i)})),this._ghostLayer.context.restore(),W(this.layers,i=>{if(i){const r=i.context;r.beginPath(),r.moveTo(0,0),r.stroke()}}),W(this._dirtyLayers,i=>{i.context.restore(),i.dirty=!1}),this._hovering.size&&this._lastPointerMoveEvent){const{events:i,target:r,native:s}=this._lastPointerMoveEvent;W(i,o=>{this._dispatchGlobalMousemove(o,r,s)})}}paintId(e){const t=gce(++this._colorId),i=_e.fromHex(t).toCSS();return this._colorMap[i]=e,i}_removeObject(e){e._colorId!==void 0&&delete this._colorMap[e._colorId]}_adjustBoundingBox(e){const t=this._ghostLayer.margin;return new DOMRect(-t.left,-t.top,e.width+t.left+t.right,e.height+t.top+t.bottom)}getEvent(e,t=!0){const i=this.view.getBoundingClientRect(),r=e.clientX||0,s=e.clientY||0,o=this._calculatedWidth/this._realWidth,a=this._calculatedHeight/this._realHeight,l={x:r-i.left,y:s-i.top},u={x:(r-(t?i.left:0))*o,y:(s-(t?i.top:0))*a};return new Uce(e,l,u,this._adjustBoundingBox(i))}_getHitTarget(e,t,i){if(t.width===0||t.height===0||e.x<t.left||e.x>t.right||e.y<t.top||e.y>t.bottom||!i||!this._layerDom.contains(i))return;const r=this._ghostLayer.getImageData(e,t);if(r.data[0]===0&&r.data[1]===0&&r.data[2]===0)return!1;const s=_e.fromRGB(r.data[0],r.data[1],r.data[2]).toCSS();return this._colorMap[s]}getObjectAtPoint(e){const t=this._ghostLayer.getImageArray(e);if(t[0]===0&&t[1]===0&&t[2]===0)return;const i=_e.fromRGB(t[0],t[1],t[2]).toCSS();return this._colorMap[i]}_withEvents(e,t){const i=this._events[e];if(i!==void 0){i.dispatching=!0;try{t(i)}finally{i.dispatching=!1,i.cleanup&&(i.cleanup=!1,$v(i.callbacks,r=>!r.disposed),i.callbacks.length===0&&(i.disposer.dispose(),delete this._events[e]))}}}_dispatchEventAll(e,t){this.interactionsEnabled&&this._withEvents(e,i=>{W(i.callbacks,r=>{r.disposed||r.callback.call(r.context,t)})})}_dispatchEvent(e,t,i){if(!this.interactionsEnabled)return!1;let r=!1;return this._withEvents(e,s=>{W(s.callbacks,o=>{!o.disposed&&o.object===t&&(o.callback.call(o.context,i),r=!0)})}),r}_dispatchMousedown(e,t){const i=e.button;if(i!=0&&i!=2&&i!=1&&i!==void 0)return;const r=this.getEvent(e),s=this._getHitTarget(r.originalPoint,r.bbox,t);if(s){const o=r.id;let a=!1;im(s,l=>{const u={id:o,value:l};return this._mousedown.push(u),!a&&this._dispatchEvent("pointerdown",l,r)&&(a=!0,this._dragging.some(h=>h.value===l&&h.id===o)||this._dragging.push(u)),!0})}}_dispatchGlobalMousemove(e,t,i){const r=this.getEvent(e),s=this._getHitTarget(r.originalPoint,r.bbox,t);r.native=i,s?(this._hovering.forEach(o=>{o.contains(s)||(this._hovering.delete(o),o.cursorOverStyle&&Zp(document.body,"cursor",o._replacedCursorStyle),this._dispatchEvent("pointerout",o,r))}),r.native&&im(s,o=>(this._hovering.has(o)||(this._hovering.add(o),o.cursorOverStyle&&(o._replacedCursorStyle=wue(document.body,"cursor"),Zp(document.body,"cursor",o.cursorOverStyle)),this._dispatchEvent("pointerover",o,r)),!0))):(this._hovering.forEach(o=>{o.cursorOverStyle&&Zp(document.body,"cursor",o._replacedCursorStyle),this._dispatchEvent("pointerout",o,r)}),this._hovering.clear()),this._dispatchEventAll("globalpointermove",r)}removeHovering(e){this._hovering.delete(e),e.cursorOverStyle&&Zp(document.body,"cursor",e._replacedCursorStyle)}_dispatchGlobalMouseup(e,t){const i=this.getEvent(e);i.native=t,this._dispatchEventAll("globalpointerup",i)}_dispatchDragMove(e){if(this._dragging.length!==0){const t=this.getEvent(e),i=t.id;this._dragging.forEach(r=>{r.id===i&&this._dispatchEvent("pointermove",r.value,t)})}}_dispatchDragEnd(e,t){const i=e.button;let r;if(i==0||i===void 0)r="click";else if(i==2)r="rightclick";else if(i==1)r="middleclick";else return;const s=this.getEvent(e),o=s.id;if(this._mousedown.length!==0){const a=this._getHitTarget(s.originalPoint,s.bbox,t);a&&this._mousedown.forEach(l=>{l.id===o&&l.value.contains(a)&&this._dispatchEvent(r,l.value,s)}),this._mousedown.length=0}this._dragging.length!==0&&(this._dragging.forEach(a=>{a.id===o&&this._dispatchEvent("pointerup",a.value,s)}),this._dragging.length=0)}_dispatchDoubleClick(e,t){const i=this.getEvent(e),r=this._getHitTarget(i.originalPoint,i.bbox,t);r&&im(r,s=>!this._dispatchEvent("dblclick",s,i))}_dispatchWheel(e,t){const i=this.getEvent(e),r=this._getHitTarget(i.originalPoint,i.bbox,t);r&&im(r,s=>!this._dispatchEvent("wheel",s,i))}_makeSharedEvent(e,t){if(this._listeners[e]===void 0){const i=t();this._listeners[e]=new TB(()=>{delete this._listeners[e],i.dispose()})}return this._listeners[e].increment()}_onPointerEvent(e,t){let i=!1,r=null;function s(){r=null,i=!1}return new fi([new on(()=>{r!==null&&clearTimeout(r),s()}),St(this.view,ux(e),o=>{i=!0,r!==null&&clearTimeout(r),r=window.setTimeout(s,0)}),yce(window,e,(o,a)=>{r!==null&&(clearTimeout(r),r=null),t(o,a,i),i=!1})])}_initEvent(e){switch(e){case"globalpointermove":case"pointerover":case"pointerout":return this._makeSharedEvent("pointermove",()=>{const t=(i,r,s)=>{this._lastPointerMoveEvent={events:i,target:r,native:s},W(i,o=>{this._dispatchGlobalMousemove(o,r,s)})};return new fi([this._onPointerEvent("pointerdown",t),this._onPointerEvent("pointermove",t)])});case"globalpointerup":return this._makeSharedEvent("pointerup",()=>{const t=this._onPointerEvent("pointerup",(r,s,o)=>{W(r,a=>{this._dispatchGlobalMouseup(a,o)}),this._lastPointerMoveEvent={events:r,target:s,native:o}}),i=this._onPointerEvent("pointercancel",(r,s,o)=>{W(r,a=>{this._dispatchGlobalMouseup(a,o)}),this._lastPointerMoveEvent={events:r,target:s,native:o}});return new on(()=>{t.dispose(),i.dispose()})});case"click":case"rightclick":case"middleclick":case"pointerdown":case"pointermove":case"pointerup":return this._makeSharedEvent("pointerdown",()=>{const t=this._onPointerEvent("pointerdown",(o,a)=>{W(o,l=>{this._dispatchMousedown(l,a)})}),i=this._onPointerEvent("pointermove",o=>{W(o,a=>{this._dispatchDragMove(a)})}),r=this._onPointerEvent("pointerup",(o,a)=>{W(o,l=>{this._dispatchDragEnd(l,a)})}),s=this._onPointerEvent("pointercancel",(o,a)=>{W(o,l=>{this._dispatchDragEnd(l,a)})});return new on(()=>{t.dispose(),i.dispose(),r.dispose(),s.dispose()})});case"dblclick":return this._makeSharedEvent("dblclick",()=>this._onPointerEvent("dblclick",(t,i)=>{W(t,r=>{this._dispatchDoubleClick(r,i)})}));case"wheel":return this._makeSharedEvent("wheel",()=>St(this.view,ux("wheel"),t=>{this._dispatchWheel(t,PB(t))},{passive:!1}))}}_addEvent(e,t,i,r){let s=this._events[t];s===void 0&&(s=this._events[t]={disposer:this._initEvent(t),callbacks:[],dispatching:!1,cleanup:!1});const o={object:e,context:r,callback:i,disposed:!1};return s.callbacks.push(o),new on(()=>{o.disposed=!0,s.dispatching?s.cleanup=!0:(kn(s.callbacks,o),s.callbacks.length===0&&(s.disposer.dispose(),delete this._events[t]))})}getCanvas(e,t){this.render(e),t||(t={});let i=this.resolution,r=Math.floor(this._calculatedWidth*this.resolution),s=Math.floor(this._calculatedHeight*this.resolution);if(t.minWidth&&t.minWidth>r){let f=t.minWidth/r;f>i&&(i=f*this.resolution)}if(t.minHeight&&t.minHeight>s){let f=t.minHeight/s;f>i&&(i=f*this.resolution)}if(t.maxWidth&&t.maxWidth<r){let f=t.maxWidth/r;f<i&&(i=f*this.resolution)}if(t.maxHeight&&t.maxHeight>s){let f=t.maxHeight/s;f<i&&(i=f*this.resolution)}t.maintainPixelRatio&&(i/=this.resolution);const o=[];let a=!1;const l=document.createElement("canvas");i!=this.resolution&&(a=!0,r=r*i/this.resolution,s=s*i/this.resolution),l.width=r,l.height=s,l.style.position="fixed",l.style.top="-10000px",this.view.appendChild(l),o.push(l);const u=l.getContext("2d");let c=0,h=0,d=!1;return W(this.layers,f=>{if(f&&f.visible&&(f.tainted||a)){d=!0,f.exportableView=f.view,f.exportableContext=f.context,f.view=document.createElement("canvas"),f.view.style.position="fixed",f.view.style.top="-10000px",this.view.appendChild(f.view),o.push(f.view);let y=0,g=0;f.margin&&(y+=f.margin.left||0+f.margin.right||0,g+=f.margin.top||0+f.margin.bottom||0),f.view.width=r+y,f.view.height=s+g,f.context=f.view.getContext("2d"),f.dirty=!0,f.scale=i}}),d&&(this._omitTainted=!0,this.render(e),this._omitTainted=!1),W(this.layers,f=>{if(f&&f.visible){let y=0,g=0;f.margin&&(y=-(f.margin.left||0)*this.resolution,g=-(f.margin.top||0)*this.resolution),u.drawImage(f.view,y,g),f.exportableView&&(f.view=f.exportableView,f.exportableView=void 0),f.exportableContext&&(f.context=f.exportableContext,f.exportableContext=void 0),c<f.view.clientWidth&&(c=f.view.clientWidth),h<f.view.clientHeight&&(h=f.view.clientHeight),f.scale=void 0}}),l.style.width=c+"px",l.style.height=h+"px",W(o,f=>{f.style.position="",f.style.top="",this.view.removeChild(f)}),l}}class zce{constructor(){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"imageArray",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.view=document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.context.imageSmoothingEnabled=!1,this.view.style.position="absolute",this.view.style.top="0px",this.view.style.left="0px"}resize(e,t,i,r,s){this._resolution=s,e+=this.margin.left+this.margin.right,t+=this.margin.top+this.margin.bottom,i+=this.margin.left+this.margin.right,r+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px",this._width=Math.floor(e*s),this._height=Math.floor(t*s),this.view.width=this._width,this.view.style.width=i+"px",this.view.height=this._height,this.view.style.height=r+"px"}getImageData(e,t){return this.context.getImageData(Math.round((e.x-t.left)/t.width*this._width),Math.round((e.y-t.top)/t.height*this._height),1,1)}getImageArray(e){this.imageArray||(this.imageArray=this.context.getImageData(0,0,this._width,this._height).data);const t=this.imageArray,i=Math.round(e.x*this._resolution),s=(Math.round(e.y*this._resolution)*this._width+i)*4;return[t[s],t[s+1],t[s+2],t[s+3]]}setMargin(e){this.margin.left=0,this.margin.right=0,this.margin.top=0,this.margin.bottom=0,W(e,t=>{t.margin&&(this.margin.left=Math.max(this.margin.left,t.margin.left),this.margin.right=Math.max(this.margin.right,t.margin.right),this.margin.top=Math.max(this.margin.top,t.margin.top),this.margin.bottom=Math.max(this.margin.bottom,t.margin.bottom))})}clear(){this.context.save(),this.context.fillStyle="#000",this.context.fillRect(0,0,this._width,this._height)}}class Hce{constructor(e,t){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dirty",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportableView",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exportableContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.view=e,this.context=t}resize(e,t,i,r,s){this.width!=null&&(e=this.width,i=this.width),this.height!=null&&(t=this.height,r=this.height),this.margin?(e+=this.margin.left+this.margin.right,t+=this.margin.top+this.margin.bottom,i+=this.margin.left+this.margin.right,r+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px"):(this.view.style.left="0px",this.view.style.top="0px"),this._width=Math.floor(e*s),this._height=Math.floor(t*s),this.view.width=this._width,this.view.style.width=i+"px",this.view.height=this._height,this.view.style.height=r+"px"}clear(){this.context.save(),this.context.clearRect(0,0,this._width,this._height)}}function OD(n,e){n==null?requestAnimationFrame(e):setTimeout(()=>{requestAnimationFrame(e)},1e3/n)}class WE{constructor(e,t={},i){if(Object.defineProperty(this,"dom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_inner",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyAnimation",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyBounds",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPositions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_ticker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_tickers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_updateTick",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new zc}),Object.defineProperty(this,"animationTime",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_animations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rootContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tooltipContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipContainerSettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"language",{enumerable:!0,configurable:!0,writable:!0,value:lce.new(this,{})}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:LB}),Object.defineProperty(this,"utc",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timezone",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numberFormatter",{enumerable:!0,configurable:!0,writable:!0,value:rce.new(this,{})}),Object.defineProperty(this,"dateFormatter",{enumerable:!0,configurable:!0,writable:!0,value:oce.new(this,{})}),Object.defineProperty(this,"durationFormatter",{enumerable:!0,configurable:!0,writable:!0,value:ace.new(this,{})}),Object.defineProperty(this,"tabindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tabindexes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_a11yD",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusedSprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isShift",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_keyboardDragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_readerAlertElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_logo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDiv",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nonce",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interfaceColors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"verticalLayout",{enumerable:!0,configurable:!0,writable:!0,value:yc.new(this,{})}),Object.defineProperty(this,"horizontalLayout",{enumerable:!0,configurable:!0,writable:!0,value:gc.new(this,{})}),Object.defineProperty(this,"gridLayout",{enumerable:!0,configurable:!0,writable:!0,value:Cl.new(this,{})}),Object.defineProperty(this,"_paused",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"autoResize",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_fontHash",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"_isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_resizeSensorDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltips",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_htmlElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlEnabledContainers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"entitiesById",{enumerable:!0,configurable:!0,writable:!0,value:{}}),!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=t,t.accessible==!1&&(this._a11yD=!0),t.useSafeResolution==null&&(t.useSafeResolution=!0);let r;t.useSafeResolution&&(r=Eue()),this._renderer=new $ce(r);let s;if(e instanceof HTMLElement?s=e:s=document.getElementById(e),W(Co.rootElements,l=>{if(l.dom===s)throw new Error("You cannot have multiple Roots on the same DOM node")}),this.interfaceColors=ry.new(this,{}),s===null)throw new Error("Could not find HTML element with id `"+e+"`");this.dom=s;let o=document.createElement("div");o.style.position="relative",o.style.width="100%",o.style.height="100%",s.appendChild(o);const a=t.tooltipContainerBounds;a&&(this._tooltipContainerSettings=a),this._inner=o,this._updateComputedStyles(),Co.rootElements.push(this)}static new(e,t){const i=new WE(e,t,!0);return i._init(),i}moveDOM(e){let t;if(e instanceof HTMLElement?t=e:t=document.getElementById(e),t){for(;this.dom.childNodes.length>0;)t.appendChild(this.dom.childNodes[0]);this.dom=t,this._initResizeSensor(),this.resize()}}_handleLogo(){if(this._logo){const e=this.dom.offsetWidth,t=this.dom.offsetHeight;e<=150||t<=60?this._logo.hide():this._logo.show()}}_showBranding(){if(!this._logo){const e=this.tooltipContainer.children.push(Me.new(this,{interactive:!0,interactiveChildren:!1,position:"absolute",setStateOnChildren:!0,paddingTop:9,paddingRight:9,paddingBottom:9,paddingLeft:9,scale:.6,y:vr(100),centerY:de,tooltipText:"Created using amCharts 5",tooltipX:de,cursorOverStyle:"pointer",background:ji.new(this,{fill:Yr(4671320),fillOpacity:0,tooltipY:5})})),t=ea.new(this,{pointerOrientation:"horizontal",paddingTop:4,paddingRight:7,paddingBottom:4,paddingLeft:7});t.label.setAll({fontSize:12}),t.get("background").setAll({fill:this.interfaceColors.get("background"),stroke:this.interfaceColors.get("grid"),strokeOpacity:.3}),e.set("tooltip",t),e.events.on("click",()=>{window.open("https://www.amcharts.com/","_blank")}),e.states.create("hover",{}),e.children.push(ct.new(this,{stroke:Yr(13421772),strokeWidth:3,svgPath:"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6"})).states.create("hover",{stroke:Yr(3976191)}),e.children.push(ct.new(this,{stroke:Yr(8947848),strokeWidth:3,svgPath:"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0"})).states.create("hover",{stroke:Yr(4671320)}),this._logo=e,this._handleLogo()}}_getRealSize(){return this.dom.getBoundingClientRect()}_getCalculatedSize(e){return this._settings.calculateSize?this._settings.calculateSize(e):{width:e.width,height:e.height}}_init(){const e=this._settings;e.accessible!==!1&&(e.focusable&&(this._inner.setAttribute("focusable","true"),this._inner.setAttribute("tabindex",this.tabindex+"")),e.ariaLabel&&this._inner.setAttribute("aria-label",e.ariaLabel),e.role&&this._inner.setAttribute("role",e.role));const t=this._renderer,i=this._getRealSize(),r=this._getCalculatedSize(i),s=Math.floor(r.width),o=Math.floor(r.height),a=Math.floor(i.width),l=Math.floor(i.height),u=Me.new(this,{visible:!0,width:s,height:o});this._rootContainer=u,this._rootContainer._defaultThemes.push(uce.new(this));const c=u.children.push(Me.new(this,{visible:!0,width:de,height:de}));this.container=c,t.resize(a,l,s,o),this._inner.appendChild(t.view),this._initResizeSensor();const h=document.createElement("div");if(this._htmlElementContainer=h,h.className="am5-html-container",h.style.position="absolute",h.style.pointerEvents="none",this._tooltipContainerSettings||(h.style.overflow="hidden"),this._inner.appendChild(h),this._a11yD!==!0){const d=document.createElement("div");d.className="am5-reader-container",d.setAttribute("role","alert"),d.style.position="absolute",d.style.width="1px",d.style.height="1px",d.style.overflow="hidden",d.style.clip="rect(1px, 1px, 1px, 1px)",this._readerAlertElement=d,this._inner.appendChild(this._readerAlertElement);const f=document.createElement("div");f.className="am5-focus-container",f.style.position="absolute",f.style.pointerEvents="none",f.style.top="0px",f.style.left="0px",f.style.overflow="hidden",f.style.width=s+"px",f.style.height=o+"px",f.setAttribute("role","graphics-document"),eu(f,!1),this._focusElementContainer=f,this._inner.appendChild(this._focusElementContainer);const y=document.createElement("div");this._tooltipElementContainer=y,y.className="am5-tooltip-container",this._inner.appendChild(y),Ns("keyboardevents")&&(this._disposers.push(St(window,"keydown",g=>{const _=kh(g);_=="Shift"?this._isShift=!0:_=="Tab"&&(this._isShift=g.shiftKey)})),this._disposers.push(St(window,"keyup",g=>{kh(g)=="Shift"&&(this._isShift=!1)})),this._disposers.push(St(f,"click",()=>{const g=this._focusedSprite;if(g){const _=g.get("clickAnnounceText","");_!==""&&this.readerAlert(_);const v=t.getEvent(new MouseEvent("click"));g.events.dispatch("click",{type:"click",originalEvent:v.event,point:v.point,simulated:!0,target:g})}})),this._disposers.push(St(f,"keydown",g=>{const _=this._focusedSprite;if(_){g.key=="Escape"&&(bue(),this._focusedSprite=void 0);let v=0,b=0;const x=kh(g);switch(x){case"Enter":case" ":const P=_.get("clickAnnounceText","");if(P!==""&&this.readerAlert(P),x==" "&&_.get("role")!="checkbox")return;g.preventDefault();const k=t.getEvent(new MouseEvent("mouse"));_.events.dispatch("click",{type:"click",originalEvent:k.event,point:k.point,simulated:!0,target:_});return;case"ArrowLeft":v=-6;break;case"ArrowRight":v=6;break;case"ArrowUp":b=-6;break;case"ArrowDown":b=6;break;default:return}if(v!=0||b!=0){if(g.preventDefault(),!_.isDragging()){this._keyboardDragPoint={x:0,y:0};const M=t.getEvent(new MouseEvent("mousedown",{clientX:0,clientY:0}));M.point={x:0,y:0},_.events.isEnabled("pointerdown")&&_.events.dispatch("pointerdown",{type:"pointerdown",originalEvent:M.event,point:M.point,simulated:!0,target:_})}const P=this._keyboardDragPoint;P.x+=v,P.y+=b;const k=t.getEvent(new MouseEvent("mousemove",{clientX:P.x,clientY:P.y}),!1);_.events.isEnabled("globalpointermove")&&_.events.dispatch("globalpointermove",{type:"globalpointermove",originalEvent:k.event,point:k.point,simulated:!0,target:_})}}})),this._disposers.push(St(f,"keyup",g=>{if(this._focusedSprite){const _=this._focusedSprite,v=kh(g);switch(v){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":if(_.isDragging()){const x=this._keyboardDragPoint,P=t.getEvent(new MouseEvent("mouseup",{clientX:x.x,clientY:x.y}));_.events.isEnabled("globalpointerup")&&_.events.dispatch("globalpointerup",{type:"globalpointerup",originalEvent:P.event,point:P.point,simulated:!0,target:_}),this._keyboardDragPoint=void 0;return}else if(_.get("focusableGroup")){const x=_.get("focusableGroup"),P=this._tabindexes.filter(A=>!!(A.get("focusableGroup")==x&&A.getPrivate("focusable")!==!1&&A.isVisibleDeep()));let k=P.indexOf(_);const M=P.length-1;k+=v=="ArrowRight"||v=="ArrowDown"?1:-1,k<0?k=M:k>M&&(k=0),_ue(P[k].getPrivate("focusElement").dom)}break;case"Tab":const b=_.get("focusableGroup");if(b&&this._isShift){this._focusNext(_.getPrivate("focusElement").dom,-1,b);return}break}}})))}this._startTicker(),this.setThemes([]),this._addTooltip(),this._hasLicense()||this._showBranding()}_initResizeSensor(){this._resizeSensorDisposer&&this._resizeSensorDisposer.dispose(),this._resizeSensorDisposer=new ice(this.dom,()=>{this.autoResize&&this.resize()}),this._disposers.push(this._resizeSensorDisposer)}resize(){const e=this._getRealSize(),t=this._getCalculatedSize(e),i=Math.floor(t.width),r=Math.floor(t.height);if(i>0&&r>0){const s=Math.floor(e.width),o=Math.floor(e.height),a=this._htmlElementContainer;if(a.style.width=i+"px",a.style.height=r+"px",this._a11yD!==!0){const u=this._focusElementContainer;u.style.width=i+"px",u.style.height=r+"px"}this._renderer.resize(s,o,i,r);const l=this._rootContainer;l.setPrivate("width",i),l.setPrivate("height",r),this._render(),this._handleLogo()}}_render(){this._renderer.render(this._rootContainer._display),this._focusElementDirty&&(this._updateCurrentFocus(),this._focusElementDirty=!1)}_runTickers(e){W(this._tickers,t=>{t(e)})}_runAnimations(e){let t=0;return $v(this._animations,i=>{const r=i._runAnimation(e);return r===ul.Stopped?!1:(r===ul.Playing&&++t,!0)}),this._isDirtyAnimation=!1,t===0}_runDirties(){let e={};for(;this._isDirtyParents;)this._isDirtyParents=!1,en(this._dirtyParents).forEach(o=>{const a=this._dirtyParents[o];delete this._dirtyParents[o],a.isDisposed()||(e[a.uid]=a,a._prepareChildren())});en(e).forEach(o=>{e[o]._updateChildren()});const t=[];en(this._dirty).forEach(o=>{const a=this._dirty[o];a.isDisposed()?delete this._dirty[a.uid]:(t.push(a),a._beforeChanged())}),t.forEach(o=>{o._changed(),delete this._dirty[o.uid],o._clearDirty()}),this._isDirty=!1;const i={},r=[];en(this._dirtyBounds).forEach(o=>{const a=this._dirtyBounds[o];delete this._dirtyBounds[o],a.isDisposed()||(i[a.uid]=a.depth(),r.push(a))}),this._positionHTMLElements(),r.sort((o,a)=>rs(i[a.uid],i[o.uid])),r.forEach(o=>{o._updateBounds()});const s=this._dirtyPositions;en(s).forEach(o=>{const a=s[o];delete s[o],a.isDisposed()||a._updatePosition()}),t.forEach(o=>{o._afterChanged()})}_renderFrame(e){if(this._updateTick){this.events.isEnabled("framestarted")&&this.events.dispatch("framestarted",{type:"framestarted",target:this,timestamp:e}),this._checkComputedStyles(),this._runTickers(e);const t=this._runAnimations(e);return this._runDirties(),this._render(),this._renderer.resetImageArray(),this._positionHTMLElements(),this.events.isEnabled("frameended")&&this.events.dispatch("frameended",{type:"frameended",target:this,timestamp:e}),this._tickers.length===0&&t&&!this._isDirtyAnimation&&!this._isDirty}else return!0}_runTicker(e,t){this.isDisposed()||(this.animationTime=e,this._renderFrame(e)?(this._ticker=null,this.animationTime=null):this._paused||(t?this._ticker:OD(this.fps,this._ticker)))}_runTickerNow(e=1e4){if(!this.isDisposed()){const t=performance.now()+e;for(;;){const i=performance.now();if(i>=t){this.animationTime=null;break}if(this.animationTime=i,this._renderFrame(i)){this.animationTime=null;break}}}}_startTicker(){this._ticker===null&&(this.animationTime=null,this._ticker=e=>{this._runTicker(e)},OD(this.fps,this._ticker))}get updateTick(){return this._updateTick}set updateTick(e){this._updateTick=e,e&&this._startTicker()}_addDirtyEntity(e){this._isDirty=!0,this._dirty[e.uid]===void 0&&(this._dirty[e.uid]=e),this._startTicker()}_addDirtyParent(e){this._isDirty=!0,this._isDirtyParents=!0,this._dirtyParents[e.uid]===void 0&&(this._dirtyParents[e.uid]=e),this._startTicker()}_addDirtyBounds(e){this._isDirty=!0,this._dirtyBounds[e.uid]===void 0&&(this._dirtyBounds[e.uid]=e),this._startTicker()}_addDirtyPosition(e){this._isDirty=!0,this._dirtyPositions[e.uid]===void 0&&(this._dirtyPositions[e.uid]=e),this._startTicker()}_addAnimation(e){this._isDirtyAnimation=!0,this._animations.indexOf(e)===-1&&this._animations.push(e),this._startTicker()}_markDirty(){this._isDirty=!0}_markDirtyRedraw(){this.events.once("frameended",()=>{this._isDirty=!0,this._startTicker()})}eachFrame(e){return this._tickers.push(e),this._startTicker(),new on(()=>{kn(this._tickers,e)})}markDirtyGlobal(e){e||(e=this.container),e.walkChildren(t=>{t instanceof Me&&this.markDirtyGlobal(t),t.markDirty(),t.markDirtyBounds()})}width(){return Math.floor(this._getCalculatedSize(this._getRealSize()).width)}height(){return Math.floor(this._getCalculatedSize(this._getRealSize()).height)}dispose(){this._isDisposed||(this._isDisposed=!0,this._rootContainer.dispose(),this._renderer.dispose(),this.horizontalLayout.dispose(),this.verticalLayout.dispose(),this.interfaceColors.dispose(),W(this._disposers,e=>{e.dispose()}),this._inner&&vue(this._inner),Xi(Co.rootElements,this))}isDisposed(){return this._isDisposed}readerAlert(e){if(this._a11yD!==!0){const t=this._readerAlertElement;e=xD(e),t.innerHTML==e&&(t.innerHTML=""),t.innerHTML=e}}setThemes(e){this._rootContainer.set("themes",e);const t=this.tooltipContainer;t&&t._applyThemes();const i=this.interfaceColors;i&&i._applyThemes()}_addTooltip(){if(!this.tooltipContainer){const e=this._tooltipContainerSettings,t=this._rootContainer.children.push(Me.new(this,{position:"absolute",isMeasured:!1,width:de,height:de,layer:e?35:30,layerMargin:e||void 0}));this.tooltipContainer=t;const i=ea.new(this,{});this.container.set("tooltip",i),i.hide(0),this._tooltip=i}}_registerTabindexOrder(e){this._a11yD!=!0&&(e.get("focusable")?Zd(this._tabindexes,e):Xi(this._tabindexes,e),this._invalidateTabindexes())}_unregisterTabindexOrder(e){this._a11yD!=!0&&(Xi(this._tabindexes,e),this._invalidateTabindexes())}_invalidateTabindexes(){if(this._a11yD==!0)return;this._tabindexes.sort((t,i)=>{const r=t.get("tabindexOrder",0),s=i.get("tabindexOrder",0);return r==s?0:r>s?1:-1});const e=[];W(this._tabindexes,(t,i)=>{t.getPrivate("focusElement")?this._moveFocusElement(i,t):this._makeFocusElement(i,t);const r=t.get("focusableGroup");r&&t.getPrivate("focusable")!==!1&&(e.indexOf(r)!==-1?t.getPrivate("focusElement").dom.setAttribute("tabindex","-1"):e.push(r))})}_updateCurrentFocus(){this._a11yD!=!0&&this._focusedSprite&&(this._decorateFocusElement(this._focusedSprite),this._positionFocusElement(this._focusedSprite))}_decorateFocusElement(e,t){if(this._a11yD==!0||(t||(t=e.getPrivate("focusElement").dom),!t))return;const i=e.get("role");i?t.setAttribute("role",i):t.removeAttribute("role");const r=e.get("ariaLabel");if(r){const g=tf(e,r);t.setAttribute("aria-label",g)}else t.removeAttribute("aria-label");const s=e.get("ariaLive");s?t.setAttribute("aria-live",s):t.removeAttribute("aria-live");const o=e.get("ariaChecked");o!=null&&i&&["checkbox","option","radio","menuitemcheckbox","menuitemradio","treeitem"].indexOf(i)!==-1?t.setAttribute("aria-checked",o?"true":"false"):t.removeAttribute("aria-checked");const a=e.get("ariaCurrent");a!=null?t.setAttribute("aria-current",a):t.removeAttribute("aria-current");const l=e.get("ariaSelected");l!=null&&i&&["gridcell","option","row","tab","columnheader","rowheader","treeitem"].indexOf(i)!==-1?t.setAttribute("aria-selected",l?"true":"false"):t.removeAttribute("aria-selected"),e.get("ariaHidden")?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden");const u=e.get("ariaOrientation");u?t.setAttribute("aria-orientation",u):t.removeAttribute("aria-orientation");const c=e.get("ariaValueNow");c?t.setAttribute("aria-valuenow",c):t.removeAttribute("aria-valuenow");const h=e.get("ariaValueMin");h?t.setAttribute("aria-valuemin",h):t.removeAttribute("aria-valuemin");const d=e.get("ariaValueMax");d?t.setAttribute("aria-valuemax",d):t.removeAttribute("aria-valuemax");const f=e.get("ariaValueText");f?t.setAttribute("aria-valuetext",f):t.removeAttribute("aria-valuetext");const y=e.get("ariaControls");y?t.setAttribute("aria-controls",y):t.removeAttribute("aria-controls"),e.get("visible")&&e.get("opacity")!==0&&e.get("role")!="tooltip"&&!e.isHidden()&&e.getPrivate("focusable")!==!1&&(e.height()||e.width())?(t.getAttribute("tabindex")!="-1"&&t.setAttribute("tabindex",""+this.tabindex),t.removeAttribute("aria-hidden")):(t.removeAttribute("tabindex"),t.setAttribute("aria-hidden","true"))}_makeFocusElement(e,t){if(t.getPrivate("focusElement")||this._a11yD==!0)return;const i=document.createElement("div");t.get("role")!="tooltip"&&(i.tabIndex=this.tabindex),i.style.position="absolute",eu(i,!1);const r=[];t.setPrivate("focusElement",{dom:i,disposers:r}),this._decorateFocusElement(t),r.push(St(i,"focus",s=>{this._handleFocus(s)})),r.push(St(i,"blur",s=>{this._handleBlur(s)})),this._moveFocusElement(e,t)}_removeFocusElement(e){if(this._a11yD==!0)return;Xi(this._tabindexes,e);const t=e.getPrivate("focusElement");t&&(this._focusElementContainer.removeChild(t.dom),W(t.disposers,r=>{r.dispose()}))}_hideFocusElement(e){if(this._a11yD==!0)return;const t=e.getPrivate("focusElement");t.dom.style.display="none"}_moveFocusElement(e,t){if(this._a11yD==!0)return;const i=this._focusElementContainer,r=t.getPrivate("focusElement").dom;if(r===this._focusElementContainer.children[e])return;const s=this._focusElementContainer.children[e+1];s?i.insertBefore(r,s):i.append(r)}_positionFocusElement(e){if(this._a11yD==!0||e==null)return;const t=e.globalBounds();let i=t.right==t.left?e.width():t.right-t.left,r=t.top==t.bottom?e.height():t.bottom-t.top;const s=this._settings.focusPadding!==void 0?this._settings.focusPadding:2;let o=t.left-s,a=t.top-s;i<0&&(o+=i,i=Math.abs(i)),r<0&&(a+=r,r=Math.abs(r));const l=e.getPrivate("focusElement").dom;l.style.top=a+"px",l.style.left=o+"px",l.style.width=i+s*2+"px",l.style.height=r+s*2+"px"}_getSpriteByFocusElement(e){let t;return BE(this._tabindexes,(i,r)=>i.getPrivate("focusElement").dom===e?(t=i,!1):!0),t}_handleFocus(e){if(this._a11yD==!0)return;const t=this._getSpriteByFocusElement(e.target);if(t){if(!t.isVisibleDeep()){this._focusNext(e.target,this._isShift?-1:1);return}this._positionFocusElement(t),this._focusedSprite=t,t.events.isEnabled("focus")&&t.events.dispatch("focus",{type:"focus",originalEvent:e,target:t})}}_focusNext(e,t,i){if(this._a11yD==!0)return;const r=Array.from(document.querySelectorAll(["a[href]","area[href]","button:not([disabled])","details","input:not([disabled])","iframe:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[contentEditable=""]','[contentEditable="true"]','[contentEditable="TRUE"]','[tabindex]:not([tabindex^="-"])'].join(",")));let s=r.indexOf(e)+t;s<0?s=r.length-1:s>=r.length&&(s=0);const o=r[s];if(i&&t==-1){const a=this._getSpriteByFocusElement(o);if(a&&a.get("focusableGroup")==i){this._focusNext(o,t);return}}o.focus()}_handleBlur(e){if(this._a11yD==!0)return;const t=this._focusedSprite;t&&!t.isDisposed()&&t.events.isEnabled("blur")&&t.events.dispatch("blur",{type:"blur",originalEvent:e,target:t}),this._focusedSprite=void 0}updateTooltip(e){if(this._a11yD==!0)return;const t=xD(e._getText());let i=e.getPrivate("tooltipElement");e.get("role")=="tooltip"&&t!=""?(i||(i=this._makeTooltipElement(e)),i.innerHTML!=t&&(i.innerHTML=t),i.setAttribute("aria-hidden",e.isVisibleDeep()?"false":"true")):i&&(i.remove(),e.removePrivate("tooltipElement"))}_makeTooltipElement(e){const t=this._tooltipElementContainer,i=document.createElement("div");return i.style.position="absolute",i.style.width="1px",i.style.height="1px",i.style.overflow="hidden",i.style.clip="rect(1px, 1px, 1px, 1px)",eu(i,!1),this._decorateFocusElement(e,i),t.append(i),e.setPrivate("tooltipElement",i),i}_removeTooltipElement(e){if(this._a11yD==!0)return;const t=e.getPrivate("tooltipElement");if(t){const i=t.parentElement;i&&i.removeChild(t)}}_invalidateAccessibility(e){if(this._a11yD==!0)return;this._focusElementDirty=!0;const t=e.getPrivate("focusElement");e.get("focusable")?t&&(this._decorateFocusElement(e),this._positionFocusElement(e)):t&&this._removeFocusElement(e)}focused(e){return this._focusedSprite===e}documentPointToRoot(e){const t=this._getRealSize(),i=this._getCalculatedSize(t),r=i.width/t.width,s=i.height/t.height;return{x:(e.x-t.left)*r,y:(e.y-t.top)*s}}rootPointToDocument(e){const t=this._getRealSize(),i=this._getCalculatedSize(t),r=i.width/t.width,s=i.height/t.height;return{x:e.x/r+t.left,y:e.y/s+t.top}}addDisposer(e){return this._disposers.push(e),e}_updateComputedStyles(){const e=window.getComputedStyle(this.dom);let t="";Ze(e,(r,s)=>{Sl(r)&&r.match(/^font/)&&(t+=s)});const i=t!=this._fontHash;return i&&(this._fontHash=t),i}_checkComputedStyles(){this._updateComputedStyles()&&this._invalidateLabelBounds(this.container)}_invalidateLabelBounds(e){e instanceof Me?e.children.each(t=>{this._invalidateLabelBounds(t)}):e instanceof nf&&e.markDirtyBounds()}_hasLicense(){for(let e=0;e<Co.licenses.length;e++)if(Co.licenses[e].match(/^AM5C.{5,}/i))return!0;return!1}_licenseApplied(){this._logo&&this._logo.set("forceHidden",!0)}get debugGhostView(){return this._renderer.debugGhostView}set debugGhostView(e){this._renderer.debugGhostView=e}set tapToActivate(e){this._renderer.tapToActivate=e}get tapToActivate(){return this._renderer.tapToActivate}set tapToActivateTimeout(e){this._renderer.tapToActivateTimeout=e}get tapToActivateTimeout(){return this._renderer.tapToActivateTimeout}_makeHTMLElement(e){const t=this._htmlElementContainer,i=document.createElement("div");e.setPrivate("htmlElement",i);let r=!1,s;e._walkParents(a=>{if(a.get("verticalScrollbar"))return r=!0,s=a,!1});let o;return r&&(o=document.createElement("div"),e.setPrivate("htmlElementWrapper",o),e.setPrivate("wrapperContainer",s),o.style.position="absolute",o.style.overflow="hidden",o.style.boxSizing="border-box",o.style.top="0px",o.style.left="0px",o.style.width="100%",o.style.height="100%",s.events.on("boundschanged",()=>{this._positionHTMLElement(e)})),i.style.position="absolute",i.style.overflow="auto",i.style.boxSizing="border-box",eu(i,e.get("interactive",!1)),e.events.isEnabled("click")&&(eu(i,!0),this._disposers.push(St(i,"click",a=>{const l=this._renderer.getEvent(a);e.events.dispatch("click",{type:"click",originalEvent:l.event,point:l.point,simulated:!1,target:e})}))),this._positionHTMLElement(e),r?(o.append(i),t.append(o)):t.append(i),Zd(this._htmlEnabledContainers,e),i}_positionHTMLElements(){W(this._htmlEnabledContainers,e=>{this._positionHTMLElement(e)})}_positionHTMLElement(e){const t=e.getPrivate("htmlElementWrapper");if(t){const r=e.getPrivate("wrapperContainer");if(r){const s=r.globalBounds();t.style.clipPath="rect("+s.top+"px "+s.right+"px "+s.bottom+"px "+s.left+"px)"}}const i=e.getPrivate("htmlElement");if(i){W(["paddingTop","paddingRight","paddingBottom","paddingLeft","minWidth","minHeight","maxWidth","maxHeight"],x=>{const P=e.get(x);P?i.style[x]=P+"px":i.style[x]=""}),W(["fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration"],x=>{const P=e.get(x);P?x=="fontSize"&&!Sl(P)?i.style[x]=P+"px":i.style[x]=P+"":i.style[x]=""});const o=e.compositeScale()||1,a=e.compositeRotation()||0;i.style.transform="",i.style.transformOrigin="";const l=e.compositeOpacity();setTimeout(()=>{i.style.opacity=l+""},10);const u=e.isVisibleDeep();u&&(i.style.display="block");let c={x:e.x()+e.get("dx",0),y:e.y()+e.get("dy",0)};e.parent&&(c=e.parent.toGlobal(c)),i.style.top=c.y+"px",i.style.left=c.x+"px";const h=e.get("width"),d=e.get("height");let f=0,y=0;if(h&&(f=e.width()),d&&(y=e.height()),!h||!d){i.style.position="fixed",i.style.width="",i.style.height="";const x=i.getBoundingClientRect();i.style.position="absolute",h||(f=x.width),d||(y=x.height);let P=f/o,k=y/o,M=e.get("centerX",0),A=e.get("centerY",0),T=0,E=0,C=0,D=0;M instanceof Ye?(T=-M.value*P,E=(1-M.value)*P):(T=-M,E=P-M),A instanceof Ye?(C=-A.value*k,D=(1-A.value)*k):(C=-A,D=k-A),e._localBounds={left:T,right:E,top:C,bottom:D};let N=e._adjustedLocalBounds,R=e._display.getAdjustedBounds(e._localBounds);e._adjustedLocalBounds=R,(N.left!==R.left||N.right!==R.right||N.top!==R.top||N.bottom!==R.bottom)&&e.markDirtyBounds()}f>0&&(i.style.minWidth=f+"px"),y>0&&(i.style.minHeight=y+"px"),(!u||l==0)&&(i.style.display="none");const g=e.get("centerX",0),_=_D(g)?g.percent+"%":g+"px",v=e.get("centerY",0),b=_D(v)?v.percent+"%":v+"px";(g||v)&&(i.style.transform="translate(-"+_+", -"+b+")"+i.style.transform),o!=1&&(i.style.transform+="scale("+o+")"),a!=0&&(i.style.transform+=" rotate("+a+"deg)"),i.style.transform!=""&&(i.style.transformOrigin=_+" "+b)}}_setHTMLContent(e,t){let i=e.getPrivate("htmlElement");i||(i=this._makeHTMLElement(e)),i.innerHTML!=t&&(i.innerHTML=t)}_removeHTMLContent(e){const t=e.getPrivate("htmlElementWrapper"),i=e.getPrivate("htmlElement");t?(this._htmlElementContainer.removeChild(t),e.removePrivate("htmlElement"),e.removePrivate("htmlElementWrapper"),e.removePrivate("wrapperContainer")):i&&(this._htmlElementContainer.removeChild(i),e.removePrivate("htmlElement"),e.removePrivate("wrapperContainer")),Xi(this._htmlEnabledContainers,e)}}class sy extends cn{constructor(){super(...arguments),Object.defineProperty(this,"_index",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}_beforeChanged(){if(super._beforeChanged(),this.isDirty("sprite")){const e=this.get("sprite");e&&(e.setAll({position:"absolute",role:"figure"}),this._disposers.push(e))}(this.isDirty("locationX")||this.isDirty("locationY"))&&this.series&&this.series._positionBullet(this)}}Object.defineProperty(sy,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Bullet"});Object.defineProperty(sy,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:cn.classNames.concat([sy.className])});class vc extends ji{_beforeChanged(){super._beforeChanged(),(this.isDirty("cornerRadiusTL")||this.isDirty("cornerRadiusTR")||this.isDirty("cornerRadiusBR")||this.isDirty("cornerRadiusBL"))&&(this._clear=!0)}_draw(){let e=this.width(),t=this.height(),i=e/Math.abs(e),r=t/Math.abs(t),s=0,o=0;const a=this.get("strokeWidth",0);this.get("containStroke",!1)&&(e-=i*a,t-=r*a,s+=i*a/2,o+=r*a/2);let l=e,u=t;if(Y(l)&&Y(u)){let c=Math.min(l,u)/2,h=zn(this.get("cornerRadiusTL",8),c),d=zn(this.get("cornerRadiusTR",8),c),f=zn(this.get("cornerRadiusBR",8),c),y=zn(this.get("cornerRadiusBL",8),c),g=Math.min(Math.abs(l/2),Math.abs(u/2));h=zt(h,0,g),d=zt(d,0,g),f=zt(f,0,g),y=zt(y,0,g);const _=this._display;_.moveTo(s+h*i,o),_.lineTo(s+l-d*i,o),d>0&&_.arcTo(s+l,o,s+l,o+d*r,d),_.lineTo(s+l,o+u-f*r),f>0&&_.arcTo(s+l,o+u,s+l-f*i,o+u,f),_.lineTo(s+y*i,o+u),y>0&&_.arcTo(s,o+u,s,o+u-y*r,y),_.lineTo(s,o+h*r),h>0&&_.arcTo(s,o,s+h*i,o,h),_.closePath()}}}Object.defineProperty(vc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RoundedRectangle"});Object.defineProperty(vc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ji.classNames.concat([vc.className])});class rf extends Me{_afterNew(){this._settings.themeTags=Ct(this._settings.themeTags,["button"]),super._afterNew(),this._settings.background||this.set("background",vc.new(this._root,{themeTags:Ct(this._settings.themeTags,["background"])})),this.setPrivate("trustBounds",!0)}_prepareChildren(){if(super._prepareChildren(),this.isDirty("icon")){const e=this._prevSettings.icon,t=this.get("icon");t!==e&&(this._disposeProperty("icon"),e&&e.dispose(),t&&this.children.push(t),this._prevSettings.icon=t)}if(this.isDirty("label")){const e=this._prevSettings.label,t=this.get("label");t!==e&&(this._disposeProperty("label"),e&&e.dispose(),t&&this.children.push(t),this._prevSettings.label=t)}}}Object.defineProperty(rf,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Button"});Object.defineProperty(rf,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Me.classNames.concat([rf.className])});class oy extends ct{_afterNew(){super._afterNew(),this._display.isMeasured=!0,this.setPrivateRaw("trustBounds",!0)}_beforeChanged(){super._beforeChanged(),this.isDirty("radius")&&(this._clear=!0)}_changed(){super._changed(),this._clear&&this._display.drawCircle(0,0,Math.abs(this.get("radius",10)))}}Object.defineProperty(oy,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Circle"});Object.defineProperty(oy,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ct.classNames.concat([oy.className])});class Wce extends Hc{constructor(){super(...arguments),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}incrementRef(){}decrementRef(){}_onPush(e){this.processor&&this.processor.processRow(e),super._onPush(e)}_onInsertIndex(e,t){this.processor&&this.processor.processRow(t),super._onInsertIndex(e,t)}_onSetIndex(e,t,i){this.processor&&this.processor.processRow(i),super._onSetIndex(e,t,i)}}class kr extends OB{constructor(e,t,i){super(i),Object.defineProperty(this,"component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"open",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"close",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.dataContext=t,this.component=e,this._settings.visible=!0,this._checkDirty()}markDirty(){this.component.markDirtyValues(this)}_startAnimation(){this.component._root._addAnimation(this)}_animationTime(){return this.component._root.animationTime}_dispose(){this.component&&this.component.disposeDataItem(this),super._dispose()}show(e){this.setRaw("visible",!0),this.component&&this.component.showDataItem(this,e)}hide(e){this.setRaw("visible",!1),this.component&&this.component.hideDataItem(this,e)}isHidden(){return!this.get("visible")}}class Al extends Me{constructor(){super(...arguments),Object.defineProperty(this,"_data",{enumerable:!0,configurable:!0,writable:!0,value:new Wce}),Object.defineProperty(this,"_dataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mainDataItems",{enumerable:!0,configurable:!0,writable:!0,value:this._dataItems}),Object.defineProperty(this,"valueFields",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"fields",{enumerable:!0,configurable:!0,writable:!0,value:["id"]}),Object.defineProperty(this,"_valueFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueFieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataChanged",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inited",{enumerable:!0,configurable:!0,writable:!0,value:!1})}set data(e){e.incrementRef(),this._data.decrementRef(),this._data=e}get data(){return this._data}_dispose(){super._dispose(),this._data.decrementRef()}_onDataClear(){}_afterNew(){super._afterNew(),this._data.incrementRef(),this._updateFields(),this._disposers.push(this.data.events.onAll(e=>{const t=this._mainDataItems;if(this.markDirtyValues(),this._markDirtyGroup(),this._dataChanged=!0,e.type==="clear")W(t,i=>{i.dispose()}),t.length=0,this._onDataClear();else if(e.type==="push"){const i=new kr(this,e.newValue,this._makeDataItem(e.newValue));t.push(i),this.processDataItem(i)}else if(e.type==="setIndex"){const i=t[e.index],r=this._makeDataItem(e.newValue);i.bullets&&i.bullets.length==0&&(i.bullets=void 0),en(r).forEach(s=>{i.animate({key:s,to:r[s],duration:this.get("interpolationDuration",0),easing:this.get("interpolationEasing")})}),i.dataContext=e.newValue}else if(e.type==="insertIndex"){const i=new kr(this,e.newValue,this._makeDataItem(e.newValue));t.splice(e.index,0,i),this.processDataItem(i)}else if(e.type==="removeIndex")t[e.index].dispose(),t.splice(e.index,1);else if(e.type==="moveIndex"){const i=t[e.oldIndex];t.splice(e.oldIndex,1),t.splice(e.newIndex,0,i)}else throw new Error("Unknown IStreamEvent type");this._afterDataChange()}))}_updateFields(){this.valueFields&&(this._valueFields=[],this._valueFieldsF={},W(this.valueFields,e=>{this.get(e+"Field")&&(this._valueFields.push(e),this._valueFieldsF[e]={fieldKey:e+"Field",workingKey:e+"Working"})})),this.fields&&(this._fields=[],this._fieldsF={},W(this.fields,e=>{this.get(e+"Field")&&(this._fields.push(e),this._fieldsF[e]=e+"Field")}))}get dataItems(){return this._dataItems}processDataItem(e){}_makeDataItem(e){const t={};return this._valueFields&&W(this._valueFields,i=>{const r=this.get(this._valueFieldsF[i].fieldKey);t[i]=e[r],t[this._valueFieldsF[i].workingKey]=t[i]}),this._fields&&W(this._fields,i=>{const r=this.get(this._fieldsF[i]);t[i]=e[r]}),t}makeDataItem(e,t){let i=new kr(this,t,e);return this.processDataItem(i),i}pushDataItem(e,t){const i=this.makeDataItem(e,t);return this._mainDataItems.push(i),i}disposeDataItem(e){}showDataItem(e,t){return mi(this,void 0,void 0,function*(){e.set("visible",!0)})}hideDataItem(e,t){return mi(this,void 0,void 0,function*(){e.set("visible",!1)})}_clearDirty(){super._clearDirty(),this._valuesDirty=!1}_afterDataChange(){}_afterChanged(){if(super._afterChanged(),this._dataChanged){const e="datavalidated";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this}),this._dataChanged=!1}this.inited=!0}markDirtyValues(e){this.markDirty(),this._valuesDirty=!0}_markDirtyGroup(){this._dataGrouped=!1}markDirtySize(){this._sizeDirty=!0,this.markDirty()}}Object.defineProperty(Al,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Component"});Object.defineProperty(Al,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Me.classNames.concat([Al.className])});function Gce(n){return new Promise((e,t)=>{setTimeout(e,n)})}let GE={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:365.242/12*864e5,year:31536e6};function VB(n){switch(n){case"year":return;case"month":return"year";case"week":return"month";case"day":return"month";case"hour":return"day";case"minute":return"hour";case"second":return"minute";case"millisecond":return"second"}}function Cn(n,e){return e==null&&(e=1),GE[n]*e}function hr(n){return n?GE[n.timeUnit]*n.count:0}function Ob(n,e,t,i,r){const s=n.timeUnit,o=n.count;if(s=="hour"||s=="minute"||s=="second"||s=="millisecond")return GE[n.timeUnit]*n.count;{const a=cl(new Date(e.getTime()),s,o,t,i,void 0,r).getTime();let l=a+o*Cn(s)*1.05;return l=cl(new Date(l),s,1,t,i,void 0,r).getTime(),l-a}}function BB(n,e,t,i,r){if(e-n>Cn(t,1.2))return!0;let s=new Date(n),o=new Date(e);r&&(s=r.convertLocal(s),o=r.convertLocal(o));let a=0,l=0;!i&&t!="millisecond"&&(a=s.getTimezoneOffset(),s.setUTCMinutes(s.getUTCMinutes()-a),l=o.getTimezoneOffset(),o.setUTCMinutes(o.getUTCMinutes()-l));let u=!1;switch(t){case"year":s.getUTCFullYear()!=o.getUTCFullYear()&&(u=!0);break;case"month":(s.getUTCFullYear()!=o.getUTCFullYear()||s.getUTCMonth()!=o.getUTCMonth())&&(u=!0);break;case"day":(s.getUTCMonth()!=o.getUTCMonth()||s.getUTCDate()!=o.getUTCDate())&&(u=!0);break;case"hour":s.getUTCHours()!=o.getUTCHours()&&(u=!0);break;case"minute":s.getUTCMinutes()!=o.getUTCMinutes()&&(u=!0);break;case"second":s.getUTCSeconds()!=o.getUTCSeconds()&&(u=!0);break;case"millisecond":s.getTime()!=o.getTime()&&(u=!0);break}if(u)return u;let c=VB(t);return c?BB(n,e,c,i,r):!1}function Vt(n,e,t,i,r){let s;return r!=null&&(s=new Date(r)),cl(new Date(n),e,t,i.locale.firstDayOfWeek,i.utc,s,i.timezone).getTime()}function cl(n,e,t,i,r,s,o){if(!o||r){let a=0;switch(!r&&e!="millisecond"&&(a=n.getTimezoneOffset(),n.setUTCMinutes(n.getUTCMinutes()-a)),e){case"day":let l=n.getUTCDate();if(t>1){if(s){s=cl(s,"day",1);let v=n.getTime()-s.getTime(),b=Math.floor(v/Cn("day")/t),x=Cn("day",b*t);n.setTime(s.getTime()+x-a*Cn("minute"))}}else n.setUTCDate(l);n.setUTCHours(0,0,0,0);break;case"second":let u=n.getUTCSeconds();t>1&&(u=Math.floor(u/t)*t),n.setUTCSeconds(u,0);break;case"millisecond":if(t==1)return n;let c=n.getUTCMilliseconds();c=Math.floor(c/t)*t,n.setUTCMilliseconds(c);break;case"hour":let h=n.getUTCHours();t>1&&(h=Math.floor(h/t)*t),n.setUTCHours(h,0,0,0);break;case"minute":let d=n.getUTCMinutes();t>1&&(d=Math.floor(d/t)*t),n.setUTCMinutes(d,0,0);break;case"month":let f=n.getUTCMonth();t>1&&(f=Math.floor(f/t)*t),n.setUTCMonth(f,1),n.setUTCHours(0,0,0,0);break;case"year":let y=n.getUTCFullYear();t>1&&(y=Math.floor(y/t)*t),n.setUTCFullYear(y,0,1),n.setUTCHours(0,0,0,0);break;case"week":if(t>1&&s){s=cl(s,"week",1);let v=n.getTime()-s.getTime(),b=Math.floor(v/Cn("week")/t),x=Cn("week",b*t);n.setTime(s.getTime()+x-a*Cn("minute"))}let g=n.getUTCDate(),_=n.getUTCDay();Y(i)||(i=1),_>=i?g=g-_+i:g=g-(7+_)+i,n.setUTCDate(g),n.setUTCHours(0,0,0,0);break}if(!r&&e!="millisecond"&&(n.setUTCMinutes(n.getUTCMinutes()+a),e=="day"||e=="week"||e=="month"||e=="year")){let l=n.getTimezoneOffset();if(l!=a){let u=l-a;n.setUTCMinutes(n.getUTCMinutes()+u)}}return n}else{if(isNaN(n.getTime()))return n;let a=n.getTime(),l=o.offsetUTC(n),u=n.getTimezoneOffset(),c=o.parseDate(n),h=c.year,d=c.month,f=c.day,y=c.hour,g=c.minute,_=c.second,v=c.millisecond,b=c.weekday,x=l-u;switch(e){case"day":if(t>1&&s){s=cl(s,"day",1,i,r,void 0,o);let E=n.getTime()-s.getTime(),C=Math.floor(E/Cn("day")/t),D=Cn("day",C*t);n.setTime(s.getTime()+D),c=o.parseDate(n),h=c.year,d=c.month,f=c.day}y=0,g=x,_=0,v=0;break;case"second":g+=x,t>1&&(_=Math.floor(_/t)*t),v=0;break;case"millisecond":g+=x,t>1&&(v=Math.floor(v/t)*t);break;case"hour":t>1&&(y=Math.floor(y/t)*t),g=x,_=0,v=0;break;case"minute":t>1&&(g=Math.floor(g/t)*t),g+=x,_=0,v=0;break;case"month":t>1&&(d=Math.floor(d/t)*t),f=1,y=0,g=x,_=0,v=0;break;case"year":t>1&&(h=Math.floor(h/t)*t),d=0,f=1,y=0,g=x,_=0,v=0;break;case"week":Y(i)||(i=1),b>=i?f=f-b+i:f=f-(7+b)+i,y=0,g=x,_=0,v=0;break}n=new Date(h,d,f,y,g,_,v);const P=n.getTime();let k=36e5;e=="hour"&&(k=36e5*t),P+k<=a&&(e=="hour"||e=="minute"||e=="second"||e=="millisecond")&&(n=new Date(P+k));let M=n.getTimezoneOffset(),T=o.offsetUTC(n)-M;return T!=x&&n.setTime(n.getTime()+(T-x)*6e4),n}}function mx(n,e,t,i){let r=i[n],s=hr(r),o=i.length-1;if(n>=o)return Object.assign({},i[o]);let a=Math.ceil(e/s);return e<s&&n>0?Object.assign({},i[n-1]):a<=t?Object.assign({},i[n]):n+1<i.length?mx(n+1,e,t,i):Object.assign({},i[n])}class sf extends Al{constructor(){super(...arguments),Object.defineProperty(this,"_aggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionAggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_psi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pei",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_baseSeriesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:new Hc}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:Me.new(this._root,{width:de,height:de,position:"absolute"})})}_afterNew(){this.valueFields.push("value","customValue"),super._afterNew(),this.setPrivate("customData",{}),this._disposers.push(this.bullets.events.onAll(e=>{if(e.type==="clear")this._handleBullets(this.dataItems);else if(e.type==="push")this._handleBullets(this.dataItems);else if(e.type==="setIndex")this._handleBullets(this.dataItems);else if(e.type==="insertIndex")this._handleBullets(this.dataItems);else if(e.type==="removeIndex")this._handleBullets(this.dataItems);else if(e.type==="moveIndex")this._handleBullets(this.dataItems);else throw new Error("Unknown IListEvent type")}))}_dispose(){this.bulletsContainer.dispose(),super._dispose()}startIndex(){let e=this.dataItems.length;return Math.min(this.getPrivate("startIndex",0),e)}endIndex(){let e=this.dataItems.length;return Math.min(this.getPrivate("endIndex",e),e)}_handleBullets(e){W(e,t=>{const i=t.bullets;i&&(W(i,r=>{r.dispose()}),t.bullets=void 0)}),this.markDirtyValues()}getDataItemById(e){return wB(this.dataItems,t=>t.get("id")==e)}_makeBullets(e){this._shouldMakeBullet(e)&&(e.bullets=[],this.bullets.each(t=>{this._makeBullet(e,t)}))}_shouldMakeBullet(e){return!0}_makeBullet(e,t,i){const r=t(this._root,this,e);return r&&(r._index=i,this._makeBulletReal(e,r)),r}_makeBulletReal(e,t){let i=t.get("sprite");i&&(i._setDataItem(e),i.setRaw("position","absolute"),this.bulletsContainer.children.push(i)),t.series=this,e.bullets.push(t)}addBullet(e,t){e.bullets||(e.bullets=[]),t&&this._makeBulletReal(e,t)}_clearDirty(){super._clearDirty(),this._aggregatesCalculated=!1,this._baseSeriesDirty=!1,this._selectionAggregatesCalculated=!1}_prepareChildren(){super._prepareChildren();let e=this.startIndex(),t=this.endIndex();if(this.isDirty("name")&&this.updateLegendValue(),this.isDirty("heatRules")&&(this._valuesDirty=!0),this.isPrivateDirty("baseValueSeries")){const r=this.getPrivate("baseValueSeries");r&&this._disposers.push(r.onPrivate("startIndex",()=>{this._baseSeriesDirty=!0,this.markDirtyValues()}))}if(this.get("calculateAggregates")&&(this._valuesDirty&&!this._dataProcessed&&(this._aggregatesCalculated||(this._calculateAggregates(0,this.dataItems.length),this._aggregatesCalculated=!0,e!=0&&(this._psi=void 0))),(this._psi!=e||this._pei!=t||this.isPrivateDirty("adjustedStartIndex"))&&!this._selectionAggregatesCalculated&&(e===0&&t===this.dataItems.length&&this._aggregatesCalculated||this._calculateAggregates(e,t),this._selectionAggregatesCalculated=!0)),this.isDirty("tooltip")){let r=this.get("tooltip");r&&(r.hide(0),r.set("tooltipTarget",this))}if(this.isDirty("fill")||this.isDirty("stroke")){let r;const s=this.get("legendDataItem");if(s&&(r=s.get("markerRectangle"),r&&this.isVisible())){if(this.isDirty("stroke")){let o=this.get("stroke");r.set("stroke",o)}if(this.isDirty("fill")){let o=this.get("fill");r.set("fill",o)}}this.updateLegendMarker(void 0)}if(this.bullets.length>0){let r=this.startIndex(),s=this.endIndex();s<this.dataItems.length&&s++;for(let o=r;o<s;o++){let a=this.dataItems[o];a.bullets||this._makeBullets(a)}}}_handleRemoved(){}_adjustStartIndex(e){return e}_calculateAggregates(e,t){let i=this._valueFields;if(!i)throw new Error("No value fields are set for the series.");const r={},s={},o={},a={},l={},u={},c={},h={},d={};W(i,f=>{r[f]=0,s[f]=0,o[f]=0}),W(i,f=>{let y=f+"Change",g=f+"ChangePercent",_=f+"ChangePrevious",v=f+"ChangePreviousPercent",b=f+"ChangeSelection",x=f+"ChangeSelectionPercent",P="valueY";(f=="valueX"||f=="openValueX"||f=="lowValueX"||f=="highValueX")&&(P="valueX");const k=this.getPrivate("baseValueSeries"),M=this.getPrivate("adjustedStartIndex",e);for(let A=M;A<t;A++){const T=this.dataItems[A];if(T){let E=T.get(f);E!=null&&(o[f]++,r[f]+=E,s[f]+=Math.abs(E),h[f]=r[f]/o[f],(a[f]>E||a[f]==null)&&(a[f]=E),(l[f]<E||l[f]==null)&&(l[f]=E),c[f]=E,u[f]==null&&(u[f]=E,d[f]=E,k&&(u[P]=k._getBase(P))),e===0&&(T.setRaw(y,E-u[P]),T.setRaw(g,(E-u[P])/u[P]*100)),T.setRaw(_,E-d[P]),T.setRaw(v,(E-d[P])/d[P]*100),T.setRaw(b,E-u[P]),T.setRaw(x,(E-u[P])/u[P]*100),d[f]=E)}}if(t<this.dataItems.length-1){const A=this.dataItems[t];if(A){let T=A.get(f);A.setRaw(_,T-d[P]),A.setRaw(v,(T-d[P])/d[P]*100),A.setRaw(b,T-u[P]),A.setRaw(x,(T-u[P])/u[P]*100)}}e>0&&e--,delete d[f];for(let A=e;A<M;A++){const T=this.dataItems[A];if(T){let E=T.get(f);d[f]==null&&(d[f]=E),E!=null&&(T.setRaw(_,E-d[P]),T.setRaw(v,(E-d[P])/d[P]*100),T.setRaw(b,E-u[P]),T.setRaw(x,(E-u[P])/u[P]*100),d[f]=E)}}}),W(i,f=>{this.setPrivate(f+"AverageSelection",h[f]),this.setPrivate(f+"CountSelection",o[f]),this.setPrivate(f+"SumSelection",r[f]),this.setPrivate(f+"AbsoluteSumSelection",s[f]),this.setPrivate(f+"LowSelection",a[f]),this.setPrivate(f+"HighSelection",l[f]),this.setPrivate(f+"OpenSelection",u[f]),this.setPrivate(f+"CloseSelection",c[f])}),e===0&&t===this.dataItems.length&&W(i,f=>{this.setPrivate(f+"Average",h[f]),this.setPrivate(f+"Count",o[f]),this.setPrivate(f+"Sum",r[f]),this.setPrivate(f+"AbsoluteSum",s[f]),this.setPrivate(f+"Low",a[f]),this.setPrivate(f+"High",l[f]),this.setPrivate(f+"Open",u[f]),this.setPrivate(f+"Close",c[f])})}_updateChildren(){super._updateChildren(),this._psi=this.startIndex(),this._pei=this.endIndex(),this.isDirty("visible")&&this.bulletsContainer.set("visible",this.get("visible"));const e=this.get("heatRules");if(this._valuesDirty&&e&&e.length>0&&W(e,t=>{const i=t.minValue||this.getPrivate(t.dataField+"Low")||0,r=t.maxValue||this.getPrivate(t.dataField+"High")||0;W(t.target._entities,s=>{const o=s.dataItem.get(t.dataField);if(!Y(o)){t.neutral&&s.set(t.key,t.neutral);const a=s.states;if(a){const l=a.lookup("default");l&&t.neutral&&l.set(t.key,t.neutral)}if(!t.customFunction)return}if(t.customFunction)t.customFunction.call(this,s,i,r,o);else{let a;t.logarithmic?a=(Math.log(o)*Math.LOG10E-Math.log(i)*Math.LOG10E)/(Math.log(r)*Math.LOG10E-Math.log(i)*Math.LOG10E):a=(o-i)/(r-i),Y(o)&&(!Y(a)||Math.abs(a)==1/0)&&(a=.5);let l;Y(t.min)?l=t.min+(t.max-t.min)*a:t.min instanceof _e?l=_e.interpolate(a,t.min,t.max):t.min instanceof Ye&&(l=DB(a,t.min,t.max)),s.set(t.key,l);const u=s.states;if(u){const c=u.lookup("default");c&&c.set(t.key,l)}}})}),this.get("visible")){let t=this.dataItems.length,i=this.startIndex(),r=this.endIndex();r<t&&r++,i>0&&i--;for(let s=0;s<i;s++)this._hideBullets(this.dataItems[s]);for(let s=i;s<r;s++)this._positionBullets(this.dataItems[s]);for(let s=r;s<t;s++)this._hideBullets(this.dataItems[s])}}_positionBullets(e){e.bullets&&W(e.bullets,t=>{this._positionBullet(t);const i=t.get("sprite");t.get("dynamic")&&(i&&(i._markDirtyKey("fill"),i.markDirtySize()),i instanceof Me&&i.walkChildren(r=>{r._markDirtyKey("fill"),r.markDirtySize(),r instanceof va&&r.text.markDirtyText()})),i instanceof va&&i.get("populateText")&&i.text.markDirtyText()})}_hideBullets(e){e.bullets&&W(e.bullets,t=>{let i=t.get("sprite");i&&i.setPrivate("visible",!1)})}_positionBullet(e){}_placeBulletsContainer(e){e.bulletsContainer.children.moveValue(this.bulletsContainer)}_removeBulletsContainer(){const e=this.bulletsContainer;e.parent&&e.parent.children.removeValue(e)}disposeDataItem(e){const t=e.bullets;t&&(W(t,i=>{i.dispose()}),e.bullets=void 0)}_getItemReaderLabel(){return""}showDataItem(e,t){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return mi(this,void 0,void 0,function*(){const r=[i.showDataItem.call(this,e,t)],s=e.bullets;s&&W(s,o=>{const a=o.get("sprite");a&&r.push(a.show(t))}),yield Promise.all(r)})}hideDataItem(e,t){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return mi(this,void 0,void 0,function*(){const r=[i.hideDataItem.call(this,e,t)],s=e.bullets;s&&W(s,o=>{const a=o.get("sprite");a&&r.push(a.hide(t))}),yield Promise.all(r)})}_sequencedShowHide(e,t){return mi(this,void 0,void 0,function*(){if(this.get("sequencedInterpolation"))if(Y(t)||(t=this.get("interpolationDuration",0)),t>0){const i=this.startIndex(),r=this.endIndex();yield Promise.all(rx(this.dataItems,(s,o)=>mi(this,void 0,void 0,function*(){let a=t||0;(o<i-10||o>r+10)&&(a=0);let l=this.get("sequencedDelay",0)+a/(r-i);yield Gce(l*(o-i)),e?yield this.showDataItem(s,a):yield this.hideDataItem(s,a)})))}else yield Promise.all(rx(this.dataItems,i=>e?this.showDataItem(i,0):this.hideDataItem(i,0)))})}updateLegendValue(e){if(e){const t=e.get("legendDataItem");if(t){const i=t.get("valueLabel");if(i){const s=i.text;let o="";i._setDataItem(e),o=this.get("legendValueText",s.get("text","")),i.set("text",o),s.markDirtyText()}const r=t.get("label");if(r){const s=r.text;let o="";r._setDataItem(e),o=this.get("legendLabelText",s.get("text","")),r.set("text",o),s.markDirtyText()}}}}updateLegendMarker(e){}_onHide(){super._onHide();const e=this.getTooltip();e&&e.hide()}hoverDataItem(e){}unhoverDataItem(e){}_getBase(e){const t=this.dataItems[this.startIndex()];return t?t.get(e):0}}Object.defineProperty(sf,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Series"});Object.defineProperty(sf,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Al.classNames.concat([sf.className])});function jD(n,e){for(let t=0,i=e.length;t<i;t++){const r=e[t];if(r.length>0){let s=r[0];if(s.length>0){let o=s[0];n.moveTo(o.x,o.y);for(let a=0,l=r.length;a<l;a++)Yce(n,r[a])}}}}function Yce(n,e){for(let t=0,i=e.length;t<i;t++){const r=e[t];n.lineTo(r.x,r.y)}}class of extends ct{_beforeChanged(){super._beforeChanged(),(this.isDirty("points")||this.isDirty("segments")||this._sizeDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const e=this.get("points"),t=this.get("segments");if(e&&e.length>0){let i=e[0];this._display.moveTo(i.x,i.y),jD(this._display,[[e]])}else if(t)jD(this._display,t);else if(!this.get("draw")){let i=this.width(),r=this.height();this._display.moveTo(0,0),this._display.lineTo(i,r)}}}}Object.defineProperty(of,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Line"});Object.defineProperty(of,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ct.classNames.concat([of.className])});class ay extends Me{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:this._makeThumb()}),Object.defineProperty(this,"startGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"endGrip",{enumerable:!0,configurable:!0,writable:!0,value:this._makeButton()}),Object.defineProperty(this,"_thumbBusy",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_startDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_endDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_thumbDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_gripDown",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_addOrientationClass(){this._settings.themeTags=Ct(this._settings.themeTags,["scrollbar",this._settings.orientation]),this._settings.background||(this._settings.background=vc.new(this._root,{themeTags:Ct(this._settings.themeTags,["main","background"])}))}_makeButton(){return this.children.push(rf.new(this._root,{themeTags:["resize","button",this.get("orientation")],icon:ct.new(this._root,{themeTags:["icon"]})}))}_makeThumb(){return this.children.push(vc.new(this._root,{themeTags:["thumb",this.get("orientation")]}))}_handleAnimation(e){e&&this._disposers.push(e.events.on("stopped",()=>{this.setPrivateRaw("isBusy",!1),this._thumbBusy=!1}))}_afterNew(){this._addOrientationClass(),super._afterNew();const e=this.startGrip,t=this.endGrip,i=this.thumb,r=this.get("background");r&&this._disposers.push(r.events.on("click",s=>{this.setPrivateRaw("isBusy",!0);const o=this._display.toLocal(s.point),a=this.width(),l=this.height(),u=this.get("orientation");let c;u=="vertical"?c=(o.y-i.height()/2)/l:c=(o.x-i.width()/2)/a;let h,d;u=="vertical"?(h=c*l,d="y"):(h=c*a,d="x");const f=this.get("animationDuration",0);f>0?(this._thumbBusy=!0,this._handleAnimation(this.thumb.animate({key:d,to:h,duration:f,easing:this.get("animationEasing")}))):(this.thumb.set(d,h),this._root.events.once("frameended",()=>{this.setPrivateRaw("isBusy",!1)}))})),this._disposers.push(i.events.on("dblclick",s=>{if(!$E(s.originalEvent,this))return;const o=this.get("animationDuration",0),a=this.get("animationEasing");this.animate({key:"start",to:0,duration:o,easing:a}),this.animate({key:"end",to:1,duration:o,easing:a})})),this._disposers.push(e.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._startDown=!0,this._gripDown="start"})),this._disposers.push(t.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._endDown=!0,this._gripDown="end"})),this._disposers.push(i.events.on("pointerdown",()=>{this.setPrivateRaw("isBusy",!0),this._thumbDown=!0,this._gripDown=void 0})),this._disposers.push(e.events.on("globalpointerup",()=>{this._startDown&&(this.setPrivateRaw("isBusy",!1),this._released()),this._startDown=!1})),this._disposers.push(t.events.on("globalpointerup",()=>{this._endDown&&(this.setPrivateRaw("isBusy",!1),this._released()),this._endDown=!1})),this._disposers.push(i.events.on("globalpointerup",()=>{this._thumbDown&&(this.setPrivateRaw("isBusy",!1),this._released()),this._thumbDown=!1})),this._disposers.push(e.on("x",()=>{this._updateThumb()})),this._disposers.push(t.on("x",()=>{this._updateThumb()})),this._disposers.push(e.on("y",()=>{this._updateThumb()})),this._disposers.push(t.on("y",()=>{this._updateThumb()})),this._disposers.push(i.events.on("positionchanged",()=>{this._updateGripsByThumb()})),this.get("orientation")=="vertical"?(e.set("x",0),t.set("x",0),this._disposers.push(i.adapters.add("y",s=>Math.max(Math.min(Number(s),this.height()-i.height()),0))),this._disposers.push(i.adapters.add("x",s=>this.width()/2)),this._disposers.push(e.adapters.add("x",s=>this.width()/2)),this._disposers.push(t.adapters.add("x",s=>this.width()/2)),this._disposers.push(e.adapters.add("y",s=>Math.max(Math.min(Number(s),this.height()),0))),this._disposers.push(t.adapters.add("y",s=>Math.max(Math.min(Number(s),this.height()),0)))):(e.set("y",0),t.set("y",0),this._disposers.push(i.adapters.add("x",s=>Math.max(Math.min(Number(s),this.width()-i.width()),0))),this._disposers.push(i.adapters.add("y",s=>this.height()/2)),this._disposers.push(e.adapters.add("y",s=>this.height()/2)),this._disposers.push(t.adapters.add("y",s=>this.height()/2)),this._disposers.push(e.adapters.add("x",s=>Math.max(Math.min(Number(s),this.width()),0))),this._disposers.push(t.adapters.add("x",s=>Math.max(Math.min(Number(s),this.width()),0))))}_updateChildren(){super._updateChildren(),(this.isDirty("end")||this.isDirty("start")||this._sizeDirty)&&this.updateGrips()}_changed(){if(super._changed(),this.isDirty("start")||this.isDirty("end")){const e="rangechanged";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this,start:this.get("start",0),end:this.get("end",1),grip:this._gripDown})}}_released(){const e="released";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this})}updateGrips(){const e=this.startGrip,t=this.endGrip,i=this.get("orientation"),r=this.height(),s=this.width();i=="vertical"?(e.set("y",r*this.get("start",0)),t.set("y",r*this.get("end",1))):(e.set("x",s*this.get("start",0)),t.set("x",s*this.get("end",1)));const o=this.getPrivate("positionTextFunction"),a=Math.round(this.get("start",0)*100),l=Math.round(this.get("end",0)*100);let u,c;o?(u=o.call(this,this.get("start",0)),c=o.call(this,this.get("end",0))):(u=a+"%",c=l+"%"),e.set("ariaLabel",this._t("From %1",void 0,u)),e.set("ariaValueNow",""+a),e.set("ariaValueText",a+"%"),e.set("ariaValueMin","0"),e.set("ariaValueMax","100"),t.set("ariaLabel",this._t("To %1",void 0,c)),t.set("ariaValueNow",""+l),t.set("ariaValueText",l+"%"),t.set("ariaValueMin","0"),t.set("ariaValueMax","100")}_updateThumb(){const e=this.thumb,t=this.startGrip,i=this.endGrip,r=this.height(),s=this.width();let o=t.x(),a=i.x(),l=t.y(),u=i.y(),c=0,h=1;this.get("orientation")=="vertical"?Y(l)&&Y(u)&&(!this._thumbBusy&&!e.isDragging()&&(e.set("height",u-l),e.set("y",l)),c=l/r,h=u/r):Y(o)&&Y(a)&&(!this._thumbBusy&&!e.isDragging()&&(e.set("width",a-o),e.set("x",o)),c=o/s,h=a/s),this.getPrivate("isBusy")&&(this.get("start")!=c||this.get("end")!=h)&&(this.set("start",c),this.set("end",h));const d=this.getPrivate("positionTextFunction"),f=Math.round(this.get("start",0)*100),y=Math.round(this.get("end",0)*100);let g,_;d?(g=d.call(this,this.get("start",0)),_=d.call(this,this.get("end",0))):(g=f+"%",_=y+"%"),e.set("ariaLabel",this._t("From %1 to %2",void 0,g,_)),e.set("ariaValueNow",""+f),e.set("ariaValueText",f+"%")}_updateGripsByThumb(){const e=this.thumb,t=this.startGrip,i=this.endGrip;if(this.get("orientation")=="vertical"){const r=e.height();t.set("y",e.y()),i.set("y",e.y()+r)}else{const r=e.width();t.set("x",e.x()),i.set("x",e.x()+r)}}}Object.defineProperty(ay,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Scrollbar"});Object.defineProperty(ay,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Me.classNames.concat([ay.className])});function fn(n){return function(){return n}}const gx=Math.PI,yx=2*gx,Ba=1e-6,Xce=yx-Ba;function UB(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function Kce(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return UB;const t=10**e;return function(i){this._+=i[0];for(let r=1,s=i.length;r<s;++r)this._+=Math.round(arguments[r]*t)/t+i[r]}}class qce{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?UB:Kce(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,i,r){this._append`Q${+e},${+t},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,t,i,r,s,o){this._append`C${+e},${+t},${+i},${+r},${this._x1=+s},${this._y1=+o}`}arcTo(e,t,i,r,s){if(e=+e,t=+t,i=+i,r=+r,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=i-e,u=r-t,c=o-e,h=a-t,d=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(d>Ba)if(!(Math.abs(h*l-u*c)>Ba)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let f=i-o,y=r-a,g=l*l+u*u,_=f*f+y*y,v=Math.sqrt(g),b=Math.sqrt(d),x=s*Math.tan((gx-Math.acos((g+d-_)/(2*v*b)))/2),P=x/b,k=x/v;Math.abs(P-1)>Ba&&this._append`L${e+P*c},${t+P*h}`,this._append`A${s},${s},0,0,${+(h*f>c*y)},${this._x1=e+k*l},${this._y1=t+k*u}`}}arc(e,t,i,r,s,o){if(e=+e,t=+t,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let a=i*Math.cos(r),l=i*Math.sin(r),u=e+a,c=t+l,h=1^o,d=o?r-s:s-r;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ba||Math.abs(this._y1-c)>Ba)&&this._append`L${u},${c}`,i&&(d<0&&(d=d%yx+yx),d>Xce?this._append`A${i},${i},0,1,${h},${e-a},${t-l}A${i},${i},0,1,${h},${this._x1=u},${this._y1=c}`:d>Ba&&this._append`A${i},${i},0,${+(d>=gx)},${h},${this._x1=e+i*Math.cos(s)},${this._y1=t+i*Math.sin(s)}`)}rect(e,t,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function $B(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const i=Math.floor(t);if(!(i>=0))throw new RangeError(`invalid digits: ${t}`);e=i}return n},()=>new qce(e)}function zB(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function HB(n){this._context=n}HB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function WB(n){return new HB(n)}function GB(n){return n[0]}function YB(n){return n[1]}function XB(n,e){var t=fn(!0),i=null,r=WB,s=null,o=$B(a);n=typeof n=="function"?n:n===void 0?GB:fn(n),e=typeof e=="function"?e:e===void 0?YB:fn(e);function a(l){var u,c=(l=zB(l)).length,h,d=!1,f;for(i==null&&(s=r(f=o())),u=0;u<=c;++u)!(u<c&&t(h=l[u],u,l))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+n(h,u,l),+e(h,u,l));if(f)return s=null,f+""||null}return a.x=function(l){return arguments.length?(n=typeof l=="function"?l:fn(+l),a):n},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:fn(+l),a):e},a.defined=function(l){return arguments.length?(t=typeof l=="function"?l:fn(!!l),a):t},a.curve=function(l){return arguments.length?(r=l,i!=null&&(s=r(i)),a):r},a.context=function(l){return arguments.length?(l==null?i=s=null:s=r(i=l),a):i},a}function Qce(n,e,t){var i=null,r=fn(!0),s=null,o=WB,a=null,l=$B(u);n=typeof n=="function"?n:n===void 0?GB:fn(+n),e=typeof e=="function"?e:fn(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?YB:fn(+t);function u(h){var d,f,y,g=(h=zB(h)).length,_,v=!1,b,x=new Array(g),P=new Array(g);for(s==null&&(a=o(b=l())),d=0;d<=g;++d){if(!(d<g&&r(_=h[d],d,h))===v)if(v=!v)f=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),y=d-1;y>=f;--y)a.point(x[y],P[y]);a.lineEnd(),a.areaEnd()}v&&(x[d]=+n(_,d,h),P[d]=+e(_,d,h),a.point(i?+i(_,d,h):x[d],t?+t(_,d,h):P[d]))}if(b)return a=null,b+""||null}function c(){return XB().defined(r).curve(o).context(s)}return u.x=function(h){return arguments.length?(n=typeof h=="function"?h:fn(+h),i=null,u):n},u.x0=function(h){return arguments.length?(n=typeof h=="function"?h:fn(+h),u):n},u.x1=function(h){return arguments.length?(i=h==null?null:typeof h=="function"?h:fn(+h),u):i},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:fn(+h),t=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:fn(+h),u):e},u.y1=function(h){return arguments.length?(t=h==null?null:typeof h=="function"?h:fn(+h),u):t},u.lineX0=u.lineY0=function(){return c().x(n).y(e)},u.lineY1=function(){return c().x(n).y(t)},u.lineX1=function(){return c().x(i).y(e)},u.defined=function(h){return arguments.length?(r=typeof h=="function"?h:fn(!!h),u):r},u.curve=function(h){return arguments.length?(o=h,s!=null&&(a=o(s)),u):o},u.context=function(h){return arguments.length?(h==null?s=a=null:a=o(s=h),u):s},u}class af extends Me{constructor(){super(...arguments),Object.defineProperty(this,"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Me.new(this._root,{width:de,height:de,interactiveChildren:!1}))}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:Me.new(this._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:de,height:de})})}}Object.defineProperty(af,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"});Object.defineProperty(af,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Me.classNames.concat([af.className])});class lf extends af{constructor(){super(...arguments),Object.defineProperty(this,"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:Me.new(this._root,{width:de,height:de,isMeasured:!1})}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:new ny})}_afterNew(){super._afterNew(),this._disposers.push(this.series);const e=this.seriesContainer.children;this._disposers.push(this.series.events.onAll(t=>{if(t.type==="clear"){W(t.oldValues,s=>{this._removeSeries(s)});const i=this.get("colors");i&&i.reset();const r=this.get("patterns");r&&r.reset()}else if(t.type==="push")e.moveValue(t.newValue),this._processSeries(t.newValue);else if(t.type==="setIndex")e.setIndex(t.index,t.newValue),this._processSeries(t.newValue);else if(t.type==="insertIndex")e.insertIndex(t.index,t.newValue),this._processSeries(t.newValue);else if(t.type==="removeIndex")this._removeSeries(t.oldValue);else if(t.type==="moveIndex")e.moveValue(t.value,t.newIndex),this._processSeries(t.value);else if(t.type==="swap"){const i=t.a,r=t.b,s=this.series.indexOf(i),o=this.series.indexOf(r);e.moveValue(i,o),e.moveValue(r,s),this.series.each(a=>{this._processSeries(a),a.markDirtyValues()})}else throw new Error("Unknown IListEvent type")}))}_processSeries(e){e.chart=this,e._placeBulletsContainer(this)}_removeSeries(e){e._handleRemoved(),e.isDisposed()||(this.seriesContainer.children.removeValue(e),e._removeBulletsContainer())}}Object.defineProperty(lf,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"});Object.defineProperty(lf,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:af.classNames.concat([lf.className])});class uf extends of{}Object.defineProperty(uf,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tick"});Object.defineProperty(uf,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:of.classNames.concat([uf.className])});class cf extends cn{_afterNew(){super._afterNewApplyThemes(),this._dirty.colors=!1}_beforeChanged(){this.isDirty("colors")&&this.reset()}generateColors(){this.setPrivate("currentPass",this.getPrivate("currentPass",0)+1);const e=this.getPrivate("currentPass"),t=this.get("colors",[this.get("baseColor",_e.fromHex(16711680))]);this.getPrivate("numColors")||this.setPrivate("numColors",t.length);const i=this.getPrivate("numColors"),r=0,s=this.get("passOptions"),o=this.get("reuse");for(let a=r;a<i;a++)if(o)t.push(t[a]);else{const l=t[a].toHSL();let u=l.h+(s.hue||0)*e;for(;u>1;)u-=1;let c=l.s+(s.saturation||0)*e;c>1&&(c=1),c<0&&(c=0);let h=l.l+(s.lightness||0)*e;for(;h>1;)h-=1;t.push(_e.fromHSL(u,c,h))}}getIndex(e){const t=this.get("colors",[]),i=this.get("saturation");return e>=t.length?(this.generateColors(),this.getIndex(e)):i!=null?_e.saturate(t[e],i):t[e]}next(){let e=this.getPrivate("currentStep",this.get("startIndex",0));return this.setPrivate("currentStep",e+this.get("step",1)),this.getIndex(e)}reset(){this.setPrivate("currentStep",this.get("startIndex",0)),this.setPrivate("currentPass",0)}}Object.defineProperty(cf,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColorSet"});Object.defineProperty(cf,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:cn.classNames.concat([cf.className])});class Zce extends cn{constructor(){super(...arguments),Object.defineProperty(this,"_checkDates",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkNumbers",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkColors",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkEmpty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkDeep",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){super._afterNew(),this._checkFeatures(),this.on("dateFields",()=>this._checkFeatures()),this.on("dateFormat",()=>this._checkFeatures()),this.on("numericFields",()=>this._checkFeatures()),this.on("colorFields",()=>this._checkFeatures()),this.on("emptyAs",()=>this._checkFeatures())}_checkFeatures(){(this.isDirty("dateFields")||this.isDirty("dateFormat"))&&(this._checkDates=this.get("dateFields")&&this.get("dateFields").length>0),this.isDirty("numericFields")&&(this._checkNumbers=this.get("numericFields")&&this.get("numericFields").length>0),this.isDirty("colorFields")&&(this._checkColors=this.get("colorFields")&&this.get("colorFields").length>0),this.isDirty("emptyAs")&&(this._checkEmpty=this.get("emptyAs")!=null),this._checkDeepFeatures()}_checkDeepFeatures(){const e=[];W(["dateFields","numericFields","colorFields"],t=>{W(this.get(t,[]),i=>{const r=i.split(".");for(r.pop();r.length>0;)e.push(r.join(".")),r.pop()})}),this._checkDeep=e.length>0,this.setPrivate("deepFields",e)}processMany(e){cue(e)&&(this._checkDates||this._checkNumbers||this._checkColors||this._checkEmpty)&&W(e,t=>{this.processRow(t)})}processRow(e,t=""){Ze(e,(i,r)=>{const s=t+i;this._checkEmpty&&(e[i]=this._maybeToEmpty(e[i])),this._checkNumbers&&(e[i]=this._maybeToNumber(s,e[i])),this._checkDates&&(e[i]=this._maybeToDate(s,e[i])),this._checkColors&&(e[i]=this._maybeToColor(s,e[i])),this._checkDeep&&this.getPrivate("deepFields",[]).indexOf(s)!==-1&&$c(e[i])&&this.processRow(e[i],s+".")})}_maybeToNumber(e,t){return this.get("numericFields").indexOf(e)!==-1?hi(t):t}_maybeToDate(e,t){return this.get("dateFields").indexOf(e)!==-1?this._root.dateFormatter.parse(t,this.get("dateFormat","")).getTime():t}_maybeToEmpty(e){return(e==null||e=="")&&this.get("emptyAs")!=null?this.get("emptyAs"):e}_maybeToColor(e,t){return this.get("colorFields").indexOf(e)!==-1?_e.fromAny(t):t}}class Jce extends HE{setupDefaultRules(){super.setupDefaultRules();const e=this._root.interfaceColors,t=this._root.language,i=this.rule.bind(this);i("XYChart").setAll({colors:cf.new(this._root,{}),paddingLeft:20,paddingRight:20,paddingTop:16,paddingBottom:16,panX:!1,panY:!1,wheelStep:.25,arrangeTooltips:!0,pinchZoomX:!1,pinchZoomY:!1}),i("XYSeries").setAll({legendLabelText:"{name}"}),i("Rectangle",["plotbackground","xy","background"]).setAll({fill:_e.fromHex(0),fillOpacity:0}),i("XYChart",["scrollbar","chart"]).setAll({paddingBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,colors:cf.new(this._root,{saturation:0})});{const l=i("Graphics",["scrollbar","overlay"]);l.setAll({fillOpacity:.5}),we(l,"fill",e,"background")}i("RoundedRectangle",["xy","scrollbar","thumb"]).setAll({cornerRadiusTR:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusBL:0,fillOpacity:0,focusable:!0}),i("RoundedRectangle",["xy","scrollbar","thumb"]).states.create("hover",{fillOpacity:.4}),i("RoundedRectangle",["xy","scrollbar","chart","background"]).setAll({cornerRadiusTL:0,cornerRadiusBL:0,cornerRadiusTR:0,cornerRadiusBR:0}),i("RoundedRectangle",["xy","scrollbar","chart","background","resize","button"]).setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),i("AxisRendererX",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0}),i("AxisRendererY",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0,minGridDistance:5}),i("AxisLabel",["xy","scrollbar","x"]).setAll({opacity:.5,centerY:de,minPosition:.01,maxPosition:.99,fontSize:"0.8em"}),i("AxisLabel",["category"]).setAll({text:"{category}",populateText:!0}),i("AxisLabel",["x"]).setAll({centerY:0}),i("AxisLabel",["x","inside"]).setAll({centerY:de}),i("AxisLabel",["x","inside","opposite"]).setAll({centerY:0}),i("AxisLabel",["x","opposite"]).setAll({centerY:de}),i("AxisLabel",["y"]).setAll({centerX:de}),i("AxisLabel",["y","inside"]).setAll({centerX:0}),i("AxisLabel",["y","inside","opposite"]).setAll({centerX:de}),i("AxisLabel",["y","opposite"]).setAll({centerX:0}),i("AxisLabel",["minor"]).setAll({fontSize:"0.6em"}),i("AxisLabel",["xy","scrollbar","y"]).setAll({visible:!1}),i("Grid",["xy","scrollbar","y"]).setAll({visible:!1}),i("Grid",["xy","scrollbar","x"]).setAll({opacity:.5}),i("XYCursor").setAll({behavior:"none",layer:30,exportable:!1,snapToSeriesBy:"xy",moveThreshold:1});{const l=i("Grid",["cursor","x"]);l.setAll({forceInactive:!0,strokeOpacity:.8,strokeDasharray:[2,2],role:"slider",ariaLabel:t.translate("Use left and right arrows to move selection")}),we(l,"stroke",e,"alternativeBackground")}{const l=i("Grid",["cursor","y"]);l.setAll({forceInactive:!0,strokeOpacity:.8,strokeDasharray:[2,2],role:"slider",ariaLabel:t.translate("Use up and down arrows to move selection")}),we(l,"stroke",e,"alternativeBackground")}{const l=i("Graphics",["cursor","selection"]);l.setAll({fillOpacity:.15}),we(l,"fill",e,"alternativeBackground")}i("Axis").setAll({start:0,end:1,minZoomCount:1,maxZoomCount:1/0,maxZoomFactor:1e3,maxDeviation:.1,snapTooltip:!0,tooltipLocation:.5,panX:!0,panY:!0,zoomX:!0,zoomY:!0,fixAxisSize:!0}),i("AxisLabel").setAll({location:.5,multiLocation:0,centerX:ot,centerY:ot,paddingTop:3,paddingBottom:3,paddingLeft:5,paddingRight:5}),i("Container",["axis","header"]).setAll({layer:30}),i("Rectangle",["axis","header","background"]).setAll({crisp:!0});{const l=i("AxisRenderer");l.setAll({crisp:!0,strokeOpacity:0}),we(l,"stroke",e,"grid")}i("AxisRendererX").setAll({minGridDistance:120,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,width:de}),i("AxisRendererY").setAll({minGridDistance:40,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,height:de});{const l=i("Rectangle",["axis","thumb"]);l.setAll({fillOpacity:0}),we(l,"fill",e,"alternativeBackground"),l.states.create("hover",{fillOpacity:.1})}i("Rectangle",["axis","thumb","x"]).setAll({cursorOverStyle:"ew-resize"}),i("Rectangle",["axis","thumb","y"]).setAll({cursorOverStyle:"ns-resize"});{const l=i("Grid");l.setAll({location:0,strokeOpacity:.15,crisp:!0}),we(l,"stroke",e,"grid")}{const l=i("Grid",["minor"]);l.setAll({location:0,strokeOpacity:.07,crisp:!0}),we(l,"stroke",e,"grid")}i("Grid",["base"]).setAll({strokeOpacity:.3});{const l=i("Graphics",["axis","fill"]);l.setAll({visible:!1,isMeasured:!1,position:"absolute",fillOpacity:.05}),we(l,"fill",e,"alternativeBackground")}i("Graphics",["axis","fill","range"]).setAll({isMeasured:!0}),i("Graphics",["series","fill","range"]).setAll({visible:!1,isMeasured:!0}),i("Grid",["series","range"]).setAll({visible:!1}),i("AxisTick",["series","range"]).setAll({visible:!1}),i("AxisLabel",["series","range"]).setAll({visible:!1});{const l=i("AxisTick");l.setAll({location:.5,multiLocation:0,strokeOpacity:1,isMeasured:!1,position:"absolute",visible:!1}),we(l,"stroke",e,"grid")}i("CategoryAxis").setAll({startLocation:0,endLocation:1,fillRule:(l,u)=>{const c=l.get("axisFill");c&&(!Y(u)||u%2==0?c.setPrivate("visible",!0):c.setPrivate("visible",!1))}});const r=[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}],s={millisecond:t.translate("_date_millisecond"),second:t.translate("_date_second"),minute:t.translate("_date_minute"),hour:t.translate("_date_hour"),day:t.translate("_date_day"),week:t.translate("_date_day"),month:t.translate("_date_month"),year:t.translate("_date_year")},o={millisecond:t.translate("_date_millisecond"),second:t.translate("_date_second"),minute:t.translate("_date_minute"),hour:t.translate("_date_day"),day:t.translate("_date_day"),week:t.translate("_date_day"),month:t.translate("_date_month")+" "+t.translate("_date_year"),year:t.translate("_date_year")},a={millisecond:t.translate("_date_millisecond_full"),second:t.translate("_date_second_full"),minute:t.translate("_date_minute_full"),hour:t.translate("_date_hour_full"),day:t.translate("_date_day_full"),week:t.translate("_date_week_full"),month:t.translate("_date_month_full"),year:t.translate("_date_year")};i("CategoryDateAxis").setAll({markUnitChange:!0,gridIntervals:ox(r),dateFormats:Za(s),periodChangeDateFormats:Za(o)}),i("DateAxis").setAll({maxZoomFactor:null,strictMinMax:!0,startLocation:0,endLocation:1,markUnitChange:!0,groupData:!1,groupCount:500,gridIntervals:ox(r),dateFormats:Za(s),periodChangeDateFormats:Za(o),tooltipDateFormats:a,groupIntervals:[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}],fillRule:l=>{const u=l.get("axisFill");if(u){const c=l.component,h=l.get("value"),d=l.get("endValue"),f=c.intervalDuration(),y=c.getPrivate("baseInterval"),g=c.getPrivate("gridInterval",y);let _=c.getPrivate("min",0);if(_=cl(new Date(_),g.timeUnit,g.count,this._root.locale.firstDayOfWeek,this._root.utc,void 0,this._root.timezone).getTime(),h!=null&&d!=null){const v=Math.round(Math.round((h-_)/f))/2;v==Math.round(v)?u.setPrivate("visible",!0):u.setPrivate("visible",!1)}}}}),i("GaplessDateAxis").setAll({fillRule:l=>{const u=l.get("axisFill");if(u){const c=l.get("index");let h=!1;(!Y(c)||c%2==0)&&(h=!0),u.setPrivate("visible",h)}}}),i("ValueAxis").setAll({baseValue:0,logarithmic:!1,strictMinMax:!1,autoZoom:!0,fillRule:l=>{const u=l.get("axisFill");if(u){const c=l.component,h=l.get("value"),d=c.getPrivate("step");Y(h)&&Y(d)&&($t(h/d/2,5)==Math.round(h/d/2)?u.setPrivate("visible",!1):u.setPrivate("visible",!0))}}}),i("DurationAxis").setAll({baseUnit:"second"}),i("XYSeries").setAll({maskBullets:!0,stackToNegative:!0,locationX:.5,locationY:.5,snapTooltip:!1,openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close",seriesTooltipTarget:"series"}),i("BaseColumnSeries").setAll({adjustBulletPosition:!0}),i("ColumnSeries").setAll({clustered:!0}),i("RoundedRectangle",["series","column"]).setAll({position:"absolute",isMeasured:!1,width:vr(70),height:vr(70),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),i("LineSeries").setAll({connect:!0,autoGapCount:1.1,stackToNegative:!1}),i("Graphics",["series","stroke"]).setAll({position:"absolute",strokeWidth:1,strokeOpacity:1,isMeasured:!1}),i("Graphics",["series","fill"]).setAll({visible:!1,fillOpacity:0,position:"absolute",strokeWidth:0,strokeOpacity:0,isMeasured:!1}),i("Graphics",["line","series","legend","marker","stroke"]).setAll({draw:(l,u)=>{const c=u.parent;if(c){const h=c.height(),d=c.width();l.moveTo(0,h/2),l.lineTo(d,h/2)}}});{const l=i("Graphics",["line","series","legend","marker","stroke"]).states.create("disabled",{});we(l,"stroke",e,"disabled")}i("Graphics",["line","series","legend","marker","fill"]).setAll({draw:(l,u)=>{const c=u.parent;if(c){const h=c.height(),d=c.width();l.moveTo(0,0),l.lineTo(d,0),l.lineTo(d,h),l.lineTo(0,h),l.lineTo(0,0)}}});{const l=i("Graphics",["line","series","legend","marker","fill"]).states.create("disabled",{});we(l,"stroke",e,"disabled")}i("SmoothedXYLineSeries").setAll({tension:.5}),i("SmoothedXLineSeries").setAll({tension:.5}),i("SmoothedYLineSeries").setAll({tension:.5}),i("Candlestick").setAll({position:"absolute",isMeasured:!1,width:vr(50),height:vr(50),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),i("OHLC").setAll({width:vr(80),height:vr(80)}),i("CandlestickSeries").setAll({lowValueXGrouped:"low",lowValueYGrouped:"low",highValueXGrouped:"high",highValueYGrouped:"high",openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close"});{const l=i("Rectangle",["column","autocolor"]).states.create("riseFromOpen",{});we(l,"fill",e,"positive"),we(l,"stroke",e,"positive")}{const l=i("Rectangle",["column","autocolor"]).states.create("dropFromOpen",{});we(l,"fill",e,"negative"),we(l,"stroke",e,"negative")}i("Rectangle",["column","autocolor","pro"]).states.create("riseFromOpen",{fillOpacity:0}),i("Rectangle",["column","autocolor","pro"]).states.create("dropFromOpen",{fillOpacity:1});{const l=i("Rectangle",["column","autocolor","pro"]).states.create("riseFromPrevious",{});we(l,"fill",e,"positive"),we(l,"stroke",e,"positive")}{const l=i("Rectangle",["column","autocolor","pro"]).states.create("dropFromPrevious",{});we(l,"fill",e,"negative"),we(l,"stroke",e,"negative")}i("RoundedRectangle",["rangegrip"]).setAll({strokeOpacity:0,fillOpacity:0,strokeWidth:1,width:12,height:12});{const l=i("Graphics",["rangegrip","button","icon"]);l.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:u=>{u.moveTo(0,.5),u.lineTo(0,12.5),u.moveTo(2,.5),u.lineTo(2,12.5),u.moveTo(4,.5),u.lineTo(4,12.5)}}),we(l,"stroke",e,"secondaryButtonText")}i("Button",["rangegrip"]).setAll({draggable:!0,paddingTop:0,paddingBottom:0}),i("Button",["rangegrip","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize",centerX:ot}),i("Button",["rangegrip","horizontal"]).setAll({cursorOverStyle:"ew-resize",centerX:ot}),i("Button",["rangegrip","vertical","left"]).setAll({centerY:de}),i("Button",["rangegrip","vertical","right"]).setAll({centerY:0}),i("Button",["rangegrip","horizontal","top"]).setAll({centerY:0}),i("Button",["rangegrip","horizontal","bottom"]).setAll({centerY:de})}}class ly extends lf{constructor(){super(...arguments),Object.defineProperty(this,"xAxes",{enumerable:!0,configurable:!0,writable:!0,value:new ny}),Object.defineProperty(this,"yAxes",{enumerable:!0,configurable:!0,writable:!0,value:new ny}),Object.defineProperty(this,"topAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(Me.new(this._root,{width:de,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"yAxesAndPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(Me.new(this._root,{width:de,height:de,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"bottomAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(Me.new(this._root,{width:de,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"leftAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(Me.new(this._root,{height:de,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"plotsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(Me.new(this._root,{width:de,height:de,maskContent:!1}))}),Object.defineProperty(this,"plotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(Me.new(this._root,{width:de,height:de}))}),Object.defineProperty(this,"topPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(Me.new(this._root,{width:de,height:de}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(Me.new(this._root,{width:de,height:de,isMeasured:!1}))}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:Me.new(this._root,{width:de,height:de,isMeasured:!1})}),Object.defineProperty(this,"rightAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(Me.new(this._root,{height:de,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"axisHeadersContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(Me.new(this._root,{}))}),Object.defineProperty(this,"zoomOutButton",{enumerable:!0,configurable:!0,writable:!0,value:this.topPlotContainer.children.push(rf.new(this._root,{themeTags:["zoom"],icon:ct.new(this._root,{themeTags:["button","icon"]})}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_wheelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_otherCharts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_movePoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_downStartX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStartY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._defaultThemes.push(Jce.new(this._root)),super._afterNew(),this._disposers.push(this.xAxes),this._disposers.push(this.yAxes);const e=this._root;let t=this._root.verticalLayout;const i=this.zoomOutButton;i.events.on("click",()=>{this.zoomOut()}),i.hide(0),i.states.lookup("default").set("opacity",1),this.chartContainer.set("layout",t);const r=this.plotContainer;r.children.push(this.seriesContainer),this._disposers.push(this._processAxis(this.xAxes,this.bottomAxesContainer)),this._disposers.push(this._processAxis(this.yAxes,this.leftAxesContainer)),r.children.push(this.topGridContainer),r.children.push(this.bulletsContainer),r.set("interactive",!0),r.set("interactiveChildren",!1),r.set("background",ji.new(e,{themeTags:["plotbackground","xy","background"]})),this._disposers.push(r.events.on("pointerdown",s=>{this._handlePlotDown(s)})),this._disposers.push(r.events.on("globalpointerup",s=>{this._handlePlotUp(s)})),this._disposers.push(r.events.on("globalpointermove",s=>{this._handlePlotMove(s)})),this._maskGrid(),this._setUpTouch()}_beforeChanged(){super._beforeChanged(),(this.isDirty("pinchZoomX")||this.isDirty("pinchZoomY")||this.get("panX")||this.get("panY"))&&this._setUpTouch()}_setUpTouch(){this.plotContainer._display.cancelTouch||(this.plotContainer._display.cancelTouch=!!(this.get("pinchZoomX")||this.get("pinchZoomY")||this.get("panX")||this.get("panY")))}_maskGrid(){this.gridContainer.set("maskContent",!0),this.topGridContainer.set("maskContent",!0)}_removeSeries(e){e._unstack(),e._posXDp&&e._posXDp.dispose(),e._posYDp&&e._posYDp.dispose(),e.set("baseAxis",void 0);const t=e.get("xAxis");t&&(Xi(t.series,e),t.markDirtyExtremes());const i=e.get("yAxis");i&&(Xi(i.series,e),i.markDirtyExtremes());const r=this.get("cursor");if(r){const s=r.get("snapToSeries");s&&Xi(s,e)}super._removeSeries(e)}handleWheel(e){const t=this.get("wheelX"),i=this.get("wheelY"),r=this.plotContainer,s=e.originalEvent;let o=!1;if($E(s,this))o=!0;else return;const a=r.toLocal(e.point),l=this.get("wheelStep",.2),u=s.deltaY/100,c=s.deltaX/100,h=this.get("wheelZoomPositionX"),d=this.get("wheelZoomPositionY");(t==="zoomX"||t==="zoomXY")&&c!=0&&this.xAxes.each(f=>{if(f.get("zoomX")){let y=f.get("start"),g=f.get("end"),_=f.fixPosition(a.x/r.width());h!=null&&(_=h);let v=f.get("maxDeviation",0),b=Math.min(1+v,Math.max(-v,y-l*(g-y)*c*_)),x=Math.max(-v,Math.min(1+v,g+l*(g-y)*c*(1-_)));b==y&&x==g&&(o=!1),1/(x-b)<f.getPrivate("maxZoomFactor",1/0)/f.get("minZoomCount",1)?this._handleWheelAnimation(f.zoom(b,x)):o=!1}}),(i==="zoomX"||i==="zoomXY")&&u!=0&&this.xAxes.each(f=>{if(f.get("zoomX")){let y=f.get("start"),g=f.get("end"),_=f.fixPosition(a.x/r.width());h!=null&&(_=h);let v=f.get("maxDeviation",0),b=Math.min(1+v,Math.max(-v,y-l*(g-y)*u*_)),x=Math.max(-v,Math.min(1+v,g+l*(g-y)*u*(1-_)));b==y&&x==g&&(o=!1),1/(x-b)<f.getPrivate("maxZoomFactor",1/0)/f.get("minZoomCount",1)?this._handleWheelAnimation(f.zoom(b,x)):o=!1}}),(t==="zoomY"||t==="zoomXY")&&c!=0&&this.yAxes.each(f=>{if(f.get("zoomY")){let y=f.get("start"),g=f.get("end"),_=f.fixPosition(a.y/r.height());d!=null&&(_=d);let v=f.get("maxDeviation",0),b=Math.min(1+v,Math.max(-v,y-l*(g-y)*c*_)),x=Math.max(-v,Math.min(1+v,g+l*(g-y)*c*(1-_)));b==y&&x==g&&(o=!1),1/(x-b)<f.getPrivate("maxZoomFactor",1/0)/f.get("minZoomCount",1)?this._handleWheelAnimation(f.zoom(b,x)):o=!1}}),(i==="zoomY"||i==="zoomXY")&&u!=0&&this.yAxes.each(f=>{if(f.get("zoomY")){let y=f.get("start"),g=f.get("end"),_=f.fixPosition(a.y/r.height());d!=null&&(_=d);let v=f.get("maxDeviation",0),b=Math.min(1+v,Math.max(-v,y-l*(g-y)*u*_)),x=Math.max(-v,Math.min(1+v,g+l*(g-y)*u*(1-_)));b==y&&x==g&&(o=!1),1/(x-b)<f.getPrivate("maxZoomFactor",1/0)/f.get("minZoomCount",1)?this._handleWheelAnimation(f.zoom(b,x)):o=!1}}),(t==="panX"||t==="panXY")&&c!=0&&this.xAxes.each(f=>{if(f.get("panX")){let y=f.get("start"),g=f.get("end"),_=this._getWheelSign(f)*l*(g-y)*c,v=y+_,b=g+_,x=this._fixWheel(v,b);v=x[0],b=x[1],v==y&&b==g&&(o=!1),this._handleWheelAnimation(f.zoom(v,b))}}),(i==="panX"||i==="panXY")&&u!=0&&this.xAxes.each(f=>{if(f.get("panX")){let y=f.get("start"),g=f.get("end"),_=this._getWheelSign(f)*l*(g-y)*u,v=y+_,b=g+_,x=this._fixWheel(v,b);v=x[0],b=x[1],v==y&&b==g&&(o=!1),this._handleWheelAnimation(f.zoom(v,b))}}),(t==="panY"||t==="panXY")&&c!=0&&this.yAxes.each(f=>{if(f.get("panY")){let y=f.get("start"),g=f.get("end"),_=this._getWheelSign(f)*l*(g-y)*c,v=y+_,b=g+_,x=this._fixWheel(v,b);v=x[0],b=x[1],v==y&&b==g&&(o=!1),this._handleWheelAnimation(f.zoom(v,b))}}),(i==="panY"||i==="panXY")&&u!=0&&this.yAxes.each(f=>{if(f.get("panY")){let y=f.get("start"),g=f.get("end"),_=this._getWheelSign(f)*l*(g-y)*u,v=y-_,b=g-_,x=this._fixWheel(v,b);v=x[0],b=x[1],v==y&&b==g&&(o=!1),this._handleWheelAnimation(f.zoom(v,b))}}),o&&s.preventDefault()}_handleSetWheel(){const e=this.get("wheelX"),t=this.get("wheelY"),i=this.plotContainer;e!=="none"||t!=="none"?(this._wheelDp=i.events.on("wheel",r=>{const s=r.originalEvent;(e!=="none"&&Math.abs(s.deltaX)!=0||t!=="none"&&Math.abs(s.deltaY)!=0)&&this.handleWheel(r)}),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}_getWheelSign(e){let t=1;return e.get("renderer").get("inversed")&&(t=-1),t}_fixWheel(e,t){const i=t-e;return e<0&&(e=0,t=e+i),t>1&&(t=1,e=t-i),[e,t]}_handlePlotDown(e){const t=e.originalEvent;if(t.button==2)return;const i=this.plotContainer;let r=i.toLocal(e.point);if((this.get("pinchZoomX")||this.get("pinchZoomY"))&&t.pointerId&&en(i._downPoints).length>0){const o=this.xAxes.getIndex(0),a=this.yAxes.getIndex(0);o&&(this._downStartX=o.get("start",0),this._downEndX=o.get("end",1)),a&&(this._downStartY=a.get("start",0),this._downEndY=a.get("end",1))}if((this.get("panX")||this.get("panY"))&&r.x>=0&&r.y>=0&&r.x<=i.width()&&r.y<=this.height()){this._downPoint={x:t.clientX,y:t.clientY};const s=this.get("panX"),o=this.get("panY");s&&this.xAxes.each(l=>{l._panStart=l.get("start"),l._panEnd=l.get("end")}),o&&this.yAxes.each(l=>{l._panStart=l.get("start"),l._panEnd=l.get("end")});const a="panstarted";this.events.isEnabled(a)&&this.events.dispatch(a,{type:a,target:this,originalEvent:e.originalEvent})}}_handleWheelAnimation(e){e?e.events.on("stopped",()=>{this._dispatchWheelAnimation()}):this._dispatchWheelAnimation()}_dispatchWheelAnimation(){const e="wheelended";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this})}_handlePlotUp(e){const t=this._downPoint;if(t&&(this.get("panX")||this.get("panY"))){if(e.originalEvent.clientX==t.x&&e.originalEvent.clientY==t.y){const r="pancancelled";this.events.isEnabled(r)&&this.events.dispatch(r,{type:r,target:this,originalEvent:e.originalEvent})}const i="panended";this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this,originalEvent:e.originalEvent})}this._downPoint=void 0,this.xAxes.each(i=>{i._isPanning=!1}),this.yAxes.each(i=>{i._isPanning=!1})}_handlePlotMove(e){const t=this.plotContainer;if(this.get("pinchZoomX")||this.get("pinchZoomY")){const s=e.originalEvent.pointerId;if(s&&(this._movePoints[s]=e.point,en(t._downPoints).length>1)){this._handlePinch();return}}let i=this._downPoint;if(i){i=t.toLocal(this._root.documentPointToRoot(i));let r=t.toLocal(e.point);const s=this.get("panX"),o=this.get("panY");if(s){let a=this.get("scrollbarX");a&&a.events.disableType("rangechanged"),this.xAxes.each(l=>{if(l.get("panX")){l._isPanning=!0;let u=l._panStart,c=l._panEnd,d=(c-u)*(i.x-r.x)/t.width();l.get("renderer").get("inversed")&&(d*=-1);let f=u+d,y=c+d;y-f<1+l.get("maxDeviation",1)*2&&(l.set("start",f),l.set("end",y))}}),a&&a.events.enableType("rangechanged")}if(o){let a=this.get("scrollbarY");a&&a.events.disableType("rangechanged"),this.yAxes.each(l=>{if(l.get("panY")){l._isPanning=!0;let u=l._panStart,c=l._panEnd,d=(c-u)*(i.y-r.y)/t.height();l.get("renderer").get("inversed")&&(d*=-1);let f=u-d,y=c-d;y-f<1+l.get("maxDeviation",1)*2&&(l.set("start",f),l.set("end",y))}}),a&&a.events.enableType("rangechanged")}}}_handlePinch(){const e=this.plotContainer;let t=0,i=[],r=[];if(Ze(e._downPoints,(s,o)=>{i[t]=o;let a=this._movePoints[s];a&&(r[t]=a),t++}),i.length>1&&r.length>1){const s=e.width(),o=e.height();let a=i[0],l=i[1],u=r[0],c=r[1];if(a&&l&&u&&c){if(u=e.toLocal(u),c=e.toLocal(c),a=e.toLocal(a),l=e.toLocal(l),this.get("pinchZoomX")){const h=this._downStartX,d=this._downEndX;if(h!=null&&d!=null){a.x>l.x&&([a,l]=[l,a],[u,c]=[c,u]);let f=h+a.x/s*(d-h),y=h+l.x/s*(d-h),g=h+u.x/s*(d-h),_=h+c.x/s*(d-h),v=Math.max(.001,y-f),b=Math.max(.001,_-g),x=v/b,P=h*x+f-g*x,k=d*x+y-_*x;this.xAxes.each(M=>{let A=M.fixPosition(P),T=M.fixPosition(k);M.zoom(A,T,0)})}}if(this.get("pinchZoomY")){const h=this._downStartY,d=this._downEndY;if(h!=null&&d!=null){a.y<l.y&&([a,l]=[l,a],[u,c]=[c,u]);let f=h+(1-a.y/o)*(d-h),y=h+(1-l.y/o)*(d-h),g=h+(1-u.y/o)*(d-h),_=h+(1-c.y/o)*(d-h),v=Math.max(.001,y-f),b=Math.max(.001,_-g),x=v/b,P=h*x+f-g*x,k=d*x+y-_*x;this.yAxes.each(M=>{let A=M.fixPosition(P),T=M.fixPosition(k);M.zoom(A,T,0)})}}}}}_handleCursorPosition(){const e=this.get("cursor");if(e){const t=e.getPrivate("point");let i=e.get("snapToSeries");if(e._downPoint&&(i=void 0),i&&t){const r=e.get("snapToSeriesBy"),s=[];W(i,l=>{if(!l.isHidden()&&!l.isHiding())if(r!="x!"&&r!="y!"){const u=l.startIndex(),c=l.endIndex();for(let h=u;h<c;h++){const d=l.dataItems[h];d&&!d.isHidden()&&s.push(d)}}else{const u=l.get("tooltipDataItem");u&&s.push(u)}});let o=1/0,a;if(W(s,l=>{const u=l.get("point");if(u){let c=0;r=="x"||r=="x!"?c=Math.abs(t.x-u.x):r=="y"||r=="y!"?c=Math.abs(t.y-u.y):c=Math.hypot(t.x-u.x,t.y-u.y),c<o&&(o=c,a=l)}}),W(i,l=>{const u=l.get("tooltip");u&&u._setDataItem(void 0)}),a){let l=a.component;l.showDataItemTooltip(a),l.setRaw("tooltipDataItem",a);const u=a.get("point");u&&e.handleMove(l.toGlobal({x:u.x-l.x(),y:u.y-l.y()}),!0)}}}}_updateCursor(){let e=this.get("cursor");e&&e.updateCursor()}_addCursor(e){this.plotContainer.children.push(e)}_prepareChildren(){if(super._prepareChildren(),this.series.each(e=>{this._colorize(e)}),(this.isDirty("wheelX")||this.isDirty("wheelY"))&&this._handleSetWheel(),this.isDirty("cursor")){const e=this._prevSettings.cursor,t=this.get("cursor");t!==e&&(this._disposeProperty("cursor"),e&&e.dispose(),t&&(t._setChart(this),this._addCursor(t),this._pushPropertyDisposer("cursor",t.events.on("selectended",()=>{this._handleCursorSelectEnd()}))),this._prevSettings.cursor=t)}if(this.isDirty("scrollbarX")){const e=this._prevSettings.scrollbarX,t=this.get("scrollbarX");t!==e&&(this._disposeProperty("scrollbarX"),e&&e.dispose(),t&&(t.parent||this.topAxesContainer.children.push(t),this._pushPropertyDisposer("scrollbarX",t.events.on("rangechanged",i=>{this._handleScrollbar(this.xAxes,i.start,i.end,i.grip)})),this._pushPropertyDisposer("scrollbarX",t.events.on("released",()=>{this.xAxes.each(i=>{i.get("zoomable")&&this._handleAxisSelection(i)})})),t.setPrivate("positionTextFunction",i=>{const r=this.xAxes.getIndex(0);return r&&r.getTooltipText(i,!1)||""})),this._prevSettings.scrollbarX=t)}if(this.isDirty("scrollbarY")){const e=this._prevSettings.scrollbarY,t=this.get("scrollbarY");t!==e&&(this._disposeProperty("scrollbarY"),e&&e.dispose(),t&&(t.parent||this.rightAxesContainer.children.push(t),this._pushPropertyDisposer("scrollbarY",t.events.on("rangechanged",i=>{this._handleScrollbar(this.yAxes,i.start,i.end,i.grip)})),this._pushPropertyDisposer("scrollbarY",t.events.on("released",()=>{this.yAxes.each(i=>{i.get("zoomable")&&this._handleAxisSelection(i)})})),t.setPrivate("positionTextFunction",i=>{const r=this.yAxes.getIndex(0);return r&&r.getTooltipText(i,!1)||""})),this._prevSettings.scrollbarY=t)}this._handleZoomOut()}_processSeries(e){super._processSeries(e);const t=e.get("xAxis"),i=e.get("yAxis");sx(t.series,e),sx(i.series,e),e._posXDp=e.addDisposer(t.events.on("positionchanged",()=>{e._fixPosition()})),e._posXDp=e.addDisposer(i.events.on("positionchanged",()=>{e._fixPosition()})),e.get("baseAxis")||(i.isType("CategoryAxis")||i.isType("DateAxis")?e.set("baseAxis",i):e.set("baseAxis",t)),e.get("stacked")&&(e._markDirtyKey("stacked"),W(e.dataItems,r=>{r.set("stackToItemY",void 0),r.set("stackToItemX",void 0)})),e._markDirtyAxes(),i.markDirtyExtremes(),t.markDirtyExtremes(),t._seriesAdded=!0,i._seriesAdded=!0,this._colorize(e)}_colorize(e){const t=this.get("colors");if(t&&e.get("fill")==null){const r=t.next();e._setSoft("stroke",r),e._setSoft("fill",r)}const i=this.get("patterns");if(i&&e.get("fillPattern")==null){const r=i.next();e._setSoft("fillPattern",r)}}_handleCursorSelectEnd(){const e=this.get("cursor"),t=e.get("behavior"),i=e.getPrivate("downPositionX",0),r=e.getPrivate("downPositionY",0),s=Math.min(1,Math.max(0,e.getPrivate("positionX",.5))),o=Math.min(1,Math.max(0,e.getPrivate("positionY",.5)));this.xAxes.each(a=>{if(t==="zoomX"||t==="zoomXY"){let l=a.toAxisPosition(i),u=a.toAxisPosition(s);a.zoom(l,u)}a.setPrivate("updateScrollbar",!0)}),this.yAxes.each(a=>{if(t==="zoomY"||t==="zoomXY"){let l=a.toAxisPosition(r),u=a.toAxisPosition(o);a.zoom(l,u)}a.setPrivate("updateScrollbar",!0)})}_handleScrollbar(e,t,i,r){e.each(s=>{let o=s.fixPosition(t),a=s.fixPosition(i),l=s.zoom(o,a,void 0,r);const u="updateScrollbar";s.setPrivateRaw(u,!1),l?l.events.on("stopped",()=>{s.setPrivateRaw(u,!0)}):s.setPrivateRaw(u,!0)})}_processAxis(e,t){return e.events.onAll(i=>{if(i.type==="clear")W(i.oldValues,r=>{this._removeAxis(r)});else if(i.type==="push")t.children.push(i.newValue),i.newValue.processChart(this);else if(i.type==="setIndex")t.children.setIndex(i.index,i.newValue),i.newValue.processChart(this);else if(i.type==="insertIndex")t.children.insertIndex(i.index,i.newValue),i.newValue.processChart(this);else if(i.type==="removeIndex")this._removeAxis(i.oldValue);else if(i.type==="moveIndex")t.children.moveValue(i.value,i.newIndex),i.value.processChart(this);else throw new Error("Unknown IListEvent type")})}_removeAxis(e){if(!e.isDisposed()){const t=e.parent;t&&t.children.removeValue(e);const i=e.gridContainer,r=i.parent;r&&r.children.removeValue(i);const s=e.topGridContainer,o=s.parent;o&&o.children.removeValue(s)}}_updateChartLayout(){const e=this.leftAxesContainer.width(),t=this.rightAxesContainer.width(),i=this.bottomAxesContainer;i.set("paddingLeft",e),i.set("paddingRight",t);const r=this.topAxesContainer;r.set("paddingLeft",e),r.set("paddingRight",t)}processAxis(e){var t=this.get("cursor");t&&(this.addDisposer(e.on("start",()=>{this._updateCursor()})),this.addDisposer(e.on("end",()=>{this._updateCursor()})))}_handleAxisSelection(e,t){let i=e.fixPosition(e.get("start",0)),r=e.fixPosition(e.get("end",1));if(i>r&&([i,r]=[r,i]),this.xAxes.indexOf(e)!=-1){if(t||e.getPrivate("updateScrollbar")){let s=this.get("scrollbarX");s&&(!s.getPrivate("isBusy")||t)&&(s.setRaw("start",i),s.setRaw("end",r),s.updateGrips())}}else if(this.yAxes.indexOf(e)!=-1&&(t||e.getPrivate("updateScrollbar"))){let s=this.get("scrollbarY");s&&(!s.getPrivate("isBusy")||t)&&(s.setRaw("start",i),s.setRaw("end",r),s.updateGrips())}this._handleZoomOut()}_handleZoomOut(){let e=this.zoomOutButton;if(e&&e.parent){let t=!1;this.xAxes.each(i=>{($t(i.get("start",0),5)!=0||$t(i.get("end",1),5)!=1)&&(t=!0)}),this.yAxes.each(i=>{($t(i.get("start",0),5)!=0||$t(i.get("end",1),5)!=1)&&(t=!0)}),t?e.isHidden()&&e.show():e.hide()}}inPlot(e){const t=this.plotContainer,i=this.getPrivate("otherCharts",this._otherCharts),r=t.toGlobal(e);if(e.x>=-.5&&e.y>=-.5&&e.x<=t.width()+.5&&e.y<=t.height()+.5)return!0;if(i)for(let s=i.length-1;s>=0;s--){const o=i[s];if(o!=this){const a=o.plotContainer,l=this._root.rootPointToDocument(r),u=o._root.documentPointToRoot(l),c=a.toLocal(u);if(c.x>=-.1&&c.y>=-.1&&c.x<=a.width()+.1&&c.y<=a.height()+.1)return!0}}return!1}arrangeTooltips(){const e=this.plotContainer,t=e.width(),i=e.height();let r=this.height();const s=this._root.tooltipContainer.get("layerMargin");s&&s.bottom>r&&(r=s.bottom);let o=e._display.toGlobal({x:0,y:0}),a=e._display.toGlobal({x:t,y:i});const l=[];let u=0,c=1/0,h=this._movePoint,d=this.get("maxTooltipDistance"),f=this.get("maxTooltipDistanceBy","xy"),y,g;Y(d)&&this.series.each(v=>{if(!v.isHidden()){const b=v.get("tooltip");if(b){let x=b.get("pointTo");if(x){let P=Math.hypot(h.x-x.x,h.y-x.y);f=="x"?P=Math.abs(h.x-x.x):f=="y"&&(P=Math.abs(h.y-x.y)),P<c&&(c=P,y=v,g=x)}}}});const _=[];if(this.series.each(v=>{const b=v.get("tooltip");if(b&&!b.get("forceHidden")){let x=!1,P=b.get("pointTo");if(P){if(d>=0){let k=b.get("pointTo");if(k&&g&&v!=y){let M=Math.hypot(g.x-k.x,g.y-k.y);f=="x"?M=Math.abs(g.x-k.x):f=="y"&&(M=Math.abs(g.y-k.y)),M>d&&(x=!0)}}else d==-1&&v!=y&&(x=!0);!this.inPlot(this._tooltipToLocal(P))||!b.dataItem?x=!0:x||(u+=P.y),x||v.isHidden()||v.isHiding()?b.hide(0):(b.show(),l.push(b),_.push(v))}}}),this.setPrivate("tooltipSeries",_),this.get("arrangeTooltips")){let v=0,b=0;const x=this._root.tooltipContainer,P=l.length;if(u/P>i/2+o.y){l.sort((A,T)=>kD(T.get("pointTo").y,A.get("pointTo").y));let M=a.y;if(W(l,A=>{let T=A.height();b++,v+=T;let E=A.get("centerY");E instanceof Ye&&(T*=E.value),T+=A.get("marginBottom",0),A.set("bounds",{left:o.x,top:o.y,right:a.x,bottom:M}),A.setPrivate("customData",{left:o.x,top:o.y,right:a.x,bottom:M}),M=Math.min(M-T,A._fy-T),A.parent==x&&x.children.moveValue(A,0)}),M<0){l.reverse();let A=M;W(l,T=>{b++;let E=T.get("bounds");if(E){let C=E.top-M,D=E.bottom-M;C<A&&(C=A,D=C+T.height()),T.set("bounds",{left:E.left,top:C,right:E.right,bottom:D}),A=E.bottom-M+T.get("marginBottom",0)}})}}else{l.reverse(),l.sort((A,T)=>kD(A.get("pointTo").y,T.get("pointTo").y));let M=0;if(W(l,A=>{b++;let T=A.height();v+=T;let E=A.get("centerY");E instanceof Ye&&(T*=E.value),T+=A.get("marginBottom",0),A.set("bounds",{left:o.x,top:M,right:a.x,bottom:Math.max(o.y+r,M+T)}),A.parent==x&&x.children.moveValue(A,0),M=Math.max(M+T,A._fy+T)}),M>r){l.reverse();let A=r;W(l,T=>{b++;let E=T.get("bounds");if(E){let C=E.top-(r-M),D=E.bottom-(r-M);D>A&&(D=A,C=D-T.height()),T.set("bounds",{left:E.left,top:C,right:E.right,bottom:D}),A=D-T.height()-T.get("marginBottom",0)}})}}v==0&&b>0&&this._disposers.push(this.root.events.once("frameended",()=>{this.arrangeTooltips()}))}}_tooltipToLocal(e){return this.plotContainer.toLocal(e)}zoomOut(){this.xAxes.each(e=>{e.setPrivate("updateScrollbar",!0),e.zoom(0,1)}),this.yAxes.each(e=>{e.setPrivate("updateScrollbar",!0),e.zoom(0,1)})}_dispose(){super._dispose();const e=this.get("cursor");e&&e.dispose()}}Object.defineProperty(ly,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChart"});Object.defineProperty(ly,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:lf.classNames.concat([ly.className])});class bc extends ct{_beforeChanged(){super._beforeChanged(),(this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}}Object.defineProperty(bc,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Grid"});Object.defineProperty(bc,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ct.classNames.concat([bc.className])});class uy extends Me{constructor(){super(...arguments),Object.defineProperty(this,"_alwaysShow",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lineX",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(bc.new(this._root,{themeTags:["x"]}))}),Object.defineProperty(this,"lineY",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(bc.new(this._root,{themeTags:["y"]}))}),Object.defineProperty(this,"selection",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(ct.new(this._root,{themeTags:["selection","cursor"],layer:30}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lastPoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_lastPoint2",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_tooltipX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_tooltipY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._settings.themeTags=Ct(this._settings.themeTags,["xy","cursor"]),super._afterNew(),this.setAll({width:de,height:de,isMeasured:!0,position:"absolute"}),this.states.create("hidden",{visible:!0,opacity:0}),this._drawLines(),this.setPrivateRaw("visible",!1),this._disposers.push(this.setTimeout(()=>{this.setPrivate("visible",!0)},500)),this._disposers.push(this.lineX.events.on("positionchanged",()=>{this._handleXLine()})),this._disposers.push(this.lineY.events.on("positionchanged",()=>{this._handleYLine()})),this._disposers.push(this.lineX.events.on("focus",()=>this._handleLineFocus())),this._disposers.push(this.lineX.events.on("blur",()=>this._handleLineBlur())),this._disposers.push(this.lineY.events.on("focus",()=>this._handleLineFocus())),this._disposers.push(this.lineY.events.on("blur",()=>this._handleLineBlur())),Ns("keyboardevents")&&this._disposers.push(St(document,"keydown",e=>{this._handleLineMove(kh(e),e.ctrlKey)}))}_setUpTouch(){const e=this.chart;e&&(e.plotContainer._display.cancelTouch=this.get("behavior")!="none")}_handleXLine(){let e=this.lineX.x(),t=!0;(e<0||e>this.width())&&(t=!1),this.lineX.setPrivate("visible",t)}_handleYLine(){let e=this.lineY.y(),t=!0;(e<0||e>this.height())&&(t=!1),this.lineY.setPrivate("visible",t)}_handleLineMove(e,t){let i="";const r=this.chart;let s;if(r&&r.xAxes.length){this._root.focused(this.lineX)?(i="positionX",s=r.xAxes.getIndex(0)):this._root.focused(this.lineY)&&(s=r.yAxes.getIndex(0),i="positionY");let o=1;if(t&&(o=5),s){let a=s.get("renderer").get("inversed",!1),l;e=="ArrowRight"||e=="ArrowDown"?l=1:e=="ArrowLeft"||e=="ArrowUp"?l=-1:e=="Tab"&&(l=0),l!=null&&(a&&(l*=-1),this.set(i,s.nextPosition(l*o)))}}}_handleLineFocus(){this._alwaysShow=this.get("alwaysShow",!1),this.setAll({positionX:this.getPrivate("positionX",0),positionY:this.getPrivate("positionY",0),alwaysShow:!0}),this._handleLineMove("Tab")}_handleLineBlur(){(this.lineX.isFocus()||this.lineY.isFocus())&&this.setAll({positionX:void 0,positionY:void 0,alwaysShow:this._alwaysShow})}_prepareChildren(){if(super._prepareChildren(),this.isDirty("xAxis")){this._tooltipX=!1;const e=this.get("xAxis");if(e){const t=e.get("tooltip");t&&(this._tooltipX=!0,this._disposers.push(t.on("pointTo",()=>{this._updateXLine(t)})))}}if(this.isDirty("yAxis")){this._tooltipY=!1;const e=this.get("yAxis");if(e){const t=e.get("tooltip");t&&(this._tooltipY=!0,this._disposers.push(t.on("pointTo",()=>{this._updateYLine(t)})))}}}_handleSyncWith(){const e=this.chart;if(e){const t=this.get("syncWith"),i=[];t&&W(t,r=>{const s=r.chart;s&&i.push(s)}),e._otherCharts=i}}_updateChildren(){if(super._updateChildren(),this._handleSyncWith(),this.isDirty("positionX")||this.isDirty("positionY")){const e=this.get("positionX"),t=this.get("positionY");e==null&&t==null?this.hide(0):(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0))),this.handleMove())}}_updateXLine(e){let t=$t(this._display.toLocal(e.get("pointTo",{x:0,y:0})).x,3);this._toX!=t&&(this.lineX.animate({key:"x",to:t,duration:e.get("animationDuration",0),easing:e.get("animationEasing")}),this._toX=t)}_updateYLine(e){let t=$t(this._display.toLocal(e.get("pointTo",{x:0,y:0})).y,3);this._toY!=t&&(this.lineY.animate({key:"y",to:t,duration:e.get("animationDuration",0),easing:e.get("animationEasing")}),this._toY=t)}_drawLines(){this.lineX.set("draw",e=>{e.moveTo(0,0),e.lineTo(0,this.height())}),this.lineY.set("draw",e=>{e.moveTo(0,0),e.lineTo(this.width(),0)})}updateCursor(){this.get("alwaysShow")&&(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0)))),this.handleMove()}_setChart(e){this.chart=e,this._handleSyncWith();const t=e.plotContainer;this.events.on("boundschanged",()=>{this._disposers.push(this.setTimeout(()=>{this.updateCursor()},50))}),Ns("touchevents")&&(this._disposers.push(t.events.on("click",r=>{cx(r.originalEvent)&&this._handleMove(r)})),this._setUpTouch()),this._disposers.push(t.events.on("pointerdown",r=>{this._handleCursorDown(r)})),this._disposers.push(t.events.on("globalpointerup",r=>{this._handleCursorUp(r),!r.native&&!this.isHidden()&&this._handleMove(r)})),this._disposers.push(t.events.on("globalpointermove",r=>{!this.get("syncWith")&&en(t._downPoints).length==0&&!r.native&&this.isHidden()||(this._handleMove(r),Math.hypot(this._lastPoint2.x-r.point.x,this._lastPoint2.y-r.point.y)>1&&(this._handleLineBlur(),this._lastPoint2=r.point))}));const i=this.parent;i&&i.children.moveValue(this.selection)}_inPlot(e){const t=this.chart;return t?t.inPlot(e):!1}_handleCursorDown(e){if(e.originalEvent.button==2)return;const t=e.point;let i=this._display.toLocal(t);const r=this.chart;if(this.selection.set("draw",()=>{}),r&&this._inPlot(i)){if(this._downPoint=i,this.get("behavior")!="none"){this.selection.show();const a="selectstarted";this.events.isEnabled(a)&&this.events.dispatch(a,{type:a,target:this,originalEvent:e.originalEvent})}let s=this._getPosition(i).x,o=this._getPosition(i).y;this.setPrivate("downPositionX",s),this.setPrivate("downPositionY",o)}}_handleCursorUp(e){if(this._downPoint){const t=this.get("behavior","none");if(t!="none"){t.charAt(0)==="z"&&this.selection.hide();const i=e.point;let r=this._display.toLocal(i);const s=this._downPoint,o=this.get("moveThreshold",1);if(r&&s){let a=!1;if((t==="zoomX"||t==="zoomXY"||t==="selectX"||t==="selectXY")&&Math.abs(r.x-s.x)>o&&(a=!0),(t==="zoomY"||t==="zoomXY"||t==="selectY"||t==="selectXY")&&Math.abs(r.y-s.y)>o&&(a=!0),a){const l="selectended";this.events.isEnabled(l)&&this.events.dispatch(l,{type:l,target:this,originalEvent:e.originalEvent})}else{const l="selectcancelled";this.events.isEnabled(l)&&this.events.dispatch(l,{type:l,target:this,originalEvent:e.originalEvent})}}}}this._downPoint=void 0}_handleMove(e){if(this.getPrivate("visible")){const t=this.chart;if(t&&en(t.plotContainer._downPoints).length>1){this.set("forceHidden",!0);return}else this.set("forceHidden",!1);const i=e.point,r=this._lastPoint;if(Math.round(r.x)===Math.round(i.x)&&Math.round(r.y)===Math.round(i.y))return;this._lastPoint=i,this.setPrivate("lastPoint",i),this.handleMove({x:i.x,y:i.y},!1,e.originalEvent)}}_getPosition(e){return{x:e.x/this.width(),y:e.y/this.height()}}handleMove(e,t,i){e||(e=this._movePoint);const r=this.get("alwaysShow");if(!e){this.hide(0);return}this._movePoint=e;let s=this._display.toLocal(e),o=this.chart;if(o&&(this._inPlot(s)||this._downPoint)){o._movePoint=e,this.isHidden()&&(this.show(),this.get("behavior","").charAt(0)=="z"&&this.selection.set("draw",()=>{}));let a=s.x,l=s.y,u=this._getPosition(s);this.setPrivate("point",s);let c=this.get("snapToSeries");this._downPoint&&(c=void 0);let h=this.get("positionX"),d=u.x;Y(h)&&(d=h);let f=this.get("positionY"),y=u.y;Y(f)&&(y=f),this.setPrivate("positionX",d),this.setPrivate("positionY",y);const g=this._getPoint(d,y);if(a=g.x,l=g.y,o.xAxes.each(_=>{_._handleCursorPosition(d,c),r&&_.handleCursorShow()}),o.yAxes.each(_=>{_._handleCursorPosition(y,c),r&&_.handleCursorShow()}),!t){o._handleCursorPosition();const _="cursormoved";this.events.isEnabled(_)&&this.events.dispatch(_,{type:_,target:this,point:e,originalEvent:i})}this._updateLines(a,l),o.arrangeTooltips()}else if(!this._downPoint&&!r){this.hide(0);const a="cursorhidden";this.events.isEnabled(a)&&this.events.dispatch(a,{type:a,target:this})}this._downPoint&&this.get("behavior")!="none"&&this._updateSelection(s)}_getPoint(e,t){return{x:this.width()*e,y:this.height()*t}}_updateLines(e,t){this._tooltipX||this.lineX.set("x",e),this._tooltipY||this.lineY.set("y",t),this._drawLines()}_updateSelection(e){const t=this.selection,i=this.get("behavior"),r=this.width(),s=this.height();e.x<0&&(e.x=0),e.x>r&&(e.x=r),e.y<0&&(e.y=0),e.y>s&&(e.y=s),t.set("draw",o=>{const a=this._downPoint;a&&(i==="zoomXY"||i==="selectXY"?(o.moveTo(a.x,a.y),o.lineTo(a.x,e.y),o.lineTo(e.x,e.y),o.lineTo(e.x,a.y),o.lineTo(a.x,a.y)):i==="zoomX"||i==="selectX"?(o.moveTo(a.x,0),o.lineTo(a.x,s),o.lineTo(e.x,s),o.lineTo(e.x,0),o.lineTo(a.x,0)):(i==="zoomY"||i==="selectY")&&(o.moveTo(0,a.y),o.lineTo(r,a.y),o.lineTo(r,e.y),o.lineTo(0,e.y),o.lineTo(0,a.y)))})}_onHide(){if(this.isHidden()){let e=this.chart;e&&(e.xAxes.each(t=>{t.handleCursorHide()}),e.yAxes.each(t=>{t.handleCursorHide()}),e.series.each(t=>{t.handleCursorHide()}))}super._onHide()}_onShow(){if(!this.isHidden()){let e=this.chart;e&&(e.xAxes.each(t=>{t.handleCursorShow()}),e.yAxes.each(t=>{t.handleCursorShow()}))}super._onShow()}_dispose(){super._dispose(),this.selection.dispose()}}Object.defineProperty(uy,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYCursor"});Object.defineProperty(uy,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Me.classNames.concat([uy.className])});function ehe(n,e){return n==null?e:e==null?n:e<n?e:n}function the(n,e){return n==null?e:e==null?n:e>n?e:n}class hf extends sf{constructor(){super(...arguments),Object.defineProperty(this,"_xField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_axesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_stackDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataSets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_mainContainerMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"mainContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Me.new(this._root,{}))}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new Hc}),Object.defineProperty(this,"_skipped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_couldStackTo",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_reallyStackedTo",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_stackedSeries",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_aLocationX0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationX1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_aLocationY0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationY1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_showBullets",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueX","openValueX","lowValueX","highValueX"]}),Object.defineProperty(this,"valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueY","openValueY","lowValueY","highValueY"]}),Object.defineProperty(this,"_valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_emptyDataItem",{enumerable:!0,configurable:!0,writable:!0,value:new kr(this,void 0,{})}),Object.defineProperty(this,"_dataSetId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_posXDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_posYDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this.fields.push("categoryX","categoryY","openCategoryX","openCategoryY"),this.valueFields.push("valueX","valueY","openValueX","openValueY","lowValueX","lowValueY","highValueX","highValueY"),this._setRawDefault("vcx",1),this._setRawDefault("vcy",1),this._setRawDefault("valueXShow","valueXWorking"),this._setRawDefault("valueYShow","valueYWorking"),this._setRawDefault("openValueXShow","openValueXWorking"),this._setRawDefault("openValueYShow","openValueYWorking"),this._setRawDefault("lowValueXShow","lowValueXWorking"),this._setRawDefault("lowValueYShow","lowValueYWorking"),this._setRawDefault("highValueXShow","highValueXWorking"),this._setRawDefault("highValueYShow","highValueYWorking"),this._setRawDefault("lowValueXGrouped","low"),this._setRawDefault("lowValueYGrouped","low"),this._setRawDefault("highValueXGrouped","high"),this._setRawDefault("highValueYGrouped","high"),super._afterNew(),this.set("maskContent",!0),this._disposers.push(this.axisRanges.events.onAll(e=>{if(e.type==="clear")W(e.oldValues,t=>{this._removeAxisRange(t)});else if(e.type==="push")this._processAxisRange(e.newValue);else if(e.type==="setIndex")this._processAxisRange(e.newValue);else if(e.type==="insertIndex")this._processAxisRange(e.newValue);else if(e.type==="removeIndex")this._removeAxisRange(e.oldValue);else if(e.type==="moveIndex")this._processAxisRange(e.value);else throw new Error("Unknown IStreamEvent type")})),this.states.create("hidden",{opacity:1,visible:!1}),this.onPrivate("startIndex",()=>{this.root.events.once("frameended",()=>{this.updateLegendValue()})}),this.onPrivate("endIndex",()=>{this.root.events.once("frameended",()=>{this.updateLegendValue()})}),this._makeFieldNames()}_processAxisRange(e){const t=Me.new(this._root,{});e.container=t,this.children.push(t),e.series=this;const i=e.axisDataItem;i.setRaw("isRange",!0);const r=i.component;if(r){r._processAxisRange(i,["range","series"]);const s=i.get("bullet");if(s){const a=s.get("sprite");a&&a.setPrivate("visible",!1)}const o=i.get("axisFill");o&&t.set("mask",o),r._seriesAxisRanges.push(i)}}_onDataClear(){super._onDataClear(),Ze(this._dataSets,(e,t)=>{W(t,i=>{i.dispose()}),t.length=0})}_removeAxisRange(e){const t=e.axisDataItem,i=t.component;t.dispose(),Xi(i._seriesAxisRanges,t);const r=e.container;r&&r.dispose()}_updateFields(){super._updateFields(),this._valueXFields=[],this._valueYFields=[],this._valueXShowFields=[],this._valueYShowFields=[],this.__valueXShowFields=[],this.__valueYShowFields=[],this.valueXFields&&W(this.valueXFields,e=>{if(this.get(e+"Field")){this._valueXFields.push(e);let i=this.get(e+"Show");this.__valueXShowFields.push(i),i.indexOf("Working")!=-1?this._valueXShowFields.push(i.split("Working")[0]):this._valueXShowFields.push(i)}}),this.valueYFields&&W(this.valueYFields,e=>{if(this.get(e+"Field")){this._valueYFields.push(e);let i=this.get(e+"Show");this.__valueYShowFields.push(i),i.indexOf("Working")!=-1?this._valueYShowFields.push(i.split("Working")[0]):this._valueYShowFields.push(i)}})}_dispose(){super._dispose(),this._bullets={};const e=this.chart;e&&e.series.removeValue(this),kn(this.get("xAxis").series,this),kn(this.get("yAxis").series,this)}_min(e,t){let i=ehe(this.getPrivate(e),t);this.setPrivate(e,i)}_max(e,t){let i=the(this.getPrivate(e),t);this.setPrivate(e,i)}_shouldMakeBullet(e){const t=this.get("xAxis"),i=this.get("yAxis"),r=this.get("baseAxis");if(!t.inited||!i.inited)return!1;const s=this.get("minBulletDistance",0);if(s>0){let o=this.startIndex(),l=this.endIndex()-o;if(t==r){if(t.get("renderer").axisLength()/l<s/5)return!1}else if(i==r&&i.get("renderer").axisLength()/l<s/5)return!1}return e.get(this._xField)!=null&&e.get(this._yField)!=null}_makeFieldNames(){const e=this.get("xAxis"),t=this.get("yAxis"),i=e.getPrivate("name"),r=PD(i),s=t.getPrivate("name"),o=PD(s),a=e.get("renderer").getPrivate("letter"),l=t.get("renderer").getPrivate("letter"),u="open",c="low",h="high",d="Show";e.className==="ValueAxis"?(this._xField=this.get(i+a+d),this._xOpenField=this.get(u+r+a+d),this._xLowField=this.get(c+r+a+d),this._xHighField=this.get(h+r+a+d)):(this._xField=i+a,this._xOpenField=u+r+a,this._xLowField=c+r+a,this._xHighField=h+r+a),t.className==="ValueAxis"?(this._yField=this.get(s+l+d),this._yOpenField=this.get(u+o+l+d),this._yLowField=this.get(c+o+l+d),this._yHighField=this.get(h+o+l+d)):(this._yField=s+l,this._yOpenField=u+o+l,this._yLowField=c+o+l,this._yHighField=h+o+l)}_fixVC(){const e=this.get("xAxis"),t=this.get("yAxis"),i=this.get("baseAxis"),r=this.states.lookup("hidden"),s=this.get("sequencedInterpolation");if(r){let o=0;s&&(o=.999999999999),e===i?r.set("vcy",o):(t===i||r.set("vcy",o),r.set("vcx",o))}}_handleMaskBullets(){this.isDirty("maskBullets")&&this.bulletsContainer.set("maskContent",this.get("maskBullets"))}_fixPosition(){const e=this.get("xAxis"),t=this.get("yAxis");this.set("x",e.x()-zn(e.get("centerX",0),e.width())-e.parent.get("paddingLeft",0)),this.set("y",t.y()-zn(t.get("centerY",0),t.height())-t.parent.get("paddingTop",0)),this.bulletsContainer.set("y",this.y()),this.bulletsContainer.set("x",this.x())}_prepareChildren(){super._prepareChildren(),this._bullets={},(this.isDirty("valueYShow")||this.isDirty("valueXShow")||this.isDirty("openValueYShow")||this.isDirty("openValueXShow")||this.isDirty("lowValueYShow")||this.isDirty("lowValueXShow")||this.isDirty("highValueYShow")||this.isDirty("highValueXShow"))&&(this._updateFields(),this._makeFieldNames(),this._valuesDirty=!0),(this.isDirty("xAxis")||this.isDirty("yAxis"))&&(this._valuesDirty=!0),this.set("width",this.get("xAxis").width()),this.set("height",this.get("yAxis").height()),this._handleMaskBullets();const e=this.get("xAxis"),t=this.get("yAxis"),i=this.get("baseAxis"),r=this.get("tooltipPositionX");let s;switch(r){case"open":s=this._xOpenField;break;case"low":s=this._xLowField;break;case"high":s=this._xHighField;break;default:s=this._xField}this._tooltipFieldX=s;const o=this.get("tooltipPositionY");let a;switch(o){case"open":a=this._yOpenField;break;case"low":a=this._yLowField;break;case"high":a=this._yHighField;break;default:a=this._yField}this._tooltipFieldY=a,this.isDirty("baseAxis")&&this._fixVC(),this._fixPosition();const l=this.get("stacked");if(this.isDirty("stacked")&&(l?this._valuesDirty&&!this._dataProcessed||this._stack():this._unstack()),this._valuesDirty&&!this._dataProcessed&&(this._dataProcessed=!0,l&&this._stack(),W(this.dataItems,u=>{W(this._valueXShowFields,c=>{let h=u.get(c);h!=null&&(l&&(h+=this.getStackedXValue(u,c)),this._min("minX",h),this._max("maxX",h))}),W(this._valueYShowFields,c=>{let h=u.get(c);h!=null&&(l&&(h+=this.getStackedYValue(u,c)),this._min("minY",h),this._max("maxY",h))}),e.processSeriesDataItem(u,this._valueXFields),t.processSeriesDataItem(u,this._valueYFields)}),e._seriesValuesDirty=!0,t._seriesValuesDirty=!0,this.get("ignoreMinMax")||((this.isPrivateDirty("minX")||this.isPrivateDirty("maxX"))&&e.markDirtyExtremes(),(this.isPrivateDirty("minY")||this.isPrivateDirty("maxY"))&&t.markDirtyExtremes()),this._markStakedDirtyStack(),this.get("tooltipDataItem")||this.updateLegendValue(void 0)),(this.isDirty("vcx")||this.isDirty("vcy"))&&this._markStakedDirtyStack(),this._dataGrouped||(e._groupSeriesData(this),t._groupSeriesData(this),this._dataGrouped=!0),this._valuesDirty||this.isPrivateDirty("startIndex")||this.isPrivateDirty("adjustedStartIndex")||this.isPrivateDirty("endIndex")||this.isDirty("vcx")||this.isDirty("vcy")||this._stackDirty||this._sizeDirty){let u=this.startIndex(),c=this.endIndex(),h=this.get("minBulletDistance",0);if(h>0&&i&&(i.get("renderer").axisLength()/(c-u)>h?this._showBullets=!0:this._showBullets=!1),(this._psi!=u||this._pei!=c||this.isDirty("vcx")||this.isDirty("vcy")||this.isPrivateDirty("adjustedStartIndex")||this._stackDirty||this._valuesDirty)&&!this._selectionProcessed){this._selectionProcessed=!0;const d=this.get("vcx",1),f=this.get("vcy",1),y=this.get("stacked",!1),g=this.getPrivate("outOfSelection");if(i===e||!i)if(t._calculateTotals(),this.setPrivateRaw("selectionMinY",void 0),this.setPrivateRaw("selectionMaxY",void 0),g)t.markDirtySelectionExtremes();else for(let _=u;_<c;_++)this.processYSelectionDataItem(this.dataItems[_],f,y);if(i===t||!i)if(e._calculateTotals(),this.setPrivateRaw("selectionMinX",void 0),this.setPrivateRaw("selectionMaxX",void 0),g)t.markDirtySelectionExtremes();else for(let _=u;_<c;_++)this.processXSelectionDataItem(this.dataItems[_],d,y);if((i===e||!i)&&(this.get("valueYShow")!=="valueYWorking"||this.get("useSelectionExtremes"))){const _=this.getPrivate("selectionMinY");_!=null&&(this.setPrivateRaw("minY",_),t.markDirtyExtremes());const v=this.getPrivate("selectionMaxY");v!=null&&(this.setPrivateRaw("maxY",v),t.markDirtyExtremes())}if((i===t||!i)&&(this.get("valueXShow")!=="valueXWorking"||this.get("useSelectionExtremes"))){const _=this.getPrivate("selectionMinX");_!=null&&(this.setPrivateRaw("minX",_),t.markDirtyExtremes());const v=this.getPrivate("selectionMaxX");v!=null&&(this.setPrivateRaw("maxX",v),e.markDirtyExtremes())}(this.isPrivateDirty("selectionMinX")||this.isPrivateDirty("selectionMaxX"))&&e.markDirtySelectionExtremes(),(this.isPrivateDirty("selectionMinY")||this.isPrivateDirty("selectionMaxY"))&&t.markDirtySelectionExtremes()}}}_makeRangeMask(){if(this.axisRanges.length>0){let e=this._mainContainerMask;e==null&&(e=this.children.push(ct.new(this._root,{})),this._mainContainerMask=e,e.set("draw",(t,i)=>{const r=this.parent;if(r){const s=this._root.container.width(),o=this._root.container.height();t.moveTo(-s,-o),t.lineTo(-s,o*2),t.lineTo(s*2,o*2),t.lineTo(s*2,-o),t.lineTo(-s,-o),this.axisRanges.each(a=>{const l=a.axisDataItem.get("axisFill");if(r&&l){let u=l.get("draw");u&&u(t,i)}})}this.mainContainer._display.mask=e._display})),e.markDirty(),e._markDirtyKey("fill")}else this.mainContainer._display.mask=null}_updateChildren(){super._updateChildren(),this._x=this.x(),this._y=this.y(),this._makeRangeMask()}_stack(){const e=this.chart;if(e){const t=e.series.indexOf(this);if(this._couldStackTo=[],t>0){let i;for(let r=t-1;r>=0&&(i=e.series.getIndex(r),!(i.get("xAxis")===this.get("xAxis")&&i.get("yAxis")===this.get("yAxis")&&i.className===this.className&&(this._couldStackTo.push(i),!i.get("stacked"))));r--);}this._stackDataItems()}}_unstack(){Ze(this._reallyStackedTo,(e,t)=>{delete t._stackedSeries[this.uid]}),this._reallyStackedTo={},W(this.dataItems,e=>{e.setRaw("stackToItemY",void 0),e.setRaw("stackToItemX",void 0)})}_handleRemoved(){const e=this.get("xAxis");e&&e._handleSeriesRemoved();const t=this.get("yAxis");t&&t._handleSeriesRemoved()}_stackDataItems(){const e=this.get("baseAxis"),t=this.get("xAxis"),i=this.get("yAxis");let r,s;e===t?(r="valueY",s="stackToItemY"):e===i&&(r="valueX",s="stackToItemX");let o=this._couldStackTo.length,a=0;const l=this.get("stackToNegative");this._reallyStackedTo={},W(this.dataItems,u=>{for(let c=0;c<o;c++){let h=this._couldStackTo[c],d=h.dataItems[a],f=u.get(r);if(d){let y=d.get(r);if(l)if(Y(f)){if(Y(y)){if(c==o-1&&u.setRaw(s,void 0),f>=0&&y>=0){u.setRaw(s,d),this._reallyStackedTo[h.uid]=h,h._stackedSeries[this.uid]=this;break}if(f<0&&y<0){u.setRaw(s,d),this._reallyStackedTo[h.uid]=h,h._stackedSeries[this.uid]=this;break}}}else break;else if(Y(f)&&Y(y)){u.setRaw(s,d),this._reallyStackedTo[h.uid]=h,h._stackedSeries[this.uid]=this;break}}}a++})}processXSelectionDataItem(e,t,i){W(this.__valueXShowFields,r=>{let s=e.get(r);s!=null&&(i&&(s+=this.getStackedXValueWorking(e,r)),this._min("selectionMinX",s),this._max("selectionMaxX",s*t))})}processYSelectionDataItem(e,t,i){W(this.__valueYShowFields,r=>{let s=e.get(r);s!=null&&(i&&(s+=this.getStackedYValueWorking(e,r)),this._min("selectionMinY",s),this._max("selectionMaxY",s*t))})}getStackedYValueWorking(e,t){const i=e.get("stackToItemY");if(i){const r=i.component;return i.get(t,0)*r.get("vcy",1)+this.getStackedYValueWorking(i,t)}return 0}getStackedXValueWorking(e,t){const i=e.get("stackToItemX");if(i){const r=i.component;return i.get(t,0)*r.get("vcx",1)+this.getStackedXValueWorking(i,t)}return 0}getStackedYValue(e,t){const i=e.get("stackToItemY");return i?i.get(t,0)+this.getStackedYValue(i,t):0}getStackedXValue(e,t){const i=e.get("stackToItemX");return i?i.get(t,0)+this.getStackedXValue(i,t):0}createLegendMarker(e){this.updateLegendMarker()}_markDirtyAxes(){this._axesDirty=!0,this.markDirty()}_markDataSetDirty(){this._afterDataChange(),this._valuesDirty=!0,this._dataProcessed=!1,this._aggregatesCalculated=!1,this.markDirty()}_clearDirty(){super._clearDirty(),this._axesDirty=!1,this._selectionProcessed=!1,this._stackDirty=!1,this._dataProcessed=!1}_positionBullet(e){let t=e.get("sprite");if(t){let i=t.dataItem,r=e.get("locationX",i.get("locationX",.5)),s=e.get("locationY",i.get("locationY",.5)),o=this.get("xAxis"),a=this.get("yAxis"),l=this.get("exactLocationX",!1),u=this.get("exactLocationY",!1),c=o.getDataItemPositionX(i,this._xField,r,this.get("vcx",1),l),h=a.getDataItemPositionY(i,this._yField,s,this.get("vcy",1),u),d=this.getPoint(c,h),f=i.get("left",d.x),y=i.get("right",d.x),g=i.get("top",d.y),_=i.get("bottom",d.y),v=0,b=0,x=y-f,P=_-g;if(this._shouldShowBullet(c,h)){t.setPrivate("visible",!e.getPrivate("hidden"));let k=e.get("field");const M=this.get("baseAxis"),A=this.get("xAxis"),T=this.get("yAxis");if(k!=null){let C;M==A?(k=="value"?C=this._yField:k=="open"?C=this._yOpenField:k=="high"?C=this._yHighField:k=="low"&&(C=this._yLowField),C&&(h=T.getDataItemPositionY(i,C,0,this.get("vcy",1),u),d=T.get("renderer").positionToPoint(h),b=d.y,v=f+x*r)):(k=="value"?C=this._xField:k=="open"?C=this._xOpenField:k=="high"?C=this._xHighField:k=="low"&&(C=this._xLowField),C&&(c=A.getDataItemPositionX(i,C,0,this.get("vcx",1),l),d=A.get("renderer").positionToPoint(c),v=d.x,b=_-P*s))}else v=f+x*r,b=_-P*s;const E=e.get("stacked");if(E){const C=this.chart;if(M==A){let D=this._bullets[c+"_"+h];if(D){let N=D.bounds(),R=t.localBounds(),V=b;b=N.top,E=="down"?b=N.bottom-R.top:E=="auto"?C&&(V<C.plotContainer.height()/2?b=N.bottom-R.top:b+=R.bottom):b+=R.bottom}this._bullets[c+"_"+h]=t}else{let D=this._bullets[c+"_"+h];if(D){let N=D.bounds(),R=t.localBounds(),V=v;v=N.right,E=="down"?v=N.left-R.right:E=="auto"?C&&(V<C.plotContainer.width()/2?v=N.left-R.right:v-=R.left):v-=R.left}this._bullets[c+"_"+h]=t}}t.isType("Label")&&(t.setPrivate("maxWidth",Math.abs(x)),t.setPrivate("maxHeight",Math.abs(P))),t.setAll({x:v,y:b})}else t.setPrivate("visible",!1)}}_shouldShowBullet(e,t){return this._showBullets}setDataSet(e){if(this._dataSets[e]){this._handleDataSetChange(),this._dataItems=this._dataSets[e],this._markDataSetDirty(),this._dataSetId=e;const t="datasetchanged";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,id:e})}}resetGrouping(){Ze(this._dataSets,(e,t)=>{t!=this._mainDataItems&&W(t,i=>{i.dispose()})}),this._dataSets={},this._dataItems=this.mainDataItems}_handleDataSetChange(){W(this._dataItems,e=>{let t=e.bullets;t&&W(t,i=>{if(i){let r=i.get("sprite");r&&r.setPrivate("visible",!1)}})}),this._selectionProcessed=!1}show(e){const t=Object.create(null,{show:{get:()=>super.show}});return mi(this,void 0,void 0,function*(){this._fixVC();let i=[];i.push(t.show.call(this,e).then(()=>{this._isShowing=!1;let r=this.get("xAxis"),s=this.get("yAxis"),o=this.get("baseAxis");s!==o&&s.markDirtySelectionExtremes(),r!==o&&r.markDirtySelectionExtremes()})),i.push(this.bulletsContainer.show(e)),i.push(this._sequencedShowHide(!0,e)),yield Promise.all(i)})}hide(e){const t=Object.create(null,{hide:{get:()=>super.hide}});return mi(this,void 0,void 0,function*(){this._fixVC();let i=[];i.push(t.hide.call(this,e).then(()=>{this._isHiding=!1})),i.push(this.bulletsContainer.hide(e)),i.push(this._sequencedShowHide(!1,e)),yield Promise.all(i)})}showDataItem(e,t){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return mi(this,void 0,void 0,function*(){const r=[i.showDataItem.call(this,e,t)];Y(t)||(t=this.get("stateAnimationDuration",0));const s=this.get("stateAnimationEasing");W(this._valueFields,o=>{r.push(e.animate({key:o+"Working",to:e.get(o),duration:t,easing:s}).waitForStop())}),yield Promise.all(r)})}hideDataItem(e,t){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return mi(this,void 0,void 0,function*(){const r=[i.hideDataItem.call(this,e,t)],s=this.states.create("hidden",{});Y(t)||(t=s.get("stateAnimationDuration",this.get("stateAnimationDuration",0)));const o=s.get("stateAnimationEasing",this.get("stateAnimationEasing")),a=this.get("xAxis"),l=this.get("yAxis"),u=this.get("baseAxis"),c=this.get("stacked");if((u===a||!u)&&W(this._valueYFields,h=>{let d=l.getPrivate("min"),f=l.baseValue();Y(d)&&d>f&&(f=d),c&&(f=0),e.get(h)!=null&&r.push(e.animate({key:h+"Working",to:f,duration:t,easing:o}).waitForStop())}),u===l||!u){let h=a.getPrivate("min"),d=a.baseValue();Y(h)&&h>d&&(d=h),c&&(d=0),W(this._valueXFields,f=>{e.get(f)!=null&&r.push(e.animate({key:f+"Working",to:d,duration:t,easing:o}).waitForStop())})}yield Promise.all(r)})}_markDirtyStack(){this._stackDirty=!0,this.markDirty(),this._markStakedDirtyStack()}_markStakedDirtyStack(){const e=this._stackedSeries;e&&Ze(e,(t,i)=>{i._stackDirty||i._markDirtyStack()})}_afterChanged(){super._afterChanged(),this._skipped&&(this._markDirtyAxes(),this._skipped=!1)}showDataItemTooltip(e){this.getPrivate("doNotUpdateLegend")||(this.updateLegendMarker(e),this.updateLegendValue(e));const t=this.get("tooltip"),i=this.get("exactLocationX",!1),r=this.get("exactLocationY",!1);if(t)if(!this.isHidden()&&this.get("visible")){if(t._setDataItem(e),e){let s=this.get("locationX",0),o=this.get("locationY",1),a=e.get("locationX",s),l=e.get("locationY",o);const u=this.get("xAxis"),c=this.get("yAxis"),h=this.get("vcx",1),d=this.get("vcy",1),f=u.getDataItemPositionX(e,this._tooltipFieldX,this._aLocationX0+(this._aLocationX1-this._aLocationX0)*a,h,i),y=c.getDataItemPositionY(e,this._tooltipFieldY,this._aLocationY0+(this._aLocationY1-this._aLocationY0)*l,d,r),g=this.getPoint(f,y);let _=!0;if(W(this._valueFields,v=>{e.get(v)==null&&(_=!1)}),_){const v=this.chart;v&&v.inPlot(g)?(t.label.text.markDirtyText(),t.set("tooltipTarget",this._getTooltipTarget(e)),t.set("pointTo",this._display.toGlobal({x:g.x,y:g.y}))):t._setDataItem(void 0)}else t._setDataItem(void 0)}}else this.hideTooltip()}hideTooltip(){const e=this.get("tooltip");return e&&e.set("tooltipTarget",this),super.hideTooltip()}_getTooltipTarget(e){if(this.get("seriesTooltipTarget")=="bullet"){const t=e.bullets;if(t&&t.length>0){const r=t[0].get("sprite");if(r)return r}}return this}updateLegendValue(e){const t=this.get("legendDataItem");if(t){const i=t.get("label");if(i){let s="";e?(i._setDataItem(e),s=this.get("legendLabelText",i.get("text",this.get("name","")))):(i._setDataItem(this._emptyDataItem),s=this.get("legendRangeLabelText",this.get("legendLabelText",i.get("text",this.get("name",""))))),i.set("text",s)}const r=t.get("valueLabel");if(r){let s="";e?(r._setDataItem(e),s=this.get("legendValueText",r.get("text",""))):(r._setDataItem(this._emptyDataItem),s=this.get("legendRangeValueText",r.get("text",""))),r.set("text",s)}}}_getItemReaderLabel(){let e="X: {"+this._xField;return this.get("xAxis").isType("DateAxis")&&(e+=".formatDate()"),e+="}; Y: {"+this._yField,this.get("yAxis").isType("DateAxis")&&(e+=".formatDate()"),e+="}",e}getPoint(e,t){let i=this.get("xAxis").get("renderer").positionToCoordinate(e),r=this.get("yAxis").get("renderer").positionToCoordinate(t),s=999999999;return r<-s&&(r=-s),r>s&&(r=s),i<-s&&(i=-s),i>s&&(i=s),{x:i,y:r}}_shouldInclude(e){return!0}handleCursorHide(){this.hideTooltip(),this.updateLegendValue(void 0),this.updateLegendMarker(void 0)}_afterDataChange(){super._afterDataChange(),this.get("xAxis")._markDirtyKey("start"),this.get("yAxis")._markDirtyKey("start"),this.resetExtremes()}resetExtremes(){this.setPrivate("selectionMinX",void 0),this.setPrivate("selectionMaxX",void 0),this.setPrivate("selectionMinY",void 0),this.setPrivate("selectionMaxY",void 0),this.setPrivate("minX",void 0),this.setPrivate("minY",void 0),this.setPrivate("maxX",void 0),this.setPrivate("maxY",void 0)}createAxisRange(e){return this.axisRanges.push({axisDataItem:e})}get mainDataItems(){return this._mainDataItems}_adjustStartIndex(e){const t=this.get("xAxis");if(this.get("baseAxis")==t&&t.isType("DateAxis")){const r=t.baseDuration(),s=t.getPrivate("selectionMin",t.getPrivate("min",0)),o=r*this.get("locationX",.5);let a=-1/0;for(;a<s;){const l=this.dataItems[e];if(l){const u=l.open;if(u?a=u.valueX:a=l.get("valueX",0),a+=o,a<s)e++;else break}else break}}return e}}Object.defineProperty(hf,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYSeries"});Object.defineProperty(hf,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:sf.classNames.concat([hf.className])});class df extends Al{constructor(){super(...arguments),Object.defineProperty(this,"_series",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_isPanning",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"minorDataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Me.new(this._root,{}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:Me.new(this._root,{width:de,height:de})}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:Me.new(this._root,{width:de,height:de})}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Me.new(this._root,{isMeasured:!1,width:de,height:de,position:"absolute"}))}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rangesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_panStart",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_panEnd",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_sAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_skipSync",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new Hc}),Object.defineProperty(this,"_seriesAxisRanges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"ghostLabel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cursorPosition",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"_snapToSeries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_seriesValuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_seriesAdded",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisHeader",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Me.new(this._root,{themeTags:["axis","header"],position:"absolute",background:ji.new(this._root,{themeTags:["header","background"],fill:this._root.interfaceColors.get("background")})}))}),Object.defineProperty(this,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_dispose(){this.gridContainer.dispose(),this.topGridContainer.dispose(),this.bulletsContainer.dispose(),this.labelsContainer.dispose(),this.axisHeader.dispose(),super._dispose()}_afterNew(){super._afterNew(),this.setPrivate("updateScrollbar",!0),this._disposers.push(this.axisRanges.events.onAll(t=>{if(t.type==="clear")W(t.oldValues,i=>{i.dispose()});else if(t.type==="push")this._processAxisRange(t.newValue,["range"]);else if(t.type==="setIndex")this._processAxisRange(t.newValue,["range"]);else if(t.type==="insertIndex")this._processAxisRange(t.newValue,["range"]);else if(t.type==="removeIndex")this.disposeDataItem(t.oldValue);else if(t.type==="moveIndex")this._processAxisRange(t.value,["range"]);else throw new Error("Unknown IStreamEvent type")}));const e=this.get("renderer");e&&(e.axis=this,e.processAxis()),this.children.push(e),this.ghostLabel=e.makeLabel(new kr(this,void 0,{}),[]),this.ghostLabel.adapters.disable("text"),this.ghostLabel.setAll({opacity:0,tooltipText:void 0,tooltipHTML:void 0,interactive:!1}),this.ghostLabel.events.disable()}_updateFinals(e,t){}zoom(e,t,i,r){if(this.get("zoomable",!0))if(this._updateFinals(e,t),this.get("start")!==e||this.get("end")!=t){let s=this._sAnimation,o=this._eAnimation,a=this.get("maxDeviation",.5)*Math.min(1,t-e);e<-a&&(e=-a),t>1+a&&(t=1+a),e>t&&([e,t]=[t,e]),Y(i)||(i=this.get("interpolationDuration",0)),r||(r="end");let l=this.getPrivate("maxZoomFactor",this.get("maxZoomFactor",100)),u=l;t===1&&e!==0&&(e<this.get("start",0)?r="start":r="end"),e===0&&t!==1&&(t>this.get("end",1)?r="end":r="start");let c=this.get("minZoomCount",0),h=this.get("maxZoomCount",1/0);Y(c)&&(l=u/c);let d=1;if(Y(h)&&(d=u/h),r==="start"?(h>0&&1/(t-e)<d&&(t=e+1/d),1/(t-e)>l&&(t=e+1/l),t>1&&t-e<1/l&&(e=t-1/l)):(h>0&&1/(t-e)<d&&(e=t-1/d),1/(t-e)>l&&(e=t-1/l),e<0&&t-e<1/l&&(t=e+1/l)),1/(t-e)>l&&(t=e+1/l),1/(t-e)>l&&(e=t-1/l),h!=null&&c!=null&&e==this.get("start")&&t==this.get("end")){const f=this.chart;f&&f._handleAxisSelection(this,!0)}if((s&&s.playing&&s.to==e||this.get("start")==e)&&(o&&o.playing&&o.to==t||this.get("end")==t))return;if(i>0){let f=this.get("interpolationEasing"),y,g;if(this.get("start")!=e&&(y=this.animate({key:"start",to:e,duration:i,easing:f})),this.get("end")!=t&&(g=this.animate({key:"end",to:t,duration:i,easing:f})),this._sAnimation=y,this._eAnimation=g,y)return y;if(g)return g}else this.set("start",e),this.set("end",t)}else this._sAnimation&&this._sAnimation.stop(),this._eAnimation&&this._eAnimation.stop()}get series(){return this._series}_processAxisRange(e,t){e.setRaw("isRange",!0),this._createAssets(e,t),this._rangesDirty=!0,this._prepareDataItem(e);const i=e.get("above"),r=this.topGridContainer,s=e.get("grid");i&&s&&r.children.moveValue(s);const o=e.get("axisFill");i&&o&&r.children.moveValue(o)}_prepareDataItem(e,t){}markDirtyExtremes(){}markDirtySelectionExtremes(){}_calculateTotals(){}_updateAxisRanges(){this._bullets={},this.axisRanges.each(e=>{this._prepareDataItem(e)}),W(this._seriesAxisRanges,e=>{this._prepareDataItem(e)})}_prepareChildren(){if(super._prepareChildren(),this.get("fixAxisSize")?this.ghostLabel.set("visible",!0):this.ghostLabel.set("visible",!1),this.isDirty("start")||this.isDirty("end")){const t=this.chart;t&&t._updateCursor();let i=this.get("start",0),r=this.get("end",1),s=this.get("maxDeviation",.5)*Math.min(1,r-i);if(i<-s){let o=i+s;i=-s,this.setRaw("start",i),this.isDirty("end")&&this.setRaw("end",r-o)}if(r>1+s){let o=r-1-s;r=1+s,this.setRaw("end",r),this.isDirty("start")&&this.setRaw("start",i-o)}}const e=this.get("renderer");if(e._start=this.get("start"),e._end=this.get("end"),e._inversed=e.get("inversed",!1),e._axisLength=e.axisLength()/(e._end-e._start),e._updateLC(),this.isDirty("tooltip")){const t=this.get("tooltip");if(t){const i=e.get("themeTags");t.addTag("axis"),t.addTag(this.className.toLowerCase()),t._applyThemes(),i&&(t.set("themeTags",Ct(t.get("themeTags"),i)),t.label._applyThemes())}}}_updateTooltipBounds(){const e=this.get("tooltip");e&&this.get("renderer").updateTooltipBounds(e)}_updateBounds(){super._updateBounds(),this._updateTooltipBounds()}processChart(e){this.chart=e;const t=this.get("renderer");t.chart=e,e.gridContainer.children.push(this.gridContainer),e.topGridContainer.children.push(this.topGridContainer),e.axisHeadersContainer.children.push(this.axisHeader),this.on("start",()=>{e._handleAxisSelection(this)}),this.on("end",()=>{e._handleAxisSelection(this)}),e.plotContainer.onPrivate("width",()=>{this.markDirtySize()}),e.plotContainer.onPrivate("height",()=>{this.markDirtySize()}),e.processAxis(this)}hideDataItem(e){return this._toggleFHDataItem(e,!0),super.hideDataItem(e)}showDataItem(e){return this._toggleFHDataItem(e,!1),super.showDataItem(e)}_toggleFHDataItem(e,t){const i="forceHidden",r=e.get("label");r&&r.set(i,t);const s=e.get("grid");s&&s.set(i,t);const o=e.get("tick");o&&o.set(i,t);const a=e.get("axisFill");a&&a.set(i,t);const l=e.get("bullet");if(l){const u=l.get("sprite");u&&u.set(i,t)}}_toggleDataItem(e,t){const i=e.get("label"),r="visible";i&&i.setPrivate(r,t);const s=e.get("grid");s&&s.setPrivate(r,t);const o=e.get("tick");o&&o.setPrivate(r,t);const a=e.get("axisFill");a&&a.setPrivate(r,t);const l=e.get("bullet");if(l){const u=l.get("sprite");u&&u.setPrivate(r,t)}}_createAssets(e,t,i){var r,s,o;const a=this.get("renderer");let l="minor";const u=e.get("label");if(!u)a.makeLabel(e,t);else{let d=u.get("themeTags"),f=!1;i?(d==null?void 0:d.indexOf(l))==-1&&(f=!0):(d==null?void 0:d.indexOf(l))!=-1&&(f=!0),f&&((r=u.parent)===null||r===void 0||r.children.removeValue(u),a.makeLabel(e,t),u.dispose(),a.labels.removeValue(u))}const c=e.get("grid");if(!c)a.makeGrid(e,t);else{let d=c.get("themeTags"),f=!1;i?(d==null?void 0:d.indexOf(l))==-1&&(f=!0):(d==null?void 0:d.indexOf(l))!=-1&&(f=!0),f&&((s=c.parent)===null||s===void 0||s.children.removeValue(c),a.makeGrid(e,t),c.dispose(),a.grid.removeValue(c))}const h=e.get("tick");if(!h)a.makeTick(e,t);else{let d=!1,f=h.get("themeTags");i?(f==null?void 0:f.indexOf(l))==-1&&(d=!0):(f==null?void 0:f.indexOf(l))!=-1&&(d=!0),d&&((o=h.parent)===null||o===void 0||o.children.removeValue(h),a.makeTick(e,t),h.dispose(),a.ticks.removeValue(h))}!i&&!e.get("axisFill")&&a.makeAxisFill(e,t),this._processBullet(e)}_processBullet(e){let t=e.get("bullet"),i=this.get("bullet");if(!t&&i&&!e.get("isRange")&&(t=i(this._root,this,e)),t){t.axis=this;const r=t.get("sprite");r&&(r._setDataItem(e),e.setRaw("bullet",t),r.parent||this.bulletsContainer.children.push(r))}}_afterChanged(){super._afterChanged();const e=this.chart;e&&(e._updateChartLayout(),e.axisHeadersContainer.markDirtySize()),this.get("renderer")._updatePositions(),this._seriesAdded=!1}disposeDataItem(e){super.disposeDataItem(e);const t=this.get("renderer"),i=e.get("label");i&&(t.labels.removeValue(i),i.dispose());const r=e.get("tick");r&&(t.ticks.removeValue(r),r.dispose());const s=e.get("grid");s&&(t.grid.removeValue(s),s.dispose());const o=e.get("axisFill");o&&(t.axisFills.removeValue(o),o.dispose());const a=e.get("bullet");a&&a.dispose()}_updateGhost(){this.setPrivate("cellWidth",this.getCellWidthPosition()*this.get("renderer").axisLength());const e=this.ghostLabel;if(!e.isHidden()){const r=e.localBounds(),s=Math.ceil(r.right-r.left);let o=e.get("text");W(this.dataItems,a=>{const l=a.get("label");if(l&&!l.isHidden()){const u=l.localBounds();Math.ceil(u.right-u.left)>s&&(o=l.text._getText())}}),e.set("text",o)}let t=this.get("start",0),i=this.get("end",1);this.get("renderer").updateLabel(e,t+(i-t)*.5)}_handleCursorPosition(e,t){e=this.get("renderer").toAxisPosition(e),this._cursorPosition=e,this._snapToSeries=t,this.updateTooltip()}updateTooltip(){const e=this._snapToSeries;let t=this._cursorPosition;const i=this.get("tooltip"),r=this.get("renderer");Y(t)&&(W(this.series,s=>{if(s.get("baseAxis")===this){const o=this.getSeriesItem(s,t,this.get("tooltipLocation"));e&&e.indexOf(s)!=-1?(s.updateLegendMarker(o),s.updateLegendValue(o),s._settings.tooltipDataItem=o):(s.showDataItemTooltip(o),s.setRaw("tooltipDataItem",o))}}),this.get("snapTooltip")&&(t=this.roundAxisPosition(t,this.get("tooltipLocation",.5))),this.setPrivateRaw("tooltipPosition",t),i&&(r.updateTooltipBounds(i),Qs(t)?i.hide(0):(this._updateTooltipText(i,t),r.positionTooltip(i,t),t<this.get("start",0)||t>this.get("end",1)?i.hide(0):i.show(0))))}_updateTooltipText(e,t){e.label.set("text",this.getTooltipText(t))}roundAxisPosition(e,t){return e}_handleSeriesRemoved(){}handleCursorShow(){let e=this.get("tooltip");e&&e.show()}handleCursorHide(){let e=this.get("tooltip");e&&e.hide()}processSeriesDataItem(e,t){}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._rangesDirty=!1}coordinateToPosition(e){const t=this.get("renderer");return t.toAxisPosition(e/t.axisLength())}toAxisPosition(e){return this.get("renderer").toAxisPosition(e)}toGlobalPosition(e){return this.get("renderer").toGlobalPosition(e)}fixPosition(e){return this.get("renderer").fixPosition(e)}shouldGap(e,t,i,r){return!1}createAxisRange(e){return this.axisRanges.push(e)}_groupSeriesData(e){}getCellWidthPosition(){return .05}}Object.defineProperty(df,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Axis"});Object.defineProperty(df,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Al.classNames.concat([df.className])});class _c extends df{constructor(){super(...arguments),Object.defineProperty(this,"_dirtyExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirtySelectionExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dseHandled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_deltaMinMax",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_minReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_maxReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minRealLog",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_baseValue",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_syncDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minLogAdjusted",{enumerable:!0,configurable:!0,writable:!0,value:1})}markDirtyExtremes(){this._dirtyExtremes=!0,this.markDirty()}markDirtySelectionExtremes(){this._dirtySelectionExtremes=!0,this.markDirty()}_afterNew(){this._settings.themeTags=Ct(this._settings.themeTags,["axis"]),this.setPrivateRaw("name","value"),this.addTag("value"),super._afterNew()}_prepareChildren(){if(super._prepareChildren(),this.isDirty("syncWithAxis")){this._prevSettings.syncWithAxis&&this._syncDp&&this._syncDp.dispose();let i=this.get("syncWithAxis");i&&(this._syncDp=new fi([i.onPrivate("selectionMinFinal",()=>{this._dirtySelectionExtremes=!0}),i.onPrivate("selectionMaxFinal",()=>{this._dirtySelectionExtremes=!0})]))}let e=!1;if((this.isDirty("min")||this.isDirty("max")||this.isDirty("maxPrecision")||this.isDirty("numberFormat"))&&(e=!0,this.ghostLabel.set("text","")),(this._sizeDirty||this._dirtyExtremes||this._valuesDirty||e||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("extraMin")||this.isDirty("extraMax")||this.isDirty("logarithmic")||this.isDirty("treatZeroAs")||this.isDirty("baseValue")||this.isDirty("strictMinMax")||this.isDirty("strictMinMaxSelection"))&&(this._getMinMax(),this._dirtyExtremes=!1),this._handleSizeDirty(),this._dirtySelectionExtremes&&!this._isPanning&&this.get("autoZoom",!0)){const t=this.chart;let i=!1;if(t){const r=this.get("renderer").getPrivate("letter");r=="Y"?t.xAxes.each(s=>{s.className!="ValueAxis"&&(i=!0)}):r=="X"&&t.yAxes.each(s=>{s.className!="ValueAxis"&&(i=!0)})}i&&this._getSelectionMinMax(),this._dirtySelectionExtremes=!1}this._groupData(),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("min")||this.isPrivateDirty("selectionMax")||this.isPrivateDirty("selectionMin")||this.isPrivateDirty("max")||this.isPrivateDirty("step")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("logarithmic"))&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges()),this._baseValue=this.baseValue()}_handleSizeDirty(){this._sizeDirty&&!this._dseHandled&&(this._dirtySelectionExtremes=!0,this._dseHandled=!0,(this.getPrivate("selectionMinFinal")!=this.getPrivate("selectionMin")||this.getPrivate("selectionMaxFinal")!=this.getPrivate("selectionMax"))&&(this._dirtySelectionExtremes=!1))}_clearDirty(){super._clearDirty(),this._dseHandled=!1}_groupData(){}_formatText(e){const t=this.get("numberFormat"),i=this.getNumberFormatter();let r="";return t?r=i.format(e,t):r=i.format(e,void 0,this.getPrivate("stepDecimalPlaces")),r}_prepareAxisItems(){const e=this.getPrivate("min"),t=this.getPrivate("max");if(Y(e)&&Y(t)){const i=this.get("logarithmic"),r=this.getPrivate("step"),s=this.getPrivate("selectionMin"),o=this.getPrivate("selectionMax")+r;let a=s-r,l=1,u=e;if(i){if(a=this._minLogAdjusted,a<s)for(;a<s;)a+=r;u=a,u<=0&&(u=1,r<1&&(Y(this._minRealLog)?u=this._minRealLog:u=Math.pow(10,-50))),l=Math.log(o-r)*Math.LOG10E-Math.log(u)*Math.LOG10E,l>2&&(a=Math.pow(10,Math.log(u)*Math.LOG10E-50))}const c=this.get("renderer"),h=c.get("minorLabelsEnabled"),d=c.get("minorGridEnabled",h);let f=Math.pow(10,Math.floor(Math.log(Math.abs(r))*Math.LOG10E));const y=Math.round(r/f);let g=2;$t(y/5,10)%1==0&&(g=5),$t(y/10,10)%1==0&&(g=10);let _=r/g,v=0,b=0,x=-1/0;for(;a<o;){let P;this.dataItems.length<v+1?(P=new kr(this,void 0,{}),this._dataItems.push(P),this.processDataItem(P)):P=this.dataItems[v],this._createAssets(P,[]),this._toggleDataItem(P,!0),P.setRaw("value",a);const k=P.get("label");k&&k.set("text",this._formatText(a)),this._prepareDataItem(P);let M=a;if(i&&l>2?M=Math.pow(10,Math.log(u)*Math.LOG10E+v-50):M+=r,d){let T=a+_;for(i&&(l>2&&(_=this._adjustMinMax(a,M,10).step),T=a+_);T<M-r*1e-11;){let E;this.minorDataItems.length<b+1?(E=new kr(this,void 0,{}),this.minorDataItems.push(E),this.processDataItem(E)):E=this.minorDataItems[b],this._createAssets(E,["minor"],!0),this._toggleDataItem(E,!0),E.setRaw("value",T);const C=E.get("label");C&&(h?C.set("text",this._formatText(T)):C.setPrivate("visible",!1)),this._prepareDataItem(E),T+=_,b++}}if(a=M,x==a)break;let A=Math.pow(10,Math.floor(Math.log(Math.abs(r))*Math.LOG10E));if(A<1&&!i){let T=Math.round(Math.abs(Math.log(Math.abs(A))*Math.LOG10E))+2;a=$t(a,T)}v++,i&&l<=2&&a-r<r&&(a=r),x=a}for(let P=v;P<this.dataItems.length;P++)this._toggleDataItem(this.dataItems[P],!1);for(let P=b;P<this.minorDataItems.length;P++)this._toggleDataItem(this.minorDataItems[P],!1);W(this.series,P=>{P.inited&&P._markDirtyAxes()}),this._updateGhost()}}_prepareDataItem(e,t){let i=this.get("renderer"),r=e.get("value"),s=e.get("endValue"),o=this.valueToPosition(r),a=o,l=this.valueToPosition(r+this.getPrivate("step"));Y(s)&&(a=this.valueToPosition(s),l=a),e.get("isRange")&&s==null&&(l=o);let u=a,c=e.get("labelEndValue");c!=null&&(u=this.valueToPosition(c)),i.updateLabel(e.get("label"),o,u,t);const h=e.get("grid");if(i.updateGrid(h,o,a),h&&(r==this.get("baseValue",0)?(h.addTag("base"),h._applyThemes()):h.hasTag("base")&&(h.removeTag("base"),h._applyThemes())),i.updateTick(e.get("tick"),o,u,t),i.updateFill(e.get("axisFill"),o,l),this._processBullet(e),i.updateBullet(e.get("bullet"),o,a),!e.get("isRange")){const d=this.get("fillRule");d&&d(e)}}_handleRangeChange(){let e=this.positionToValue(this.get("start",0)),t=this.positionToValue(this.get("end",1));const i=this.get("renderer").gridCount();let r=this._adjustMinMax(e,t,i,!0),s=SB(r.step);this.setPrivateRaw("stepDecimalPlaces",s),e=$t(e,s),t=$t(t,s),r=this._adjustMinMax(e,t,i,!0);let o=r.step;e=r.min,t=r.max,(this.getPrivate("selectionMin")!==e||this.getPrivate("selectionMax")!==t||this.getPrivate("step")!==o)&&(this.setPrivateRaw("selectionMin",e),this.setPrivateRaw("selectionMax",t),this.setPrivateRaw("step",o))}positionToValue(e){const t=this.getPrivate("min"),i=this.getPrivate("max");return this.get("logarithmic")?Math.pow(Math.E,(e*(Math.log(i)*Math.LOG10E-Math.log(t)*Math.LOG10E)+Math.log(t)*Math.LOG10E)/Math.LOG10E):e*(i-t)+t}valueToPosition(e){const t=this.getPrivate("min"),i=this.getPrivate("max");if(this.get("logarithmic")){if(e<=0){let r=this.get("treatZeroAs");Y(r)&&(e=r)}return(Math.log(e)*Math.LOG10E-Math.log(t)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(t)*Math.LOG10E)}else return(e-t)/(i-t)}valueToFinalPosition(e){const t=this.getPrivate("minFinal"),i=this.getPrivate("maxFinal");if(this.get("logarithmic")){if(e<=0){let r=this.get("treatZeroAs");Y(r)&&(e=r)}return(Math.log(e)*Math.LOG10E-Math.log(t)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(t)*Math.LOG10E)}else return(e-t)/(i-t)}getX(e,t,i){e=i+(e-i)*t;const r=this.valueToPosition(e);return this._settings.renderer.positionToCoordinate(r)}getY(e,t,i){e=i+(e-i)*t;const r=this.valueToPosition(e);return this._settings.renderer.positionToCoordinate(r)}getDataItemCoordinateX(e,t,i,r){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,t,i,r))}getDataItemPositionX(e,t,i,r){let s=e.get(t);if(e.get("stackToItemX")){const a=e.component;s=s*r+a.getStackedXValueWorking(e,t)}else s=this._baseValue+(s-this._baseValue)*r;return this.valueToPosition(s)}getDataItemCoordinateY(e,t,i,r){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,t,i,r))}getDataItemPositionY(e,t,i,r){let s=e.get(t);if(e.get("stackToItemY")){const a=e.component;s=s*r+a.getStackedYValueWorking(e,t)}else s=this._baseValue+(s-this._baseValue)*r;return this.valueToPosition(s)}basePosition(){return this.valueToPosition(this.baseValue())}baseValue(){const e=Math.min(this.getPrivate("minFinal",-1/0),this.getPrivate("selectionMin",-1/0)),t=Math.max(this.getPrivate("maxFinal",1/0),this.getPrivate("selectionMax",1/0));let i=this.get("baseValue",0);return i<e&&(i=e),i>t&&(i=t),i}cellEndValue(e){return e}fixSmallStep(e){return 1+e===1?(e*=2,this.fixSmallStep(e)):e}_fixMin(e){return e}_fixMax(e){return e}_calculateTotals(){if(this.get("calculateTotals")){let e=this.series[0];if(e){let t=e.startIndex();if(e.dataItems.length>0){t>0&&t--;let i=e.endIndex();i<e.dataItems.length&&i++;let r,s;e.get("yAxis")==this?(r="valueY",s="vcy"):e.get("xAxis")==this&&(r="valueX",s="vcx");let o=r+"Working";if(r)for(let a=t;a<i;a++){let l=0,u=0;W(this.series,c=>{if(!c.get("excludeFromTotal")){let h=c.dataItems[a];if(h){let d=h.get(o)*c.get(s);Qs(d)||(l+=d,u+=Math.abs(d))}}}),W(this.series,c=>{if(!c.get("excludeFromTotal")){let h=c.dataItems[a];if(h){let d=h.get(o)*c.get(s);Qs(d)||(h.set(r+"Total",u),h.set(r+"Sum",l),h.set(r+"TotalPercent",d/u*100))}}})}}}}}_getSelectionMinMax(){const e=this.getPrivate("minFinal"),t=this.getPrivate("maxFinal"),i=this.get("min"),r=this.get("max");let s=this.get("extraMin",0),o=this.get("extraMax",0);this.get("logarithmic")&&(this.get("extraMin")==null&&(s=.1),this.get("extraMax")==null&&(o=.2));const a=this.get("renderer").gridCount(),l=this.get("strictMinMaxSelection");let u=this.get("strictMinMax");if(Y(e)&&Y(t)){let c=t,h=e;if(W(this.series,P=>{if(!P.get("ignoreMinMax")){let k,M;const A=P.getPrivate("outOfSelection");if(P.get("xAxis")===this){if(!A){let T=P.getPrivate("minX"),E=P.getPrivate("maxX");(P.startIndex()!=0||P.endIndex()!=P.dataItems.length)&&(T=void 0,E=void 0),k=P.getPrivate("selectionMinX",T),M=P.getPrivate("selectionMaxX",E)}}else if(P.get("yAxis")===this&&!A){let T=P.getPrivate("minY"),E=P.getPrivate("maxY");(P.startIndex()!=0||P.endIndex()!=P.dataItems.length)&&(T=void 0,E=void 0),k=P.getPrivate("selectionMinY",T),M=P.getPrivate("selectionMaxY",E)}!P.isHidden()&&!P.isShowing()&&(Y(k)&&(c=Math.min(c,k)),Y(M)&&(h=Math.max(h,M)))}}),this.axisRanges.each(P=>{if(P.get("affectsMinMax")){let k=P.get("value");k!=null&&(c=Math.min(c,k),h=Math.max(h,k)),k=P.get("endValue"),k!=null&&(c=Math.min(c,k),h=Math.max(h,k))}}),c>h&&([c,h]=[h,c]),Y(i)?u?c=i:c=e:u&&Y(this._minReal)&&(c=this._minReal),Y(r)?u?h=r:h=t:u&&Y(this._maxReal)&&(h=this._maxReal),c===h){let P=c;if(c-=this._deltaMinMax,h+=this._deltaMinMax,c<e){let M=P-e;M==0&&(M=this._deltaMinMax),c=P-M,h=P+M,u=!0}let k=this._adjustMinMax(c,h,a,u);c=k.min,h=k.max}let d=c,f=h,y=h-c;c-=y*s,h+=y*o;let g=this._adjustMinMax(c,h,a);c=g.min,h=g.max,c=zt(c,e,t),h=zt(h,e,t),g=this._adjustMinMax(c,h,a,!0),u||(c=g.min,h=g.max);const _=this.get("syncWithAxis");if(_&&(g=this._syncAxes(c,h,g.step,_.getPrivate("selectionMinFinal",_.getPrivate("minFinal",0)),_.getPrivate("selectionMaxFinal",_.getPrivate("maxFinal",1)),_.getPrivate("selectionStepFinal",_.getPrivate("step",1))),g.min<e&&(g.min=e),g.max>t&&(g.max=t),c=g.min,h=g.max),u&&(Y(i)&&(c=Math.max(c,i)),Y(r)&&(h=Math.min(h,r))),l&&(c=d-(f-d)*s,h=f+(f-d)*o),u){Y(i)?c=i:c=d,Y(r)?h=r:h=f,h-c<=1e-8&&(c-=this._deltaMinMax,h+=this._deltaMinMax);let P=h-c;c-=P*s,h+=P*o}this.get("logarithmic")&&(c<=0&&(c=d*(1-Math.min(s,.99))),c<e&&(c=e),h>t&&(h=t));let v=Math.min(20,Math.ceil(Math.log(this.getPrivate("maxZoomFactor",100)+1)/Math.LN10)+2),b=$t(this.valueToFinalPosition(c),v),x=$t(this.valueToFinalPosition(h),v);this.setPrivateRaw("selectionMinFinal",c),this.setPrivateRaw("selectionMaxFinal",h),this.setPrivateRaw("selectionStepFinal",g.step),this.zoom(b,x)}}_getMinMax(){let e=this.get("min"),t=this.get("max"),i=1/0,r=-1/0,s=this.get("extraMin",0),o=this.get("extraMax",0);this.get("logarithmic")&&(this.get("strictMinMax")||(this.get("extraMin")==null&&(s=.1),this.get("extraMax")==null&&(o=.2)));let a=1/0;if(W(this.series,x=>{if(!x.get("ignoreMinMax")){let P,k;if(x.get("xAxis")===this?(P=x.getPrivate("minX"),k=x.getPrivate("maxX")):x.get("yAxis")===this&&(P=x.getPrivate("minY"),k=x.getPrivate("maxY")),Y(P)&&Y(k)){i=Math.min(i,P),r=Math.max(r,k);let M=k-P;M<=0&&(M=Math.abs(k/100)),M<a&&(a=M)}}}),this.axisRanges.each(x=>{if(x.get("affectsMinMax")){let P=x.get("value");P!=null&&(i=Math.min(i,P),r=Math.max(r,P)),P=x.get("endValue"),P!=null&&(i=Math.min(i,P),r=Math.max(r,P))}}),this.get("logarithmic")){let x=this.get("treatZeroAs");Y(x)&&i<=0&&(i=x)}if(i===0&&r===0&&(r=.9,i=-.9),Y(e)&&(i=e),Y(t)&&(r=t),i===1/0||r===-1/0){this.setPrivate("minFinal",void 0),this.setPrivate("maxFinal",void 0);return}i>r&&([i,r]=[r,i]);const l=i,u=r;let c=this.adapters.fold("min",i),h=this.adapters.fold("max",r);this._minRealLog=i,Y(c)&&(i=c),Y(h)&&(r=h),i=this._fixMin(i),r=this._fixMax(r),r-i<=1/Math.pow(10,15)&&(r-i!==0?this._deltaMinMax=(r-i)/2:this._getDelta(r),i-=this._deltaMinMax,r+=this._deltaMinMax),i-=(r-i)*s,r+=(r-i)*o,this.get("logarithmic")&&(i<0&&l>=0&&(i=0),r>0&&u<=0&&(r=0)),this._minReal=i,this._maxReal=r;let d=this.get("strictMinMax"),f=this.get("strictMinMaxSelection",!1);f&&(d=f);let y=d;Y(t)&&(y=!0);let g=this.get("renderer").gridCount(),_=this._adjustMinMax(i,r,g,y);if(i=_.min,r=_.max,_=this._adjustMinMax(i,r,g,!0),i=_.min,r=_.max,d){Y(e)?i=e:i=this._minReal,Y(t)?r=t:r=this._maxReal,r-i<=1e-8&&(i-=this._deltaMinMax,r+=this._deltaMinMax);let x=r-i;i-=x*s,r+=x*o}c=this.adapters.fold("min",i),h=this.adapters.fold("max",r),Y(c)&&(i=c),Y(h)&&(r=h),a==1/0&&(a=r-i);let v=Math.round(Math.abs(Math.log(Math.abs(r-i))*Math.LOG10E))+5;i=$t(i,v),r=$t(r,v);const b=this.get("syncWithAxis");if(b&&(_=this._syncAxes(i,r,_.step,b.getPrivate("minFinal",b.getPrivate("min",0)),b.getPrivate("maxFinal",b.getPrivate("max",1)),b.getPrivate("step",1)),i=_.min,r=_.max),this.setPrivateRaw("maxZoomFactor",Math.max(1,Math.ceil((r-i)/a*this.get("maxZoomFactor",100)))),this._fixZoomFactor(),this.get("logarithmic")&&(this._minLogAdjusted=i,i=this._minReal,r=this._maxReal,i<=0&&(i=l*(1-Math.min(s,.99)))),Y(i)&&Y(r)&&(this.getPrivate("minFinal")!==i||this.getPrivate("maxFinal")!==r)){this.setPrivate("minFinal",i),this.setPrivate("maxFinal",r),this._saveMinMax(i,r);const x=this.get("interpolationDuration",0),P=this.get("interpolationEasing");this.animatePrivate({key:"min",to:i,duration:x,easing:P}),this.animatePrivate({key:"max",to:r,duration:x,easing:P})}}_fixZoomFactor(){}_getDelta(e){let t=Math.log(Math.abs(e))*Math.LOG10E,i=Math.pow(10,Math.floor(t));i=i/10,this._deltaMinMax=i}_saveMinMax(e,t){}_adjustMinMax(e,t,i,r){i<=1&&(i=1),i=Math.round(i);let s=e,o=t,a=t-e;a===0&&(a=Math.abs(t));let l=Math.log(Math.abs(a))*Math.LOG10E,u=Math.pow(10,Math.floor(l));u=u/10;let c=u;r&&(c=0),r?(e=Math.floor(e/u)*u,t=Math.ceil(t/u)*u):(e=Math.ceil(e/u)*u-c,t=Math.floor(t/u)*u+c),e<0&&s>=0&&(e=0),t>0&&o<=0&&(t=0),l=Math.log(Math.abs(a))*Math.LOG10E,u=Math.pow(10,Math.floor(l)),u=u/100;let h=Math.ceil(a/i/u)*u,d=Math.pow(10,Math.floor(Math.log(Math.abs(h))*Math.LOG10E)),f=Math.ceil(h/d);f>5?f=10:f<=5&&f>2&&(f=5),h=Math.ceil(h/(d*f))*d*f;let y=this.get("maxPrecision");if(Y(y)){let b=$ue(h,y);y<Number.MAX_VALUE&&h!==b&&(h=b,h==0&&(h=1))}let g=0;d<1&&(g=Math.round(Math.abs(Math.log(Math.abs(d))*Math.LOG10E))+1,h=$t(h,g));let _=Math.floor(e/h);e=$t(h*_,g);let v;return r?v=Math.floor(t/h):v=Math.ceil(t/h),v===_&&v++,t=$t(h*v,g),t<o&&(t=t+h),e>s&&(e=e-h),h=this.fixSmallStep(h),{min:e,max:t,step:h}}getTooltipText(e,t){const i=this.get("tooltipNumberFormat",this.get("numberFormat")),r=this.getNumberFormatter(),s=this.get("extraTooltipPrecision",0),o=this.getPrivate("stepDecimalPlaces",0)+s,a=$t(this.positionToValue(e),o);return i?r.format(a,i):r.format(a,void 0,o)}getSeriesItem(e,t){let i=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),r=this.positionToValue(t),s,o;if(W(e.dataItems,(a,l)=>{const u=Math.abs(a.get(i)-r);(s===void 0||u<o)&&(s=l,o=u)}),s!=null)return e.dataItems[s]}zoomToValues(e,t,i){const r=this.getPrivate("minFinal",0),s=this.getPrivate("maxFinal",0);this.getPrivate("min")!=null&&this.getPrivate("max")!=null&&this.zoom((e-r)/(s-r),(t-r)/(s-r),i)}_syncAxes(e,t,i,r,s,o){if(this.get("syncWithAxis")){let l=Math.round(s-r)/o,u=Math.round((t-e)/i),c=this.get("renderer").gridCount();if(Y(l)&&Y(u)){let h=!1,d=0,f=(t-e)*.01,y=e,g=t,_=i;for(;h!=!0;)if(h=this._checkSync(y,g,_,l),d++,d>500&&(h=!0),h)e=y,t=g,i=_;else{d/3==Math.round(d/3)?(y=e-f*d,e>=0&&y<0&&(y=0)):(g=t+f*d,g<=0&&g>0&&(g=0));let v=this._adjustMinMax(y,g,c,!0);y=v.min,g=v.max,_=v.step}}}return{min:e,max:t,step:i}}_checkSync(e,t,i,r){let s=(t-e)/i;for(let o=1;o<r;o++)if($t(s/o,1)==r||s*o==r)return!0;return!1}getCellWidthPosition(){let e=this.getPrivate("selectionMax",this.getPrivate("max")),t=this.getPrivate("selectionMin",this.getPrivate("min"));return Y(e)&&Y(t)?this.getPrivate("step",1)/(e-t):.05}nextPosition(e){e==null&&(e=1),this.get("renderer").getPrivate("letter")=="Y"&&(e*=-1);let t=this.positionToValue(this.getPrivate("tooltipPosition",0));return t+=this.getPrivate("step",1)*e,t=zt(t,this.getPrivate("selectionMin",0),this.getPrivate("selectionMax",1)),this.toGlobalPosition(this.valueToPosition(t))}}Object.defineProperty(_c,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ValueAxis"});Object.defineProperty(_c,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:df.classNames.concat([_c.className])});class cy extends _c{constructor(){super(...arguments),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_seriesDataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_groupingCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_intervalDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_baseDuration",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_intervalMax",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_intervalMin",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=Ct(this._settings.themeTags,["axis"]),super._afterNew(),this._setBaseInterval(this.get("baseInterval")),this.on("baseInterval",()=>{this._setBaseInterval(this.get("baseInterval"))})}_setBaseInterval(e){this.setPrivateRaw("baseInterval",e),this._baseDuration=hr(e)}_fixZoomFactor(){const e=this.get("maxZoomFactor");e!=null&&e!=1/0?this.setPrivateRaw("maxZoomFactor",e):this.setPrivateRaw("maxZoomFactor",Math.round((this.getPrivate("max",0)-this.getPrivate("min",0))/this.baseMainDuration()))}_groupData(){const e=this.getPrivate("min"),t=this.getPrivate("max");if(Y(e)&&Y(t)){this._fixZoomFactor();const i=this.getPrivate("groupInterval");if(i?this._setBaseInterval(i):this._setBaseInterval(this.get("baseInterval")),this.isDirty("groupInterval")){let r=this.get("groupInterval");r&&(this.setRaw("groupIntervals",[r]),this._handleRangeChange())}if(this.isDirty("groupData")&&!this._dataGrouped){if(this.get("groupData"))W(this.series,r=>{this._groupSeriesData(r)}),this._handleRangeChange();else{let r=this.get("baseInterval"),s=r.timeUnit+r.count;W(this.series,o=>{o.setDataSet(s),o.resetGrouping()}),this._setBaseInterval(r),this.setPrivateRaw("groupInterval",void 0),this.markDirtyExtremes()}this._dataGrouped=!0}}}_groupSeriesData(e){if(this.get("groupData")&&!e.get("groupDataDisabled")){this._dataGrouped=!0,this._seriesDataGrouped=!0;let t=[],i=this.baseMainDuration(),r=this.get("groupIntervals");W(r,f=>{hr(f)>i&&t.push(f)}),e._dataSets={};const s=this.getPrivate("name")+this.get("renderer").getPrivate("letter");let o;const a=e.get("baseAxis");e.get("xAxis")===a?o=e._valueYFields:e.get("yAxis")===a&&(o=e._valueXFields);let l=e._mainDataItems,u=this.get("baseInterval"),c=u.timeUnit+u.count;e._dataSets[c]=l;const h=e.get("groupDataCallback");let d=e.get("groupDataWithOriginals",!1);h&&(d=!0),W(t,f=>{let y=-1/0,g=f.timeUnit+f.count;e._dataSets[g]=[];let _,v={},b={},x={},P={};W(o,E=>{v[E]=0,b[E]=0,x[E]=e.get(E+"Grouped"),P[E]=E+"Working"});let k=Cn(f.timeUnit),M=l[0],A;M&&(A=l[0].get(s));let T;W(l,E=>{let C=E.get(s),D=Vt(C,f.timeUnit,f.count,this._root,A),N;y<D-k/24?(N=Za(E.dataContext),_=new kr(e,N,e._makeDataItem(N)),_.setRaw(s,D),e._dataSets[g].push(_),W(o,R=>{let V=E.get(R);Y(V)?(_.setRaw(R,V),_.setRaw(P[R],V),b[R]=1,v[R]=V):(v[R]=0,b[R]=0)}),d&&_.set("originals",[E]),h&&T&&h(T,f),T=_):(W(o,R=>{let V=x[R],q=E.get(R);if(q!=null){let ee=_.get(R);switch(V){case"close":_.setRaw(R,q);break;case"sum":_.setRaw(R,ee+q);break;case"open":break;case"low":q<ee&&_.setRaw(R,q);break;case"high":q>ee&&_.setRaw(R,q);break;case"average":b[R]++,v[R]+=q;let F=v[R]/b[R];_.setRaw(R,F);break;case"extreme":Math.abs(q)>Math.abs(ee)&&_.setRaw(R,q);break}_.setRaw(P[R],_.get(R));let H=Za(E.dataContext);H[s]=D,_.dataContext=H}}),d&&_.get("originals").push(E)),y=D}),h&&T&&h(T,f)}),e._dataSetId&&e.setDataSet(e._dataSetId),this.markDirtySize(),this._seriesAdded&&this._root.events.once("frameended",()=>{this.markDirtySize()})}}_clearDirty(){super._clearDirty(),this._groupingCalculated=!1,this._dataGrouped=!1}getGroupInterval(e){let t=this.get("baseInterval"),i=mx(0,e,this.get("groupCount",1/0),this.get("groupIntervals"));return hr(i)<hr(t)&&(i=Object.assign({},t)),i}getIntervalMax(e){return this._intervalMax[e.timeUnit+e.count]}getIntervalMin(e){return this._intervalMin[e.timeUnit+e.count]}_handleRangeChange(){super._handleRangeChange();let e=Math.round(this.getPrivate("selectionMin")),t=Math.round(this.getPrivate("selectionMax"));if(Y(e)&&Y(t)){if(this.get("endLocation")==0&&(t+=1),this.get("groupData")&&!this._groupingCalculated){this._groupingCalculated=!0;let i=this.get("groupInterval"),r=this.getPrivate("groupInterval"),s=t-e+(this.get("startLocation",0)+(1-this.get("endLocation",1))*this.baseDuration());if(r){let o=hr(r);s=Math.ceil(s/o)*o}if(i||(i=this.getGroupInterval(s)),i&&(!r||r.timeUnit!==i.timeUnit||r.count!==i.count||this._seriesDataGrouped)){this._seriesDataGrouped=!1,this.setPrivateRaw("groupInterval",i),this._setBaseInterval(i);let o=i.timeUnit+i.count;W(this.series,a=>{a.get("baseAxis")===this&&a.setDataSet(o)}),this.markDirtyExtremes(),this._root.events.once("frameended",()=>{this._root.events.once("frameended",()=>{const a="groupintervalchanged";this.events.isEnabled(a)&&this.events.dispatch(a,{type:a,target:this})})})}}W(this.series,i=>{if(i.get("baseAxis")===this){let r=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),o=xB(i.dataItems,g=>rs(g.get(r),e)).index;o>0&&(o-=1),t+=this.baseDuration()*(1-this.get("endLocation",1));let l=lx(i.dataItems,g=>rs(g.get(r),t)).index,u=l;u>1&&u--;const c=i.dataItems[o],h=i.dataItems[u];let d,f;c&&(f=c.get(r)),h&&(d=h.get(r));let y=!1;d!=null&&f!=null&&(d<e||f>t)&&(y=!0),i.setPrivate("outOfSelection",y),i.setPrivate("startIndex",o),i.setPrivate("adjustedStartIndex",i._adjustStartIndex(o)),i.setPrivate("endIndex",l),this.root.events.once("frameended",()=>{i._markDirtyPrivateKey("adjustedStartIndex")})}})}}_adjustMinMax(e,t,i,r){return{min:e,max:t,step:(t-e)/i}}intervalDuration(){return this._intervalDuration}_saveMinMax(e,t){let i=this.getPrivate("groupInterval");i||(i=this.get("baseInterval"));let r=i.timeUnit+i.count;this._intervalMin[r]=e,this._intervalMax[r]=t}_getM(e){return e=="month"||e=="year"||e=="day"?1.05:1.01}_getMinorInterval(e){var t;let i,r=e.count,s=e.timeUnit;return r>1&&(r==10||r==15?r=5:r==12?r=2:r==6?r=1:r==30?r=10:r<10&&(r=1),i={timeUnit:s,count:r}),s=="week"&&(((t=this.getPrivate("baseInterval"))===null||t===void 0?void 0:t.timeUnit)!="week"?i={timeUnit:"day",count:1}:i={timeUnit:"week",count:1}),i}_prepareAxisItems(){const e=this.getPrivate("min"),t=this.getPrivate("max");if(Y(e)&&Y(t)){const i=this._root,r=Math.round(this.getPrivate("selectionMin")),s=Math.round(this.getPrivate("selectionMax")),o=this.get("renderer"),a=this.getPrivate("baseInterval");let l=r,u=0;const c=this.get("gridIntervals");let h=mx(0,s-r,o.gridCount(),c);hr(h)<this.baseDuration()&&(h=Object.assign({},a));const d=hr(h);this._intervalDuration=d;const f=VB(h.timeUnit),y=i.utc,g=i.timezone;l=Vt(r-d,h.timeUnit,h.count,i,e);let _=l-d,v;const b=this.get("dateFormats");this.setPrivateRaw("gridInterval",h);const x=o.get("minorLabelsEnabled"),P=o.get("minorGridEnabled",x);let k,M=0;P&&(k=this._getMinorInterval(h),M=hr(k));let A=0;for(;l<s+d;){let T;this.dataItems.length<u+1?(T=new kr(this,void 0,{}),this._dataItems.push(T),this.processDataItem(T)):T=this.dataItems[u],this._createAssets(T,[]),this._toggleDataItem(T,!0),T.setRaw("value",l),T.setRaw("labelEndValue",void 0);let E=l+Cn(h.timeUnit,h.count*this._getM(h.timeUnit));E=Vt(E,h.timeUnit,1,i),T.setRaw("endValue",E);let C=new Date(l);v=b[h.timeUnit],f&&this.get("markUnitChange")&&Y(_)&&h.timeUnit!="year"&&BB(l,_,f,y,g)&&(v=this.get("periodChangeDateFormats")[h.timeUnit]);const D=T.get("label");D&&D.set("text",i.dateFormatter.format(C,v));let N=h.count;if(h.timeUnit=="week"&&T.setRaw("labelEndValue",l),P){N=1;let R=h.timeUnit;R=="week"&&(R="day");let V=l+Cn(R,this._getM(R));V=Vt(V,R,1,i),T.setRaw("labelEndValue",V)}if(this._prepareDataItem(T,N),_=l,l=E,k){const R=k.timeUnit,V=k.count,q=this._getM(R);let ee=Vt(_+M*q,R,V,i,_),H,F=this.get("minorDateFormats",this.get("dateFormats"));for(;ee<l-.01*M;){let j;this.minorDataItems.length<A+1?(j=new kr(this,void 0,{}),this.minorDataItems.push(j),this.processDataItem(j)):j=this.minorDataItems[A],this._createAssets(j,["minor"],!0),this._toggleDataItem(j,!0),j.setRaw("value",ee);let L=ee+Cn(R,V*q);L=Vt(L,R,1,i),j.setRaw("endValue",L);let B=new Date(ee);v=F[R];const z=j.get("label");if(z&&(x?z.set("text",i.dateFormatter.format(B,v)):z.setPrivate("visible",!1)),this._prepareDataItem(j,1),ee==H)break;H=ee,ee=L,A++}}if(l==_)break;u++}for(let T=u;T<this.dataItems.length;T++)this._toggleDataItem(this.dataItems[T],!1);for(let T=A;T<this.minorDataItems.length;T++)this._toggleDataItem(this.minorDataItems[T],!1);W(this.series,T=>{T.inited&&T._markDirtyAxes()})}this._updateGhost()}_updateFinals(e,t){this.setPrivateRaw("selectionMinFinal",this.positionToValue(e)),this.setPrivateRaw("selectionMaxFinal",this.positionToValue(t))}_getDelta(){this._deltaMinMax=this.baseDuration()/2}_fixMin(e){const t=this.getPrivate("baseInterval"),i=t.timeUnit;let r=Vt(e,i,t.count,this._root),s=r+Cn(i,t.count*this._getM(i));return s=Vt(s,i,1,this._root),r+(s-r)*this.get("startLocation",0)}_fixMax(e){const t=this.getPrivate("baseInterval"),i=t.timeUnit;let r=Vt(e,i,t.count,this._root),s=r+Cn(i,t.count*this._getM(i));return s=Vt(s,i,1,this._root),r+(s-r)*this.get("endLocation",1)}_updateDates(e,t){}_handleSeriesRemoved(){this.setPrivate("baseInterval",this.get("baseInterval")),this.setPrivate("min",void 0),this.setPrivate("minFinal",void 0)}baseDuration(){return this._baseDuration}baseMainDuration(){return hr(this.get("baseInterval"))}processSeriesDataItem(e,t){const i=this.getPrivate("baseInterval");e.open||(e.open={}),e.close||(e.close={}),W(t,r=>{let s=e.get(r);if(Y(s)){let o=e.open[r],a=e.close[r];if(!(s>=o&&s<=a)){const l=i.timeUnit,u=i.count;o=Vt(s,l,u,this._root),a=o+Cn(l,u*this._getM(l)),a=Vt(a,l,1,this._root),e.open[r]=o,e.close[r]=a}this._updateDates(o,e.component)}})}_handleSizeDirty(){}getDataItemPositionX(e,t,i,r,s){let o,a,l;return s?l=e.get(t):(e.open&&e.close?(o=e.open[t],a=e.close[t]):(o=e.get(t),a=o),l=o+(a-o)*i,l=this._baseValue+(l-this._baseValue)*r),this.valueToPosition(l)}getDataItemCoordinateX(e,t,i,r){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,t,i,r))}getDataItemPositionY(e,t,i,r,s){let o,a,l;return s?l=e.get(t):(e.open&&e.close?(o=e.open[t],a=e.close[t]):(o=e.get(t),a=o),l=o+(a-o)*i,l=this._baseValue+(l-this._baseValue)*r),this.valueToPosition(l)}getDataItemCoordinateY(e,t,i,r){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,t,i,r))}roundAxisPosition(e,t){let i=this.positionToValue(e);i=i-(t-.5)*this.baseDuration();let r=this.getPrivate("baseInterval");if(!Qs(i)){const s=this._root.locale.firstDayOfWeek,o=r.timeUnit,a=this._root.utc,l=this._root.timezone,u=r.count;i=Vt(i,o,u,this._root,this.getPrivate("min",0));let c=Ob(r,new Date(i),s,a,l);return l&&(i=Vt(i+this.baseDuration()*.05,o,u,this._root,this.getPrivate("min",0)),c=Ob(r,new Date(i+c*t),s,a,l)),this.valueToPosition(i+c*t)}return NaN}getTooltipText(e,t){if(this.getPrivate("min")!=null){let i=this.get("tooltipDateFormats")[this.getPrivate("baseInterval").timeUnit],r=this.positionToValue(e);if(Y(r)){let s=new Date(r),o=this.getPrivate("baseInterval"),a=Ob(o,s,this._root.locale.firstDayOfWeek,this._root.utc,this._root.timezone);return t!==!1&&(s=new Date(r+this.get("tooltipIntervalOffset",-this.get("tooltipLocation",.5))*a)),this._root.dateFormatter.format(s,this.get("tooltipDateFormat",i))}}return""}getSeriesItem(e,t,i,r){let s=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),o=this.positionToValue(t);i==null&&(i=.5),o=o-(i-.5)*this.baseDuration();const a=lx(e.dataItems,l=>{let u=0;return l.open&&(u=l.open[s]),rs(u,o)});if(r||e.get("snapTooltip")){let l=e.dataItems[a.index-1],u=e.dataItems[a.index];if(l&&u&&l.open&&u.close){let c=l.open[s],h=u.close[s];if(Math.abs(o-c)>Math.abs(o-h))return u}if(l)return l;if(u)return u}else{const l=e.dataItems[a.index-1];if(l&&l.open&&l.close){let u=l.open[s],c=l.close[s];if(o>=u&&o<=c)return l}}}shouldGap(e,t,i,r){const s=e.get(r);return t.get(r)-s>this.baseDuration()*i}zoomToDates(e,t,i){this.zoomToValues(e.getTime(),t.getTime(),i)}zoomToValues(e,t,i){const r=this.getPrivate("minFinal",0),s=this.getPrivate("maxFinal",0);if(this.getPrivate("min")!=null&&this.getPrivate("max")!=null)if(this.get("groupData")){const o=this.getGroupInterval(t-e),a=this.get("baseInterval");let l=this.getIntervalMin(a),u=this.getIntervalMax(a)-1;u=Vt(u,o.timeUnit,o.count,this.root),u+=this._getM(o.timeUnit)*hr(o),u=Vt(u,o.timeUnit,o.count,this.root);let c=Vt(l,o.timeUnit,o.count,this.root),h=Vt(u,o.timeUnit,o.count,this.root),d=(e-c)/(h-c),f=(t-c)/(h-c);this.zoom(d,f,i)}else this.zoom((e-r)/(s-r),(t-r)/(s-r),i)}positionToDate(e){return new Date(this.positionToValue(e))}dateToPosition(e){return this.valueToPosition(e.getTime())}getCellWidthPosition(){let e=this.getPrivate("selectionMax",this.getPrivate("max")),t=this.getPrivate("selectionMin",this.getPrivate("min"));return Y(e)&&Y(t)?this._intervalDuration/(e-t):.05}nextPosition(e){e==null&&(e=1);let t=this.get("tooltipLocation",.5)*this.baseDuration();this.get("renderer").getPrivate("letter")=="Y"&&(e*=-1);let i=this.positionToValue(this.getPrivate("tooltipPosition",0));const r=this.getPrivate("baseInterval");let s=this._nextTime(i,e,r),o=this.getPrivate("selectionMin",0),a=this.getPrivate("selectionMax",0),l=Vt(o,r.timeUnit,r.count,this._root),u=Vt(a,r.timeUnit,r.count,this._root);return s+=t,s=zt(s,l+t,u-t),this.toGlobalPosition(this.valueToPosition(s))}_nextTime(e,t,i){return Vt(e+t*this.baseDuration(),i.timeUnit,i.count,this._root)}}Object.defineProperty(cy,"className",{enumerable:!0,configurable:!0,writable:!0,value:"DateAxis"});Object.defineProperty(cy,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:_c.classNames.concat([cy.className])});class hy extends va{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(hy,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabel"});Object.defineProperty(hy,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:va.classNames.concat([hy.className])});class dy extends uf{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(dy,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisTick"});Object.defineProperty(dy,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:uf.classNames.concat([dy.className])});class kl extends ct{constructor(){super(...arguments),Object.defineProperty(this,"_axisLength",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"_start",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_end",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_inversed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_minSize",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lc",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_ls",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_thumbDownPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Fo(Sn.new({}),()=>dy._new(this._root,{themeTags:Ct(this.ticks.template.get("themeTags",[]),this.get("themeTags",[]))},[this.ticks.template])))}),Object.defineProperty(this,"grid",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Fo(Sn.new({}),()=>bc._new(this._root,{themeTags:Ct(this.grid.template.get("themeTags",[]),this.get("themeTags",[]))},[this.grid.template])))}),Object.defineProperty(this,"axisFills",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Fo(Sn.new({}),()=>ct._new(this._root,{themeTags:Ct(this.axisFills.template.get("themeTags",["axis","fill"]),this.get("themeTags",[]))},[this.axisFills.template])))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Fo(Sn.new({}),()=>hy._new(this._root,{themeTags:Ct(this.labels.template.get("themeTags",[]),this.get("themeTags",[]))},[this.labels.template])))}),Object.defineProperty(this,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}makeTick(e,t){const i=this.ticks.make();return i._setDataItem(e),e.setRaw("tick",i),i.set("themeTags",Ct(i.get("themeTags"),t)),this.axis.labelsContainer.children.push(i),this.ticks.push(i),i}makeGrid(e,t){const i=this.grid.make();return i._setDataItem(e),e.setRaw("grid",i),i.set("themeTags",Ct(i.get("themeTags"),t)),this.axis.gridContainer.children.push(i),this.grid.push(i),i}makeAxisFill(e,t){const i=this.axisFills.make();return i._setDataItem(e),i.set("themeTags",Ct(i.get("themeTags"),t)),this.axis.gridContainer.children.push(i),e.setRaw("axisFill",i),this.axisFills.push(i),i}makeLabel(e,t){const i=this.labels.make();return i.set("themeTags",Ct(i.get("themeTags"),t)),this.axis.labelsContainer.children.moveValue(i,0),i._setDataItem(e),e.setRaw("label",i),this.labels.push(i),i}axisLength(){return 0}gridCount(){return this.axisLength()/this.get("minGridDistance",50)}_updatePositions(){}_afterNew(){super._afterNew(),this.set("isMeasured",!1);const e=this.thumb;e&&(this._disposers.push(e.events.on("pointerdown",t=>{this._handleThumbDown(t)})),this._disposers.push(e.events.on("globalpointerup",t=>{this._handleThumbUp(t)})),this._disposers.push(e.events.on("globalpointermove",t=>{this._handleThumbMove(t)})))}_beforeChanged(){super._beforeChanged(),this.isDirty("minGridDistance")&&this.root.events.once("frameended",()=>{this.axis.markDirtySize()})}_changed(){if(super._changed(),this.isDirty("pan")){const e=this.thumb;if(e){const t=this.axis.labelsContainer,i=this.get("pan");i=="zoom"?t.children.push(e):i=="none"&&t.children.removeValue(e)}}}_handleThumbDown(e){this._thumbDownPoint=this.toLocal(e.point);const t=this.axis;this._downStart=t.get("start"),this._downEnd=t.get("end")}_handleThumbUp(e){this._thumbDownPoint=void 0}_handleThumbMove(e){const t=this._thumbDownPoint;if(t){const i=this.toLocal(e.point),r=this._downStart,s=this._downEnd,o=this._getPan(i,t)*Math.min(1,s-r)/2*this.get("panSensitivity",1);this.axis.zoom(r-o,s+o,0)}}_getPan(e,t){return 0}positionToCoordinate(e){return this._inversed?(this._end-e)*this._axisLength:(e-this._start)*this._axisLength}updateTooltipBounds(e){}_updateSize(){this.markDirty(),this._clear=!0}toAxisPosition(e){const t=this._start||0,i=this._end||1;return e=e*(i-t),this.get("inversed")?e=i-e:e=t+e,e}toGlobalPosition(e){const t=this._start||0,i=this._end||1;return this.get("inversed")?e=i-e:e=e-t,e=e/(i-t),e}fixPosition(e){return this.get("inversed")?1-e:e}_updateLC(){}toggleVisibility(e,t,i,r){let s=this.axis;const o=s.get("start",0),a=s.get("end",1);let l=o+(a-o)*(i-1e-4),u=o+(a-o)*(r+1e-4);t<l||t>u?e.setPrivate("visible",!1):e.setPrivate("visible",!0)}_positionTooltip(e,t){const i=this.chart;i&&(e.set("pointTo",this._display.toGlobal(t)),i.inPlot(t)||e.hide())}processAxis(){}}Object.defineProperty(kl,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRenderer"});Object.defineProperty(kl,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ct.classNames.concat([kl.className])});class fy extends kl{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:ji.new(this._root,{width:de,isMeasured:!1,themeTags:["axis","x","thumb"]})})}_afterNew(){this._settings.themeTags=Ct(this._settings.themeTags,["renderer","x"]),super._afterNew(),this.setPrivateRaw("letter","X");const e=this.grid.template;e.set("height",de),e.set("width",0),e.set("draw",(t,i)=>{t.moveTo(0,0),t.lineTo(0,i.height())}),this.set("draw",(t,i)=>{t.moveTo(0,0),t.lineTo(i.width(),0)})}_changed(){super._changed();const e=this.axis;e.ghostLabel.setPrivate("visible",!this.get("inside")),e.ghostLabel.set("x",-1e3);const t="opposite",i="inside";if(this.isDirty(t)||this.isDirty(i)){const r=this.chart,s=e.children;if(this.get(i)?e.addTag(i):e.removeTag(i),r){if(this.get(t)){const o=r.topAxesContainer.children;o.indexOf(e)==-1&&o.insertIndex(0,e),e.addTag(t),s.moveValue(this)}else{const o=r.bottomAxesContainer.children;o.indexOf(e)==-1&&o.moveValue(e),e.removeTag(t),s.moveValue(this,0)}e.ghostLabel._applyThemes(),this.labels.each(o=>{o._applyThemes()}),this.root._markDirtyRedraw()}e.markDirtySize()}this.thumb.setPrivate("height",e.labelsContainer.height())}_getPan(e,t){return(t.x-e.x)/this.width()}toAxisPosition(e){const t=this._start||0,i=this._end||1;return e-=this._ls,e=e*(i-t)/this._lc,this.get("inversed")?e=i-e:e=t+e,e}toGlobalPosition(e){const t=this._start||0,i=this._end||1;return this.get("inversed")?e=i-e:e=e-t,e=e/(i-t)*this._lc,e+=this._ls,e}_updateLC(){const e=this.axis,t=e.parent;if(t){const i=t.innerWidth();this._lc=this.axisLength()/i,this._ls=(e.x()-t.get("paddingLeft",0))/i}}_updatePositions(){const e=this.axis,t=e.x()-zn(e.get("centerX",0),e.width())-e.parent.get("paddingLeft",0);e.gridContainer.set("x",t),e.topGridContainer.set("x",t),e.bulletsContainer.set("y",this.y());const i=e.chart;if(i){const r=i.plotContainer,s=e.axisHeader;let o=e.get("marginLeft",0),a=e.x()-o;const l=e.parent;l&&(a-=l.get("paddingLeft",0)),s.children.length>0?(o=e.axisHeader.width(),e.set("marginLeft",o+1)):s.set("width",o),s.setAll({x:a,y:-1,height:r.height()+2})}}processAxis(){super.processAxis();const e=this.axis;e.get("width")==null&&e.set("width",de);const t=this._root.verticalLayout;e.set("layout",t),e.labelsContainer.set("width",de),e.axisHeader.setAll({layout:t})}axisLength(){return this.axis.width()}positionToPoint(e){return{x:this.positionToCoordinate(e),y:0}}updateTick(e,t,i,r){if(e){Y(t)||(t=0);let s=.5;Y(r)&&r>1?s=e.get("multiLocation",s):s=e.get("location",s),Y(i)&&i!=t&&(t=t+(i-t)*s),e.set("x",this.positionToCoordinate(t));let o=e.get("length",0);const a=e.get("inside",this.get("inside",!1));this.get("opposite")?(e.set("y",de),a||(o*=-1)):(e.set("y",0),a&&(o*=-1)),e.set("draw",l=>{l.moveTo(0,0),l.lineTo(0,o)}),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}updateLabel(e,t,i,r){if(e){let s=.5;Y(r)&&r>1?s=e.get("multiLocation",s):s=e.get("location",s),Y(t)||(t=0);const o=e.get("inside",this.get("inside",!1));this.get("opposite")?o?(e.set("position","absolute"),e.set("y",0)):(e.set("position","relative"),e.set("y",de)):o?(e.set("y",0),e.set("position","absolute")):(e.set("y",void 0),e.set("position","relative")),Y(i)&&i!=t&&(t=t+(i-t)*s),e.set("x",this.positionToCoordinate(t)),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}updateGrid(e,t,i){if(e){Y(t)||(t=0);let r=e.get("location",.5);Y(i)&&i!=t&&(t=t+(i-t)*r),e.set("x",this.positionToCoordinate(t)),this.toggleVisibility(e,t,0,1)}}updateBullet(e,t,i){if(e){const r=e.get("sprite");if(r){Y(t)||(t=0);let s=e.get("location",.5);Y(i)&&i!=t&&(t=t+(i-t)*s);let o=this.axis.roundAxisPosition(t,s),a=this.axis._bullets[o],l=-1;if(this.get("opposite")&&(l=1),e.get("stacked"))if(a){let u=a.get("sprite");u&&r.set("y",u.y()+u.height()*l)}else r.set("y",0);this.axis._bullets[o]=e,r.set("x",this.positionToCoordinate(t)),this.toggleVisibility(r,t,0,1)}}}updateFill(e,t,i){if(e){Y(t)||(t=0),Y(i)||(i=1);let r=this.positionToCoordinate(t),s=this.positionToCoordinate(i);this.fillDrawMethod(e,r,s)}}fillDrawMethod(e,t,i){e.set("draw",r=>{const s=this.axis.gridContainer.height(),o=this.width();i<t&&([i,t]=[t,i]),!(t>o||i<0)&&(r.moveTo(t,0),r.lineTo(i,0),r.lineTo(i,s),r.lineTo(t,s),r.lineTo(t,0))})}positionTooltip(e,t){this._positionTooltip(e,{x:this.positionToCoordinate(t),y:0})}updateTooltipBounds(e){const t=this.get("inside"),i=1e5;let r=this._display.toGlobal({x:0,y:0}),s=r.x,o=0,a=this.axisLength(),l=i,u="up";this.get("opposite")?t?(u="up",o=r.y,l=i):(u="down",o=r.y-i,l=i):t?(u="down",o=r.y-i,l=i):(u="up",o=r.y,l=i);const c={left:s,right:s+a,top:o,bottom:o+l},h=e.get("bounds");kB(c,h)||(e.set("bounds",c),e.set("pointerOrientation",u))}}Object.defineProperty(fy,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererX"});Object.defineProperty(fy,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:kl.classNames.concat([fy.className])});class py extends kl{constructor(){super(...arguments),Object.defineProperty(this,"_downY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:ji.new(this._root,{height:de,isMeasured:!1,themeTags:["axis","y","thumb"]})})}_afterNew(){this._settings.themeTags=Ct(this._settings.themeTags,["renderer","y"]),this._settings.opposite&&this._settings.themeTags.push("opposite"),super._afterNew(),this.setPrivateRaw("letter","Y");const e=this.grid.template;e.set("width",de),e.set("height",0),e.set("draw",(t,i)=>{t.moveTo(0,0),t.lineTo(i.width(),0)}),this.set("draw",(t,i)=>{t.moveTo(0,0),t.lineTo(0,i.height())})}_getPan(e,t){return(e.y-t.y)/this.height()}_changed(){super._changed();const e=this.axis;e.ghostLabel.setPrivate("visible",!this.get("inside")),e.ghostLabel.set("y",-1e3);const t=this.thumb,i="opposite",r="inside",s=this.chart;if(this.isDirty(i)||this.isDirty(r)){const a=e.children;if(this.get(r)?e.addTag(r):e.removeTag(r),s){if(this.get(i)){const l=s.rightAxesContainer.children;l.indexOf(e)==-1&&l.moveValue(e,0),e.addTag(i),a.moveValue(this,0)}else{const l=s.leftAxesContainer.children;l.indexOf(e)==-1&&l.moveValue(e),e.removeTag(i),a.moveValue(this)}e.ghostLabel._applyThemes(),this.labels.each(l=>{l._applyThemes()}),this.root._markDirtyRedraw()}e.markDirtySize()}const o=e.labelsContainer.width();s&&(this.get(i)?t.set("centerX",0):t.set("centerX",o)),t.setPrivate("width",o)}processAxis(){super.processAxis();const e=this.axis;e.get("height")==null&&e.set("height",de);const t=this._root.horizontalLayout;e.set("layout",t),e.labelsContainer.set("height",de),e.axisHeader.set("layout",t)}_updatePositions(){const e=this.axis,t=e.y()-zn(e.get("centerY",0),e.height());e.gridContainer.set("y",t),e.topGridContainer.set("y",t),e.bulletsContainer.set("x",this.x());const i=e.chart;if(i){const r=i.plotContainer,s=e.axisHeader;let o=e.get("marginTop",0);s.children.length>0?(o=e.axisHeader.height(),e.set("marginTop",o+1)):s.set("height",o),s.setAll({y:e.y()-o,x:-1,width:r.width()+2})}}axisLength(){return this.axis.innerHeight()}positionToPoint(e){return{x:0,y:this.positionToCoordinate(e)}}updateLabel(e,t,i,r){if(e){Y(t)||(t=0);let s=.5;Y(r)&&r>1?s=e.get("multiLocation",s):s=e.get("location",s);const o=this.get("opposite"),a=e.get("inside",this.get("inside",!1));o?(e.set("x",0),a?e.set("position","absolute"):e.set("position","relative")):a?(e.set("x",0),e.set("position","absolute")):(e.set("x",void 0),e.set("position","relative")),Y(i)&&i!=t&&(t=t+(i-t)*s),e.set("y",this.positionToCoordinate(t)),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}updateGrid(e,t,i){if(e){Y(t)||(t=0);let r=e.get("location",.5);Y(i)&&i!=t&&(t=t+(i-t)*r),e.set("y",this.positionToCoordinate(t)),this.toggleVisibility(e,t,0,1)}}updateTick(e,t,i,r){if(e){Y(t)||(t=0);let s=.5;Y(r)&&r>1?s=e.get("multiLocation",s):s=e.get("location",s),Y(i)&&i!=t&&(t=t+(i-t)*s),e.set("y",this.positionToCoordinate(t));let o=e.get("length",0);const a=e.get("inside",this.get("inside",!1));this.get("opposite")?(e.set("x",0),a&&(o*=-1)):a||(o*=-1),e.set("draw",l=>{l.moveTo(0,0),l.lineTo(o,0)}),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}updateBullet(e,t,i){if(e){const r=e.get("sprite");if(r){Y(t)||(t=0);let s=e.get("location",.5);Y(i)&&i!=t&&(t=t+(i-t)*s);let o=this.axis.roundAxisPosition(t,s),a=this.axis._bullets[o],l=1;if(this.get("opposite")&&(l=-1),e.get("stacked"))if(a){let u=a.get("sprite");u&&r.set("x",u.x()+u.width()*l)}else r.set("x",0);this.axis._bullets[o]=e,r.set("y",this.positionToCoordinate(t)),this.toggleVisibility(r,t,0,1)}}}updateFill(e,t,i){if(e){Y(t)||(t=0),Y(i)||(i=1);let r=this.positionToCoordinate(t),s=this.positionToCoordinate(i);this.fillDrawMethod(e,r,s)}}fillDrawMethod(e,t,i){e.set("draw",r=>{const s=this.axis.gridContainer.width(),o=this.height();i<t&&([i,t]=[t,i]),!(t>o||i<0)&&(r.moveTo(0,t),r.lineTo(s,t),r.lineTo(s,i),r.lineTo(0,i),r.lineTo(0,t))})}positionToCoordinate(e){return this._inversed?(e-this._start)*this._axisLength:(this._end-e)*this._axisLength}positionTooltip(e,t){this._positionTooltip(e,{x:0,y:this.positionToCoordinate(t)})}updateTooltipBounds(e){const t=this.get("inside"),i=1e5;let r=this._display.toGlobal({x:0,y:0}),s=r.y,o=0,a=this.axisLength(),l=i,u="right";this.get("opposite")?t?(u="right",o=r.x-i,l=i):(u="left",o=r.x,l=i):t?(u="left",o=r.x,l=i):(u="right",o=r.x-i,l=i);const c={left:o,right:o+l,top:s,bottom:s+a},h=e.get("bounds");kB(c,h)||(e.set("bounds",c),e.set("pointerOrientation",u))}_updateLC(){const e=this.axis,t=e.parent;if(t){const i=t.innerHeight();this._lc=this.axisLength()/i,this._ls=e.y()/i}}toAxisPosition(e){const t=this._start||0,i=this._end||1;return e-=this._ls,e=e*(i-t)/this._lc,this.get("inversed")?e=t+e:e=i-e,e}toGlobalPosition(e){const t=this._start||0,i=this._end||1;return this.get("inversed")?e=e-t:e=i-e,e=e/(i-t)*this._lc,e+=this._ls,e}fixPosition(e){return this.get("inversed")?e:1-e}}Object.defineProperty(py,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererY"});Object.defineProperty(py,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:kl.classNames.concat([py.className])});class my extends hf{constructor(){super(...arguments),Object.defineProperty(this,"_endIndex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeGenerator",{enumerable:!0,configurable:!0,writable:!0,value:XB()}),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:Qce()}),Object.defineProperty(this,"_legendStroke",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_legendFill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"strokes",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Fo(Sn.new({}),()=>ct._new(this._root,{themeTags:Ct(this.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template])))}),Object.defineProperty(this,"fills",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new Fo(Sn.new({}),()=>ct._new(this._root,{themeTags:Ct(this.strokes.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template])))}),Object.defineProperty(this,"_fillTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_previousPoint",{enumerable:!0,configurable:!0,writable:!0,value:[0,0,0,0]}),Object.defineProperty(this,"_dindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_sindex",{enumerable:!0,configurable:!0,writable:!0,value:0})}_afterNew(){this._fillGenerator.y0(function(e){return e[3]}),this._fillGenerator.x0(function(e){return e[2]}),this._fillGenerator.y1(function(e){return e[1]}),this._fillGenerator.x1(function(e){return e[0]}),super._afterNew()}makeStroke(e){const t=this.mainContainer.children.push(e.make());return e.push(t),t}makeFill(e){const t=this.mainContainer.children.push(e.make());return e.push(t),t}_updateChildren(){this._strokeTemplate=void 0,this._fillTemplate=void 0;let e=this.get("xAxis"),t=this.get("yAxis");if(this.isDirty("stroke")){const i=this.get("stroke");this.strokes.template.set("stroke",i);const r=this._legendStroke;r&&r.states.lookup("default").set("stroke",i)}if(this.isDirty("fill")){const i=this.get("fill");this.fills.template.set("fill",i);const r=this._legendFill;r&&r.states.lookup("default").set("fill",i)}if(this.isDirty("fillPattern")){const i=this.get("fillPattern");this.fills.template.set("fillPattern",i);const r=this._legendFill;r&&r.states.lookup("default").set("fillPattern",i)}if(this.isDirty("curveFactory")){const i=this.get("curveFactory");i&&(this._strokeGenerator.curve(i),this._fillGenerator.curve(i))}if(e.inited&&t.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty||this.isDirty("connect")||this.isDirty("curveFactory")){this.fills.each(c=>{c.setPrivate("visible",!1)}),this.strokes.each(c=>{c.setPrivate("visible",!1)}),this.axisRanges.each(c=>{let h=c.fills;h&&h.each(f=>{f.setPrivate("visible",!1)});let d=c.strokes;d&&d.each(f=>{f.setPrivate("visible",!1)})});let i=this.startIndex(),r=this.strokes.template.get("templateField"),s=this.fills.template.get("templateField"),o=!0,a=!0;r&&(o=!1),s&&(a=!1);for(let c=i-1;c>=0;c--){let h=this.dataItems[c],d=!0,f=h.dataContext;if(r&&f[r]&&(o=!0),s&&f[s]&&(a=!0),W(this._valueFields,y=>{Y(h.get(y))||(d=!1)}),d&&o&&a){i=c;break}}let l=this.dataItems.length,u=this.endIndex();if(u<l){u++;for(let c=u;c<l;c++){let h=this.dataItems[c],d=!0;if(W(this._valueFields,f=>{Y(h.get(f))||(d=!1)}),d){u=c+1;break}}}if(i>0&&i--,this._endIndex=u,this._clearGraphics(),this._sindex=0,this._dindex=i,this.dataItems.length==1)this._startSegment(0);else for(;this._dindex<u-1;)this._startSegment(this._dindex),this._sindex++}}else this._skipped=!0;super._updateChildren()}_clearGraphics(){this.strokes.clear(),this.fills.clear(),this.axisRanges.each(e=>{e.fills.clear(),e.strokes.clear()})}_startSegment(e){let t=this._endIndex,i=t;const r=this.get("autoGapCount"),s=this.get("connect"),o=this.makeFill(this.fills),a=this._fillTemplate,l=this.fills.template;a&&a!=l&&(o.template=a),o.setPrivate("visible",!0);const u=this.makeStroke(this.strokes),c=this._strokeTemplate;c&&c!=this.strokes.template&&(u.template=c),u.setPrivate("visible",!0);let h=this.get("xAxis"),d=this.get("yAxis"),f=this.get("baseAxis"),y=this.get("vcx",1),g=this.get("vcy",1),_=this._xField,v=this._yField,b=this._xOpenField,x=this._yOpenField;const P=this.get("openValueXField"),k=this.get("openValueYField");P||(b=this._xField),k||(x=this._yField);const M=this.get("stacked"),A=h.basePosition(),T=d.basePosition();let E;f===d?E=this._yField:E=this._xField;const C=[];let D=[];C.push(D);const N=this.strokes.template.get("templateField"),R=this.fills.template.get("templateField");let V=this.get("locationX",.5),q=this.get("locationY",.5),ee=this.get("openLocationX",V),H=this.get("openLocationY",q);const F=this.get("minDistance",0);let j,L=this.fills.template.get("visible");this.axisRanges.length>0&&(L=!0);let B=!1;(M||P||k)&&(B=!0);const z={points:D,segments:C,stacked:M,getOpen:B,basePosX:A,basePosY:T,fillVisible:L,xField:_,yField:v,xOpenField:b,yOpenField:x,vcx:y,vcy:g,baseAxis:f,xAxis:h,yAxis:d,locationX:V,locationY:q,openLocationX:ee,openLocationY:H,minDistance:F};let $=this._strokeTemplate,oe=this._fillTemplate;for(j=e;j<i;j++){this._dindex=j;const K=this._dataItems[j];let ne=K.get(_),le=K.get(v);if(ne==null||le==null?s||(D=[],C.push(D),z.points=D):this._getPoints(K,z),N){let X=K.dataContext[N];if(X)if(X instanceof Sn||(X=Sn.new(X)),this._strokeTemplate=X,j>e){i=j;break}else $=X,u.template=X}if(R){let X=K.dataContext[R];if(X)if(X instanceof Sn||(X=Sn.new(X)),this._fillTemplate=X,j>e){i=j;break}else oe=X,o.template=X}if(!s){let X=this.dataItems[j+1];X&&f.shouldGap(K,X,r,E)&&(D=[],C.push(D),z.points=D)}}o.setRaw("userData",[e,j]),u.setRaw("userData",[e,j]),j===t&&this._endLine(D,C[0][0]),u&&this._drawStroke(u,C),o&&this._drawFill(o,C),this.axisRanges.each(K=>{const ne=K.container,le=K.fills,X=this.makeFill(le);ne&&ne.children.push(X),X.setPrivate("visible",!0),this._drawFill(X,C);const ce=K.strokes,me=this.makeStroke(ce);ne&&ne.children.push(me),$&&$!=this.strokes.template&&(me.template=$),oe&&oe!=this.fills.template&&(X.template=oe),me.setPrivate("visible",!0),this._drawStroke(me,C),X.setRaw("userData",[e,j]),me.setRaw("userData",[e,j])})}_getPoints(e,t){let i=t.points,r=e.get("locationX",t.locationX),s=e.get("locationY",t.locationY);const o=this.get("exactLocationX",!1),a=this.get("exactLocationY",!1);let l=t.xAxis.getDataItemPositionX(e,t.xField,r,t.vcx,o),u=t.yAxis.getDataItemPositionY(e,t.yField,s,t.vcy,a);if(this._shouldInclude(l)){const c=this.getPoint(l,u),h=[c.x,c.y];if(c.x+=this._x,c.y+=this._y,e.set("point",c),t.fillVisible){let d=l,f=u;if(t.baseAxis===t.xAxis?f=t.basePosY:t.baseAxis===t.yAxis&&(d=t.basePosX),t.getOpen){let g=e.get(t.xOpenField),_=e.get(t.yOpenField);if(g!=null&&_!=null){let v=e.get("openLocationX",t.openLocationX),b=e.get("openLocationY",t.openLocationY);if(t.stacked){let x=e.get("stackToItemX"),P=e.get("stackToItemY");x?(d=t.xAxis.getDataItemPositionX(x,t.xField,v,x.component.get("vcx"),o),Qs(d)&&(d=t.basePosX)):t.yAxis===t.baseAxis?d=t.basePosX:d=t.xAxis.getDataItemPositionX(e,t.xOpenField,v,t.vcx,o),P?(f=t.yAxis.getDataItemPositionY(P,t.yField,b,P.component.get("vcy"),a),Qs(f)&&(f=t.basePosY)):t.xAxis===t.baseAxis?f=t.basePosY:f=t.yAxis.getDataItemPositionY(e,t.yOpenField,b,t.vcy,a)}else d=t.xAxis.getDataItemPositionX(e,t.xOpenField,v,t.vcx,o),f=t.yAxis.getDataItemPositionY(e,t.yOpenField,b,t.vcy,a)}}let y=this.getPoint(d,f);h[2]=y.x,h[3]=y.y}if(t.minDistance>0){const d=h[0],f=h[1],y=h[2],g=h[3],_=this._previousPoint,v=_[0],b=_[1],x=_[2],P=_[3];(Math.hypot(d-v,f-b)>t.minDistance||y&&g&&Math.hypot(y-x,g-P)>t.minDistance)&&(i.push(h),this._previousPoint=h)}else i.push(h)}}_endLine(e,t){}_drawStroke(e,t){e.get("visible")&&!e.get("forceHidden")&&e.set("draw",i=>{W(t,r=>{this._strokeGenerator.context(i),this._strokeGenerator(r)})})}_drawFill(e,t){e.get("visible")&&!e.get("forceHidden")&&e.set("draw",i=>{W(t,r=>{this._fillGenerator.context(i),this._fillGenerator(r)})})}_processAxisRange(e){super._processAxisRange(e),e.fills=new Fo(Sn.new({}),()=>ct._new(this._root,{themeTags:Ct(e.fills.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template,e.fills.template])),e.strokes=new Fo(Sn.new({}),()=>ct._new(this._root,{themeTags:Ct(e.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template,e.strokes.template]))}createLegendMarker(e){const t=this.get("legendDataItem");if(t){const i=t.get("marker"),r=t.get("markerRectangle");r&&r.setPrivate("visible",!1),i.set("background",ji.new(i._root,{fillOpacity:0,fill:Yr(0)}));const s=i.children.push(ct._new(i._root,{themeTags:["line","series","legend","marker","stroke"],interactive:!1},[this.strokes.template]));this._legendStroke=s;const o=i.children.push(ct._new(i._root,{themeTags:["line","series","legend","marker","fill"]},[this.fills.template]));this._legendFill=o;const a=this._root.interfaceColors.get("disabled");if(s.states.create("disabled",{fill:a,stroke:a}),o.states.create("disabled",{fill:a,stroke:a}),this.bullets.length>0){const l=this.bullets.getIndex(0);if(l){const u=l(i._root,this,new kr(this,{legend:!0},{}));if(u){const c=u.get("sprite");c instanceof ct&&c.states.create("disabled",{fill:a,stroke:a}),c&&(c.setAll({tooltipText:void 0,tooltipHTML:void 0,focusable:void 0,focusableGroup:void 0,ariaLabel:void 0}),i.children.push(c),c.setAll({x:i.width()/2,y:i.height()/2}),i.events.on("boundschanged",()=>{c.setAll({x:i.width()/2,y:i.height()/2})}))}}}}}}Object.defineProperty(my,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LineSeries"});Object.defineProperty(my,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:hf.classNames.concat([my.className])});class nhe extends HE{setupDefaultRules(){super.setupDefaultRules(),this.rule("Component").setAll({interpolationDuration:600}),this.rule("Hierarchy").set("animationDuration",600),this.rule("Scrollbar").set("animationDuration",600),this.rule("Tooltip").set("animationDuration",300),this.rule("MapChart").set("animationDuration",1e3),this.rule("MapChart").set("wheelDuration",300),this.rule("Entity").setAll({stateAnimationDuration:600}),this.rule("Sprite").states.create("default",{stateAnimationDuration:600}),this.rule("Tooltip",["axis"]).setAll({animationDuration:200}),this.rule("WordCloud").set("animationDuration",500),this.rule("Polygon").set("animationDuration",600),this.rule("ArcDiagram").set("animationDuration",600)}}function LD(n,e="value",t="date"){return!n||!Array.isArray(n)||n.length===0?[]:n.map(r=>{let s;if(r[t]instanceof Date)s=r[t];else if(typeof r[t]=="string")s=new Date(r[t]);else return null;let o;const a=r[e];if(typeof a=="number")o=a;else if(typeof a=="string")o=parseFloat(a.replace(/,/g,"").trim());else return null;return isNaN(o)||isNaN(s.getTime())?null:{...r,date:s,value:o}}).filter(r=>r!==null).sort((r,s)=>r.date.getTime()-s.date.getTime())}const vx=({id:n,data:e,valueField:t="value",dateField:i="date",interval:r="day",height:s="400px",color:o,showArea:a=!0,showBullets:l=!0,className:u=""})=>{const c=w.useRef(null);return w.useEffect(()=>{if(c.current&&(c.current.dispose(),c.current=null),!e||e.length===0)return;const h=LD(e,t,i);if(h.length===0)return;const d=WE.new(n);c.current=d,d.setThemes([nhe.new(d)]);const f=d.container.children.push(ly.new(d,{panX:!0,wheelX:"panX",wheelY:"zoomX",pinchZoomX:!0,layout:d.verticalLayout,paddingLeft:0,paddingRight:0})),y=r==="month"?{timeUnit:"month",count:1}:{timeUnit:r,count:1},g=f.xAxes.push(cy.new(d,{baseInterval:y,renderer:fy.new(d,{minGridDistance:60,minorGridEnabled:!0}),tooltip:ea.new(d,{}),groupData:!1}));r==="month"&&(g.get("renderer").labels.template.adapters.add("text",(P,k)=>k.dataItem&&k.dataItem.get("valueX")?new Date(k.dataItem.get("valueX")).toLocaleDateString("en-US",{month:"short",year:"numeric"}):P),g.get("renderer").labels.template.setAll({fontSize:11,fill:Yr("#666")}));const _=f.yAxes.push(_c.new(d,{renderer:py.new(d,{}),tooltip:ea.new(d,{})})),v=f.series.push(my.new(d,{name:t,xAxis:g,yAxis:_,valueYField:"value",valueXField:"date",strokeWidth:2,tooltip:ea.new(d,{pointerOrientation:"horizontal",labelText:r==="month"?"{date.formatDate('MMM yyyy')}: {valueY.formatNumber('#,###')}":"{date.formatDate('MMM dd, yyyy')}: {valueY.formatNumber('#,###')}"}),tension:.5}));o&&(v.strokes.template.setAll({stroke:Yr(o)}),a&&v.fills.template.setAll({fill:Yr(o)})),a&&v.fills.template.setAll({visible:!0,fillOpacity:.2}),l&&v.bullets.push(()=>sy.new(d,{sprite:oy.new(d,{radius:4,fill:v.get("fill")||Yr("#4285f4"),stroke:d.interfaceColors.get("background"),strokeWidth:2})}));const b=h.map(P=>({date:(P.date instanceof Date?P.date:new Date(P.date)).toISOString().split("T")[0],value:P.value}));v.data.processor=Zce.new(d,{dateFormat:"yyyy-MM-dd",dateFields:["date"]}),v.data.setAll(b),f.set("scrollbarX",ay.new(d,{orientation:"horizontal"}));const x=f.set("cursor",uy.new(d,{xAxis:g,behavior:"zoomX"}));return x.lineY.set("visible",!0),x.lineX.set("visible",!0),v.appear(1e3,100),f.appear(1e3,100),()=>{c.current&&(c.current.dispose(),c.current=null)}},[n,e,t,i,r,o,a,l]),w.useEffect(()=>{if(e&&e.length>0){console.log(`SocialBladeChart [${n}] received data:`,e);const h=LD(e,t,i);console.log(`SocialBladeChart [${n}] prepared data:`,h)}else console.log(`SocialBladeChart [${n}] received empty or no data:`,e)},[n,e,t,i]),!e||e.length===0?p.jsx("div",{className:`flex items-center justify-center ${u}`,style:{height:s},children:p.jsx("p",{className:"text-gray-500",children:"No data available"})}):p.jsx("div",{id:n,className:u,style:{width:"100%",height:s}})},ihe=({username:n,userPlan:e=xr.FREE})=>{var v,b,x,P;const[t,i]=kF(),[r,s]=w.useState(30);w.useState(!1);const[o,a]=w.useState("daily"),l=w.useRef(!1);w.useEffect(()=>{n&&i(n)},[n,i]);const u=[{label:"Last 14 Days",value:14,enabled:!0},{label:"Last 30 Days",value:30,enabled:!0},{label:"Last 60 Days",value:60,enabled:!1},{label:"Last 180 Days",value:180,enabled:!1},{label:"Last 365 Days",value:365,enabled:!1},{label:"Last 3 Years",value:1095,enabled:!1}],c=w.useMemo(()=>{var k,M,A,T;if((M=(k=t.insights)==null?void 0:k.followers)!=null&&M.growth&&t.insights.followers.growth.length>0){const E=t.insights.followers.growth.filter(C=>{if(!C.date||C.count===void 0||C.count===null)return!1;const D=new Date(C.date);return!isNaN(D.getTime())&&Number(C.count)>=0}).map(C=>({date:typeof C.date=="string"?C.date:new Date(C.date).toISOString().split("T")[0],value:Number(C.count)||0})).sort((C,D)=>new Date(C.date).getTime()-new Date(D.date).getTime());return console.log("weeklyGrowthData processed:",E.length,"points. First:",E[0],"Last:",E[E.length-1]),E}return console.log("No growth data available in data.insights.followers.growth:",(T=(A=t.insights)==null?void 0:A.followers)==null?void 0:T.growth),[]},[(b=(v=t.insights)==null?void 0:v.followers)==null?void 0:b.growth]);w.useEffect(()=>{if(!n||!c.length||l.current)return;const k=n.toLowerCase().trim(),M=Ig(yn,"followerHistory");(async()=>{const T=c.slice(-30);await Promise.all(T.map(E=>{const C=typeof E.date=="string"?E.date:new Date(E.date).toISOString().split("T")[0],D=new Date(C);if(isNaN(D.getTime()))return Promise.resolve();const N=Number(E.value??0),R=`${k}_${C}`;return Lo(wi(M,R),{username:k,date:D,followers:N},{merge:!0})})),l.current=!0})()},[n,c]);const h=w.useMemo(()=>{if(t.followerProjections&&t.followerProjections.length>0){const k=t.followerProjections.filter(M=>M.date&&M.count!==void 0&&M.count!==null).map(M=>({date:typeof M.date=="string"?M.date:new Date(M.date).toISOString().split("T")[0],value:Number(M.count)||0})).sort((M,A)=>new Date(M.date).getTime()-new Date(A.date).getTime());return console.log("Projections data processed:",k.length,"points",k.slice(0,3),"...",k.slice(-3)),k}return console.log("No projections data available"),[]},[t.followerProjections]),d=w.useMemo(()=>Array.from({length:r},(k,M)=>{const A=new Date;A.setDate(new Date().getDate()-(r-1-M));const T=Math.floor(Math.random()*1e3)-400,E=Math.floor(Math.random()*10)-5,C=Math.floor(Math.random()*5)-1;return{date:A,followersChange:T,followersTotal:16e4+M*500+T,followingChange:E,followingTotal:1500+M+E,mediaChange:C,mediaTotal:2350+M+C}}),[r]),f=[{label:"Daily",value:"daily"},{label:"Weekly",value:"weekly"},{label:"Monthly",value:"monthly"}];function y(k){if(!k.length)return[];const M=[],A={};return k.forEach(T=>{const E=new Date(T.date);if(isNaN(E.getTime()))return;const C=new Date(E),D=C.getDay(),N=C.getDate()-D+(D===0?-6:1);C.setDate(N),C.setHours(0,0,0,0);const R=C.toISOString().split("T")[0];(!A[R]||new Date(T.date)>new Date(A[R].date))&&(A[R]={date:T.date,value:T.value||0})}),Object.keys(A).sort().forEach(T=>{M.push(A[T])}),M}function g(k){if(!k.length)return[];const M=[],A={};return k.forEach(T=>{const E=new Date(T.date);if(isNaN(E.getTime()))return;const C=`${E.getFullYear()}-${String(E.getMonth()+1).padStart(2,"0")}`;(!A[C]||new Date(T.date)>new Date(A[C].date))&&(A[C]={date:T.date,value:T.value||0})}),Object.keys(A).sort().forEach(T=>{M.push(A[T])}),M}const _=w.useMemo(()=>{if(console.log("weeklyGrowthData:",c),!c||c.length===0)return console.log("No weeklyGrowthData available"),[];let k=[];o==="daily"?(k=c.filter(A=>A.date&&A.value!==void 0&&A.value!==null).map(A=>({date:typeof A.date=="string"?A.date:new Date(A.date).toISOString().split("T")[0],value:A.value||0})),console.log("Daily view - processed data:",k.length,"points")):o==="weekly"?(k=y(c),console.log("Weekly view - processed data:",k.length,"points")):o==="monthly"&&(k=g(c),console.log("Monthly view - processed data:",k.length,"points"));const M=k.filter(A=>{if(!A.date)return!1;const T=new Date(A.date);return!isNaN(T.getTime())&&A.value!==void 0&&A.value!==null}).map(A=>({date:typeof A.date=="string"?A.date:new Date(A.date).toISOString().split("T")[0],value:Number(A.value)||0})).sort((A,T)=>new Date(A.date).getTime()-new Date(T.date).getTime());return console.log(`Filtered growth data for ${o}:`,M.length,"points",M.slice(0,3)),M},[c,o]);return BT("analytics",e),p.jsx("div",{className:"w-full space-y-8 relative",children:p.jsxs("div",{children:[p.jsxs(qi,{children:[p.jsxs(Qi,{className:"flex flex-row items-center justify-between",children:[p.jsxs("div",{children:[p.jsx(Zi,{className:"font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-[#f9ce34] via-[#ee2a7b] to-[#6228d7]",children:"Followers Growth"}),p.jsx(Nu,{className:"text-gray-700",children:"Daily Follower Count from Social Blade"})]}),p.jsxs(Yk,{children:[p.jsx(Xk,{asChild:!0,children:p.jsxs(Jt,{variant:"outline",children:[(x=f.find(k=>k.value===o))==null?void 0:x.label,p.jsx(JS,{className:"ml-2 h-4 w-4"})]})}),p.jsx(Mw,{children:f.map(k=>p.jsxs(Nw,{onSelect:()=>a(k.value),children:[k.label,o===k.value&&p.jsx(O_,{className:"ml-auto h-4 w-4 text-green-500"})]},k.value))})]})]}),p.jsx(Ji,{children:p.jsx("div",{className:"w-full h-96 bg-white rounded-lg border p-2",children:_.length>0?p.jsx(vx,{id:"followers-chart",data:_,valueField:"value",dateField:"date",interval:o==="monthly"?"month":"day",height:"100%",color:"#4285f4"}):p.jsx("div",{className:"flex items-center justify-center h-full",children:p.jsxs("p",{className:"text-gray-500",children:["No data available for ",o," view"]})})})})]}),p.jsxs(qi,{children:[p.jsxs(Qi,{children:[p.jsx(Zi,{className:"font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-[#f9ce34] via-[#ee2a7b] to-[#6228d7]",children:"Fanbase Forecast"}),p.jsx(Nu,{className:"text-gray-700",children:"Future Projected Follower Count (5 Years, Monthly) - Created using Holt's Linear method"})]}),p.jsx(Ji,{children:p.jsx("div",{className:"w-full h-96 bg-white rounded-lg border p-2",children:p.jsx(vx,{id:"projections-chart",data:h,valueField:"value",dateField:"date",interval:"month",height:"100%",color:"#dc2626"})})})]}),p.jsxs(qi,{children:[p.jsxs(Qi,{className:"flex flex-row items-center justify-between",children:[p.jsxs("div",{children:[p.jsx(Zi,{className:"font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-[#f9ce34] via-[#ee2a7b] to-[#6228d7]",children:"Daily Channel Metrics"}),p.jsx(Nu,{className:"text-gray-700",children:"Follower history"})]}),p.jsxs(Yk,{children:[p.jsx(Xk,{asChild:!0,children:p.jsxs(Jt,{variant:"outline",children:[(P=u.find(k=>k.value===r))==null?void 0:P.label,p.jsx(JS,{className:"ml-2 h-4 w-4"})]})}),p.jsx(Mw,{children:u.map(k=>p.jsxs(Nw,{onSelect:()=>s(k.value),children:[k.label,r===k.value&&p.jsx(O_,{className:"ml-auto h-4 w-4 text-green-500"})]},k.value))})]})]}),p.jsx(Ji,{children:p.jsx(oue,{metrics:d})})]})]})})},rhe=({username:n="",profilePictureUrl:e,followers:t=0,following:i=0,posts:r=0,averageLikes:s=0,averageComments:o=0,engagementRate:a=0})=>{const l=[{label:"Avg. likes",value:Math.round(s),icon:"",color:"#a78bfa"},{label:"Avg. comments",value:o.toFixed(1),icon:"",color:"#f472b6"},{label:"Engagement rate",value:`${a.toFixed(1)}%`,icon:"",color:"#60a5fa"}],u=n?`@${n}`:"@username";return p.jsxs("section",{className:"w-full mt-8",children:[p.jsxs("div",{className:"bg-white rounded-xl shadow border p-6 flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-6 flex-1",children:[e?p.jsx("img",{src:e,alt:n,className:"w-24 h-24 rounded-full object-cover border-2 border-gray-200",onError:c=>{const h=c.target;h.style.display="none";const d=h.parentElement;if(d&&!d.querySelector(".profile-placeholder")){const f=document.createElement("div");f.className="profile-placeholder w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center border-2 border-gray-200",f.innerHTML='<span class="text-3xl"></span>',d.appendChild(f)}},crossOrigin:"anonymous"}):p.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center border-2 border-gray-200",children:p.jsx("span",{className:"text-3xl",children:""})}),p.jsxs("div",{children:[p.jsx("div",{className:"flex items-center gap-2 mb-1",children:p.jsx("span",{className:"text-2xl font-bold",children:u})}),p.jsxs("div",{className:"flex gap-6 text-sm font-medium text-gray-700 mt-2",children:[p.jsxs("span",{children:[p.jsx("b",{children:r})," posts"]}),p.jsxs("span",{children:[p.jsx("b",{children:t.toLocaleString()})," followers"]}),p.jsxs("span",{children:[p.jsx("b",{children:i.toLocaleString()})," following"]})]})]})]}),p.jsxs("div",{className:"flex flex-col gap-2 md:items-end",children:[p.jsxs("button",{className:"px-4 py-2 rounded border bg-gray-50 hover:bg-gray-100 text-gray-700 flex items-center gap-2",children:[p.jsx("span",{children:""})," Download profile"]}),p.jsxs("button",{className:"px-4 py-2 rounded border bg-gray-50 hover:bg-gray-100 text-gray-700 flex items-center gap-2",children:[p.jsx("span",{children:""})," Copy profile URL"]})]})]}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6 mt-8",children:l.map((c,h)=>p.jsxs("div",{className:"flex flex-col items-center bg-gray-50 rounded-xl py-6 shadow border",children:[p.jsx("span",{className:"mb-2 text-3xl",style:{color:c.color},children:c.icon}),p.jsx("span",{className:"text-2xl font-bold mb-1",children:c.value}),p.jsx("span",{className:"text-gray-500 text-sm",children:c.label})]},h))})]})};var YE="Tabs",[she,Ede]=wf(YE,[Iv]),KB=Iv(),[ohe,XE]=she(YE),qB=w.forwardRef((n,e)=>{const{__scopeTabs:t,value:i,onValueChange:r,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=n,c=QT(a),[h,d]=Fy({prop:i,onChange:r,defaultProp:s});return p.jsx(ohe,{scope:t,baseId:cg(),value:h,onValueChange:d,orientation:o,dir:c,activationMode:l,children:p.jsx(mt.div,{dir:c,"data-orientation":o,...u,ref:e})})});qB.displayName=YE;var QB="TabsList",ZB=w.forwardRef((n,e)=>{const{__scopeTabs:t,loop:i=!0,...r}=n,s=XE(QB,t),o=KB(t);return p.jsx(LF,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:i,children:p.jsx(mt.div,{role:"tablist","aria-orientation":s.orientation,...r,ref:e})})});ZB.displayName=QB;var JB="TabsTrigger",e5=w.forwardRef((n,e)=>{const{__scopeTabs:t,value:i,disabled:r=!1,...s}=n,o=XE(JB,t),a=KB(t),l=i5(o.baseId,i),u=r5(o.baseId,i),c=i===o.value;return p.jsx(FF,{asChild:!0,...a,focusable:!r,active:c,children:p.jsx(mt.button,{type:"button",role:"tab","aria-selected":c,"aria-controls":u,"data-state":c?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:l,...s,ref:e,onMouseDown:Ae(n.onMouseDown,h=>{!r&&h.button===0&&h.ctrlKey===!1?o.onValueChange(i):h.preventDefault()}),onKeyDown:Ae(n.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(i)}),onFocus:Ae(n.onFocus,()=>{const h=o.activationMode!=="manual";!c&&!r&&h&&o.onValueChange(i)})})})});e5.displayName=JB;var t5="TabsContent",n5=w.forwardRef((n,e)=>{const{__scopeTabs:t,value:i,forceMount:r,children:s,...o}=n,a=XE(t5,t),l=i5(a.baseId,i),u=r5(a.baseId,i),c=i===a.value,h=w.useRef(c);return w.useEffect(()=>{const d=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(d)},[]),p.jsx(xa,{present:r||c,children:({present:d})=>p.jsx(mt.div,{"data-state":c?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!d,id:u,tabIndex:0,...o,ref:e,style:{...n.style,animationDuration:h.current?"0s":void 0},children:d&&s})})});n5.displayName=t5;function i5(n,e){return`${n}-trigger-${e}`}function r5(n,e){return`${n}-content-${e}`}var ahe=qB,s5=ZB,o5=e5,a5=n5;const l5=ahe,KE=w.forwardRef(({className:n,...e},t)=>p.jsx(s5,{ref:t,className:lt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...e}));KE.displayName=s5.displayName;const id=w.forwardRef(({className:n,...e},t)=>p.jsx(o5,{ref:t,className:lt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n),...e}));id.displayName=o5.displayName;const Vm=w.forwardRef(({className:n,...e},t)=>p.jsx(a5,{ref:t,className:lt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));Vm.displayName=a5.displayName;const lhe=[{key:"likes",label:"Likes"},{key:"comments",label:"Comments"}],uhe=({data:n})=>{const[e,t]=w.useState("likes"),i=w.useMemo(()=>!n||n.length===0?[]:n.map(s=>({date:s.date,value:s[e]||0})),[n,e]),r={likes:"#f472b6",comments:"#60a5fa"};return p.jsxs(qi,{children:[p.jsxs(Qi,{children:[p.jsx(Zi,{className:"font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-[#f9ce34] via-[#ee2a7b] to-[#6228d7]",children:"Daily Engagement Trends"}),p.jsx(Nu,{children:"Daily likes and comments from Social Blade"})]}),p.jsxs(Ji,{children:[p.jsx(l5,{value:e,onValueChange:t,className:"w-full mb-2",children:p.jsx(KE,{className:"grid w-full grid-cols-2 mb-4",children:lhe.map(s=>p.jsx(id,{value:s.key,children:s.label},s.key))})}),p.jsx("div",{className:"w-full",style:{height:"500px"},children:p.jsx(vx,{id:"engagementChartDiv",data:i,valueField:"value",dateField:"date",interval:"day",height:"100%",color:r[e]})})]})]})};function che(){return{id:-1,texcoordX:0,texcoordY:0,prevTexcoordX:0,prevTexcoordY:0,deltaX:0,deltaY:0,down:!1,moved:!1,color:{r:0,g:0,b:0}}}function hhe({SIM_RESOLUTION:n=128,DYE_RESOLUTION:e=1440,CAPTURE_RESOLUTION:t=512,DENSITY_DISSIPATION:i=3.5,VELOCITY_DISSIPATION:r=2,PRESSURE:s=.1,PRESSURE_ITERATIONS:o=20,CURL:a=3,SPLAT_RADIUS:l=.2,SPLAT_FORCE:u=6e3,SHADING:c=!0,COLOR_UPDATE_SPEED:h=10,BACK_COLOR:d={r:.5,g:0,b:0},TRANSPARENT:f=!0}){const y=w.useRef(null);return w.useEffect(()=>{const g=y.current;if(!g)return;let _=[che()],v={SIM_RESOLUTION:n,DYE_RESOLUTION:e,CAPTURE_RESOLUTION:t,DENSITY_DISSIPATION:i,VELOCITY_DISSIPATION:r,PRESSURE:s,PRESSURE_ITERATIONS:o,CURL:a,SPLAT_RADIUS:l,SPLAT_FORCE:u,SHADING:c,COLOR_UPDATE_SPEED:h,PAUSED:!1,BACK_COLOR:d,TRANSPARENT:f};const{gl:b,ext:x}=P(g);if(!b||!x)return;x.supportLinearFiltering||(v.DYE_RESOLUTION=256,v.SHADING=!1);function P(U){const J={alpha:!0,depth:!1,stencil:!1,antialias:!1,preserveDrawingBuffer:!1};let Z=U.getContext("webgl2",J);if(Z||(Z=U.getContext("webgl",J)||U.getContext("experimental-webgl",J)),!Z)throw new Error("Unable to initialize WebGL.");const ae="drawBuffers"in Z;let pe=!1,Le=null;ae?(Z.getExtension("EXT_color_buffer_float"),pe=!!Z.getExtension("OES_texture_float_linear")):(Le=Z.getExtension("OES_texture_half_float"),pe=!!Z.getExtension("OES_texture_half_float_linear")),Z.clearColor(0,0,0,1);const Ge=ae?Z.HALF_FLOAT:Le&&Le.HALF_FLOAT_OES||0;let xn,dn,ui;return ae?(xn=k(Z,Z.RGBA16F,Z.RGBA,Ge),dn=k(Z,Z.RG16F,Z.RG,Ge),ui=k(Z,Z.R16F,Z.RED,Ge)):(xn=k(Z,Z.RGBA,Z.RGBA,Ge),dn=k(Z,Z.RGBA,Z.RGBA,Ge),ui=k(Z,Z.RGBA,Z.RGBA,Ge)),{gl:Z,ext:{formatRGBA:xn,formatRG:dn,formatR:ui,halfFloatTexType:Ge,supportLinearFiltering:pe}}}function k(U,J,Z,ae){if(!M(U,J,Z,ae)){if("drawBuffers"in U){const pe=U;switch(J){case pe.R16F:return k(pe,pe.RG16F,pe.RG,ae);case pe.RG16F:return k(pe,pe.RGBA16F,pe.RGBA,ae);default:return null}}return null}return{internalFormat:J,format:Z}}function M(U,J,Z,ae){const pe=U.createTexture();if(!pe)return!1;U.bindTexture(U.TEXTURE_2D,pe),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MIN_FILTER,U.NEAREST),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MAG_FILTER,U.NEAREST),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_WRAP_S,U.CLAMP_TO_EDGE),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_WRAP_T,U.CLAMP_TO_EDGE),U.texImage2D(U.TEXTURE_2D,0,J,4,4,0,Z,ae,null);const Le=U.createFramebuffer();return Le?(U.bindFramebuffer(U.FRAMEBUFFER,Le),U.framebufferTexture2D(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.TEXTURE_2D,pe,0),U.checkFramebufferStatus(U.FRAMEBUFFER)===U.FRAMEBUFFER_COMPLETE):!1}function A(U){if(!U.length)return 0;let J=0;for(let Z=0;Z<U.length;Z++)J=(J<<5)-J+U.charCodeAt(Z),J|=0;return J}function T(U,J){if(!J)return U;let Z="";for(const ae of J)Z+=`#define ${ae}
`;return Z+U}function E(U,J,Z=null){const ae=T(J,Z),pe=b.createShader(U);return pe?(b.shaderSource(pe,ae),b.compileShader(pe),b.getShaderParameter(pe,b.COMPILE_STATUS)||console.trace(b.getShaderInfoLog(pe)),pe):null}function C(U,J){if(!U||!J)return null;const Z=b.createProgram();return Z?(b.attachShader(Z,U),b.attachShader(Z,J),b.linkProgram(Z),b.getProgramParameter(Z,b.LINK_STATUS)||console.trace(b.getProgramInfoLog(Z)),Z):null}function D(U){let J={};const Z=b.getProgramParameter(U,b.ACTIVE_UNIFORMS);for(let ae=0;ae<Z;ae++){const pe=b.getActiveUniform(U,ae);pe&&(J[pe.name]=b.getUniformLocation(U,pe.name))}return J}class N{constructor(J,Z){ao(this,"program");ao(this,"uniforms");this.program=C(J,Z),this.uniforms=this.program?D(this.program):{}}bind(){this.program&&b.useProgram(this.program)}}class R{constructor(J,Z){ao(this,"vertexShader");ao(this,"fragmentShaderSource");ao(this,"programs");ao(this,"activeProgram");ao(this,"uniforms");this.vertexShader=J,this.fragmentShaderSource=Z,this.programs={},this.activeProgram=null,this.uniforms={}}setKeywords(J){let Z=0;for(const pe of J)Z+=A(pe);let ae=this.programs[Z];if(ae==null){const pe=E(b.FRAGMENT_SHADER,this.fragmentShaderSource,J);ae=C(this.vertexShader,pe),this.programs[Z]=ae}ae!==this.activeProgram&&(ae&&(this.uniforms=D(ae)),this.activeProgram=ae)}bind(){this.activeProgram&&b.useProgram(this.activeProgram)}}const V=E(b.VERTEX_SHADER,`
      precision highp float;
      attribute vec2 aPosition;
      varying vec2 vUv;
      varying vec2 vL;
      varying vec2 vR;
      varying vec2 vT;
      varying vec2 vB;
      uniform vec2 texelSize;

      void main () {
        vUv = aPosition * 0.5 + 0.5;
        vL = vUv - vec2(texelSize.x, 0.0);
        vR = vUv + vec2(texelSize.x, 0.0);
        vT = vUv + vec2(0.0, texelSize.y);
        vB = vUv - vec2(0.0, texelSize.y);
        gl_Position = vec4(aPosition, 0.0, 1.0);
      }
    `),q=E(b.FRAGMENT_SHADER,`
      precision mediump float;
      precision mediump sampler2D;
      varying highp vec2 vUv;
      uniform sampler2D uTexture;

      void main () {
          gl_FragColor = texture2D(uTexture, vUv);
      }
    `),ee=E(b.FRAGMENT_SHADER,`
      precision mediump float;
      precision mediump sampler2D;
      varying highp vec2 vUv;
      uniform sampler2D uTexture;
      uniform float value;

      void main () {
          gl_FragColor = value * texture2D(uTexture, vUv);
      }
    `),H=`
      precision highp float;
      precision highp sampler2D;
      varying vec2 vUv;
      varying vec2 vL;
      varying vec2 vR;
      varying vec2 vT;
      varying vec2 vB;
      uniform sampler2D uTexture;
      uniform sampler2D uDithering;
      uniform vec2 ditherScale;
      uniform vec2 texelSize;

      vec3 linearToGamma (vec3 color) {
          color = max(color, vec3(0));
          return max(1.055 * pow(color, vec3(0.416666667)) - 0.055, vec3(0));
      }

      void main () {
          vec3 c = texture2D(uTexture, vUv).rgb;
          #ifdef SHADING
              vec3 lc = texture2D(uTexture, vL).rgb;
              vec3 rc = texture2D(uTexture, vR).rgb;
              vec3 tc = texture2D(uTexture, vT).rgb;
              vec3 bc = texture2D(uTexture, vB).rgb;

              float dx = length(rc) - length(lc);
              float dy = length(tc) - length(bc);

              vec3 n = normalize(vec3(dx, dy, length(texelSize)));
              vec3 l = vec3(0.0, 0.0, 1.0);

              float diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);
              c *= diffuse;
          #endif

          float a = max(c.r, max(c.g, c.b));
          gl_FragColor = vec4(c, a);
      }
    `,F=E(b.FRAGMENT_SHADER,`
      precision highp float;
      precision highp sampler2D;
      varying vec2 vUv;
      uniform sampler2D uTarget;
      uniform float aspectRatio;
      uniform vec3 color;
      uniform vec2 point;
      uniform float radius;

      void main () {
          vec2 p = vUv - point.xy;
          p.x *= aspectRatio;
          vec3 splat = exp(-dot(p, p) / radius) * color;
          vec3 base = texture2D(uTarget, vUv).xyz;
          gl_FragColor = vec4(base + splat, 1.0);
      }
    `),j=E(b.FRAGMENT_SHADER,`
      precision highp float;
      precision highp sampler2D;
      varying vec2 vUv;
      uniform sampler2D uVelocity;
      uniform sampler2D uSource;
      uniform vec2 texelSize;
      uniform vec2 dyeTexelSize;
      uniform float dt;
      uniform float dissipation;

      vec4 bilerp (sampler2D sam, vec2 uv, vec2 tsize) {
          vec2 st = uv / tsize - 0.5;
          vec2 iuv = floor(st);
          vec2 fuv = fract(st);

          vec4 a = texture2D(sam, (iuv + vec2(0.5, 0.5)) * tsize);
          vec4 b = texture2D(sam, (iuv + vec2(1.5, 0.5)) * tsize);
          vec4 c = texture2D(sam, (iuv + vec2(0.5, 1.5)) * tsize);
          vec4 d = texture2D(sam, (iuv + vec2(1.5, 1.5)) * tsize);

          return mix(mix(a, b, fuv.x), mix(c, d, fuv.x), fuv.y);
      }

      void main () {
          #ifdef MANUAL_FILTERING
              vec2 coord = vUv - dt * bilerp(uVelocity, vUv, texelSize).xy * texelSize;
              vec4 result = bilerp(uSource, coord, dyeTexelSize);
          #else
              vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;
              vec4 result = texture2D(uSource, coord);
          #endif
          float decay = 1.0 + dissipation * dt;
          gl_FragColor = result / decay;
      }
    `,x.supportLinearFiltering?null:["MANUAL_FILTERING"]),L=E(b.FRAGMENT_SHADER,`
      precision mediump float;
      precision mediump sampler2D;
      varying highp vec2 vUv;
      varying highp vec2 vL;
      varying highp vec2 vR;
      varying highp vec2 vT;
      varying highp vec2 vB;
      uniform sampler2D uVelocity;

      void main () {
          float L = texture2D(uVelocity, vL).x;
          float R = texture2D(uVelocity, vR).x;
          float T = texture2D(uVelocity, vT).y;
          float B = texture2D(uVelocity, vB).y;

          vec2 C = texture2D(uVelocity, vUv).xy;
          if (vL.x < 0.0) { L = -C.x; }
          if (vR.x > 1.0) { R = -C.x; }
          if (vT.y > 1.0) { T = -C.y; }
          if (vB.y < 0.0) { B = -C.y; }

          float div = 0.5 * (R - L + T - B);
          gl_FragColor = vec4(div, 0.0, 0.0, 1.0);
      }
    `),B=E(b.FRAGMENT_SHADER,`
      precision mediump float;
      precision mediump sampler2D;
      varying highp vec2 vUv;
      varying highp vec2 vL;
      varying highp vec2 vR;
      varying highp vec2 vT;
      varying highp vec2 vB;
      uniform sampler2D uVelocity;

      void main () {
          float L = texture2D(uVelocity, vL).y;
          float R = texture2D(uVelocity, vR).y;
          float T = texture2D(uVelocity, vT).x;
          float B = texture2D(uVelocity, vB).x;
          float vorticity = R - L - T + B;
          gl_FragColor = vec4(0.5 * vorticity, 0.0, 0.0, 1.0);
      }
    `),z=E(b.FRAGMENT_SHADER,`
      precision highp float;
      precision highp sampler2D;
      varying vec2 vUv;
      varying vec2 vL;
      varying vec2 vR;
      varying vec2 vT;
      varying vec2 vB;
      uniform sampler2D uVelocity;
      uniform sampler2D uCurl;
      uniform float curl;
      uniform float dt;

      void main () {
          float L = texture2D(uCurl, vL).x;
          float R = texture2D(uCurl, vR).x;
          float T = texture2D(uCurl, vT).x;
          float B = texture2D(uCurl, vB).x;
          float C = texture2D(uCurl, vUv).x;

          vec2 force = 0.5 * vec2(abs(T) - abs(B), abs(R) - abs(L));
          force /= length(force) + 0.0001;
          force *= curl * C;
          force.y *= -1.0;

          vec2 velocity = texture2D(uVelocity, vUv).xy;
          velocity += force * dt;
          velocity = min(max(velocity, -1000.0), 1000.0);
          gl_FragColor = vec4(velocity, 0.0, 1.0);
      }
    `),$=E(b.FRAGMENT_SHADER,`
      precision mediump float;
      precision mediump sampler2D;
      varying highp vec2 vUv;
      varying highp vec2 vL;
      varying highp vec2 vR;
      varying highp vec2 vT;
      varying highp vec2 vB;
      uniform sampler2D uPressure;
      uniform sampler2D uDivergence;

      void main () {
          float L = texture2D(uPressure, vL).x;
          float R = texture2D(uPressure, vR).x;
          float T = texture2D(uPressure, vT).x;
          float B = texture2D(uPressure, vB).x;
          float C = texture2D(uPressure, vUv).x;
          float divergence = texture2D(uDivergence, vUv).x;
          float pressure = (L + R + B + T - divergence) * 0.25;
          gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);
      }
    `),oe=E(b.FRAGMENT_SHADER,`
      precision mediump float;
      precision mediump sampler2D;
      varying highp vec2 vUv;
      varying highp vec2 vL;
      varying highp vec2 vR;
      varying highp vec2 vT;
      varying highp vec2 vB;
      uniform sampler2D uPressure;
      uniform sampler2D uVelocity;

      void main () {
          float L = texture2D(uPressure, vL).x;
          float R = texture2D(uPressure, vR).x;
          float T = texture2D(uPressure, vT).x;
          float B = texture2D(uPressure, vB).x;
          vec2 velocity = texture2D(uVelocity, vUv).xy;
          velocity.xy -= vec2(R - L, T - B);
          gl_FragColor = vec4(velocity, 0.0, 1.0);
      }
    `),K=(()=>{const U=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,U),b.bufferData(b.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),b.STATIC_DRAW);const J=b.createBuffer();return b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,J),b.bufferData(b.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),b.STATIC_DRAW),b.vertexAttribPointer(0,2,b.FLOAT,!1,0,0),b.enableVertexAttribArray(0),(Z,ae=!1)=>{b&&(Z?(b.viewport(0,0,Z.width,Z.height),b.bindFramebuffer(b.FRAMEBUFFER,Z.fbo)):(b.viewport(0,0,b.drawingBufferWidth,b.drawingBufferHeight),b.bindFramebuffer(b.FRAMEBUFFER,null)),ae&&(b.clearColor(0,0,0,1),b.clear(b.COLOR_BUFFER_BIT)),b.drawElements(b.TRIANGLES,6,b.UNSIGNED_SHORT,0))}})();let ne,le,X,ce,me;const fe=new N(V,q),Pe=new N(V,ee),xe=new N(V,F),ge=new N(V,j),De=new N(V,L),Ee=new N(V,B),Ve=new N(V,z),Te=new N(V,$),Se=new N(V,oe),Be=new R(V,H);function gt(U,J,Z,ae,pe,Le){b.activeTexture(b.TEXTURE0);const Ge=b.createTexture();b.bindTexture(b.TEXTURE_2D,Ge),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,Le),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,Le),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),b.texImage2D(b.TEXTURE_2D,0,Z,U,J,0,ae,pe,null);const xn=b.createFramebuffer();b.bindFramebuffer(b.FRAMEBUFFER,xn),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,Ge,0),b.viewport(0,0,U,J),b.clear(b.COLOR_BUFFER_BIT);const dn=1/U,ui=1/J;return{texture:Ge,fbo:xn,width:U,height:J,texelSizeX:dn,texelSizeY:ui,attach(qn){return b.activeTexture(b.TEXTURE0+qn),b.bindTexture(b.TEXTURE_2D,Ge),qn}}}function ft(U,J,Z,ae,pe,Le){const Ge=gt(U,J,Z,ae,pe,Le),xn=gt(U,J,Z,ae,pe,Le);return{width:U,height:J,texelSizeX:Ge.texelSizeX,texelSizeY:Ge.texelSizeY,read:Ge,write:xn,swap(){const dn=this.read;this.read=this.write,this.write=dn}}}function ut(U,J,Z,ae,pe,Le,Ge){const xn=gt(J,Z,ae,pe,Le,Ge);return fe.bind(),fe.uniforms.uTexture&&b.uniform1i(fe.uniforms.uTexture,U.attach(0)),K(xn,!1),xn}function vt(U,J,Z,ae,pe,Le,Ge){return U.width===J&&U.height===Z||(U.read=ut(U.read,J,Z,ae,pe,Le,Ge),U.write=gt(J,Z,ae,pe,Le,Ge),U.width=J,U.height=Z,U.texelSizeX=1/J,U.texelSizeY=1/Z),U}function nn(){const U=ze(v.SIM_RESOLUTION),J=ze(v.DYE_RESOLUTION),Z=x.halfFloatTexType,ae=x.formatRGBA,pe=x.formatRG,Le=x.formatR,Ge=x.supportLinearFiltering?b.LINEAR:b.NEAREST;b.disable(b.BLEND),ne?ne=vt(ne,J.width,J.height,ae.internalFormat,ae.format,Z,Ge):ne=ft(J.width,J.height,ae.internalFormat,ae.format,Z,Ge),le?le=vt(le,U.width,U.height,pe.internalFormat,pe.format,Z,Ge):le=ft(U.width,U.height,pe.internalFormat,pe.format,Z,Ge),X=gt(U.width,U.height,Le.internalFormat,Le.format,Z,b.NEAREST),ce=gt(U.width,U.height,Le.internalFormat,Le.format,Z,b.NEAREST),me=ft(U.width,U.height,Le.internalFormat,Le.format,Z,b.NEAREST)}function Ue(){const U=[];v.SHADING&&U.push("SHADING"),Be.setKeywords(U)}function ze(U){const J=b.drawingBufferWidth,Z=b.drawingBufferHeight,ae=J/Z;let pe=ae<1?1/ae:ae;const Le=Math.round(U),Ge=Math.round(U*pe);return J>Z?{width:Ge,height:Le}:{width:Le,height:Ge}}function tt(U){const J=window.devicePixelRatio||1;return Math.floor(U*J)}Ue(),nn();let Mn=Date.now(),Ti=0;function li(){const U=Ft();Ei()&&nn(),ys(U),vs(),Vi(U),Wc(null),requestAnimationFrame(li)}function Ft(){const U=Date.now();let J=(U-Mn)/1e3;return J=Math.min(J,.016666),Mn=U,J}function Ei(){const U=tt(g.clientWidth),J=tt(g.clientHeight);return g.width!==U||g.height!==J?(g.width=U,g.height=J,!0):!1}function ys(U){Ti+=U*v.COLOR_UPDATE_SPEED,Ti>=1&&(Ti=wn(Ti,0,1),_.forEach(J=>{J.color=Or()}))}function vs(){for(const U of _)U.moved&&(U.moved=!1,rt(U))}function Vi(U){b.disable(b.BLEND),Ee.bind(),Ee.uniforms.texelSize&&b.uniform2f(Ee.uniforms.texelSize,le.texelSizeX,le.texelSizeY),Ee.uniforms.uVelocity&&b.uniform1i(Ee.uniforms.uVelocity,le.read.attach(0)),K(ce),Ve.bind(),Ve.uniforms.texelSize&&b.uniform2f(Ve.uniforms.texelSize,le.texelSizeX,le.texelSizeY),Ve.uniforms.uVelocity&&b.uniform1i(Ve.uniforms.uVelocity,le.read.attach(0)),Ve.uniforms.uCurl&&b.uniform1i(Ve.uniforms.uCurl,ce.attach(1)),Ve.uniforms.curl&&b.uniform1f(Ve.uniforms.curl,v.CURL),Ve.uniforms.dt&&b.uniform1f(Ve.uniforms.dt,U),K(le.write),le.swap(),De.bind(),De.uniforms.texelSize&&b.uniform2f(De.uniforms.texelSize,le.texelSizeX,le.texelSizeY),De.uniforms.uVelocity&&b.uniform1i(De.uniforms.uVelocity,le.read.attach(0)),K(X),Pe.bind(),Pe.uniforms.uTexture&&b.uniform1i(Pe.uniforms.uTexture,me.read.attach(0)),Pe.uniforms.value&&b.uniform1f(Pe.uniforms.value,v.PRESSURE),K(me.write),me.swap(),Te.bind(),Te.uniforms.texelSize&&b.uniform2f(Te.uniforms.texelSize,le.texelSizeX,le.texelSizeY),Te.uniforms.uDivergence&&b.uniform1i(Te.uniforms.uDivergence,X.attach(0));for(let Z=0;Z<v.PRESSURE_ITERATIONS;Z++)Te.uniforms.uPressure&&b.uniform1i(Te.uniforms.uPressure,me.read.attach(1)),K(me.write),me.swap();Se.bind(),Se.uniforms.texelSize&&b.uniform2f(Se.uniforms.texelSize,le.texelSizeX,le.texelSizeY),Se.uniforms.uPressure&&b.uniform1i(Se.uniforms.uPressure,me.read.attach(0)),Se.uniforms.uVelocity&&b.uniform1i(Se.uniforms.uVelocity,le.read.attach(1)),K(le.write),le.swap(),ge.bind(),ge.uniforms.texelSize&&b.uniform2f(ge.uniforms.texelSize,le.texelSizeX,le.texelSizeY),!x.supportLinearFiltering&&ge.uniforms.dyeTexelSize&&b.uniform2f(ge.uniforms.dyeTexelSize,le.texelSizeX,le.texelSizeY);const J=le.read.attach(0);ge.uniforms.uVelocity&&b.uniform1i(ge.uniforms.uVelocity,J),ge.uniforms.uSource&&b.uniform1i(ge.uniforms.uSource,J),ge.uniforms.dt&&b.uniform1f(ge.uniforms.dt,U),ge.uniforms.dissipation&&b.uniform1f(ge.uniforms.dissipation,v.VELOCITY_DISSIPATION),K(le.write),le.swap(),!x.supportLinearFiltering&&ge.uniforms.dyeTexelSize&&b.uniform2f(ge.uniforms.dyeTexelSize,ne.texelSizeX,ne.texelSizeY),ge.uniforms.uVelocity&&b.uniform1i(ge.uniforms.uVelocity,le.read.attach(0)),ge.uniforms.uSource&&b.uniform1i(ge.uniforms.uSource,ne.read.attach(1)),ge.uniforms.dissipation&&b.uniform1f(ge.uniforms.dissipation,v.DENSITY_DISSIPATION),K(ne.write),ne.swap()}function Wc(U){b.blendFunc(b.ONE,b.ONE_MINUS_SRC_ALPHA),b.enable(b.BLEND),Ne(U)}function Ne(U){const J=b.drawingBufferWidth,Z=b.drawingBufferHeight;Be.bind(),v.SHADING&&Be.uniforms.texelSize&&b.uniform2f(Be.uniforms.texelSize,1/J,1/Z),Be.uniforms.uTexture&&b.uniform1i(Be.uniforms.uTexture,ne.read.attach(0)),K(U,!1)}function rt(U){const J=U.deltaX*v.SPLAT_FORCE,Z=U.deltaY*v.SPLAT_FORCE;rn(U.texcoordX,U.texcoordY,J,Z,U.color)}function it(U){const J=Or();J.r*=10,J.g*=10,J.b*=10;const Z=10*(Math.random()-.5),ae=30*(Math.random()-.5);rn(U.texcoordX,U.texcoordY,Z,ae,J)}function rn(U,J,Z,ae,pe){xe.bind(),xe.uniforms.uTarget&&b.uniform1i(xe.uniforms.uTarget,le.read.attach(0)),xe.uniforms.aspectRatio&&b.uniform1f(xe.uniforms.aspectRatio,g.width/g.height),xe.uniforms.point&&b.uniform2f(xe.uniforms.point,U,J),xe.uniforms.color&&b.uniform3f(xe.uniforms.color,Z,ae,0),xe.uniforms.radius&&b.uniform1f(xe.uniforms.radius,Nn(v.SPLAT_RADIUS/100)),K(le.write),le.swap(),xe.uniforms.uTarget&&b.uniform1i(xe.uniforms.uTarget,ne.read.attach(0)),xe.uniforms.color&&b.uniform3f(xe.uniforms.color,pe.r,pe.g,pe.b),K(ne.write),ne.swap()}function Nn(U){const J=g.width/g.height;return J>1&&(U*=J),U}function Bi(U,J,Z,ae){U.id=J,U.down=!0,U.moved=!1,U.texcoordX=Z/g.width,U.texcoordY=1-ae/g.height,U.prevTexcoordX=U.texcoordX,U.prevTexcoordY=U.texcoordY,U.deltaX=0,U.deltaY=0,U.color=Or()}function Pi(U,J,Z,ae){U.prevTexcoordX=U.texcoordX,U.prevTexcoordY=U.texcoordY,U.texcoordX=J/g.width,U.texcoordY=1-Z/g.height,U.deltaX=Vl(U.texcoordX-U.prevTexcoordX),U.deltaY=Xf(U.texcoordY-U.prevTexcoordY),U.moved=Math.abs(U.deltaX)>0||Math.abs(U.deltaY)>0,U.color=ae}function Yf(U){U.down=!1}function Vl(U){const J=g.width/g.height;return J<1&&(U*=J),U}function Xf(U){const J=g.width/g.height;return J>1&&(U/=J),U}function Or(){const U=Kf(Math.random(),1,1);return U.r*=.15,U.g*=.15,U.b*=.15,U}function Kf(U,J,Z){let ae=0,pe=0,Le=0;const Ge=Math.floor(U*6),xn=U*6-Ge,dn=Z*(1-J),ui=Z*(1-xn*J),qn=Z*(1-(1-xn)*J);switch(Ge%6){case 0:ae=Z,pe=qn,Le=dn;break;case 1:ae=ui,pe=Z,Le=dn;break;case 2:ae=dn,pe=Z,Le=qn;break;case 3:ae=dn,pe=ui,Le=Z;break;case 4:ae=qn,pe=dn,Le=Z;break;case 5:ae=Z,pe=dn,Le=ui;break}return{r:ae,g:pe,b:Le}}function wn(U,J,Z){const ae=Z-J;return(U-J)%ae+J}window.addEventListener("mousedown",U=>{const J=_[0],Z=tt(U.clientX),ae=tt(U.clientY);Bi(J,-1,Z,ae),it(J)});function Gc(U){const J=_[0],Z=tt(U.clientX),ae=tt(U.clientY),pe=Or();li(),Pi(J,Z,ae,pe),document.body.removeEventListener("mousemove",Gc)}document.body.addEventListener("mousemove",Gc),window.addEventListener("mousemove",U=>{const J=_[0],Z=tt(U.clientX),ae=tt(U.clientY),pe=J.color;Pi(J,Z,ae,pe)});function ro(U){const J=U.targetTouches,Z=_[0];for(let ae=0;ae<J.length;ae++){const pe=tt(J[ae].clientX),Le=tt(J[ae].clientY);li(),Bi(Z,J[ae].identifier,pe,Le)}document.body.removeEventListener("touchstart",ro)}document.body.addEventListener("touchstart",ro),window.addEventListener("touchstart",U=>{const J=U.targetTouches,Z=_[0];for(let ae=0;ae<J.length;ae++){const pe=tt(J[ae].clientX),Le=tt(J[ae].clientY);Bi(Z,J[ae].identifier,pe,Le)}},!1),window.addEventListener("touchmove",U=>{const J=U.targetTouches,Z=_[0];for(let ae=0;ae<J.length;ae++){const pe=tt(J[ae].clientX),Le=tt(J[ae].clientY);Pi(Z,pe,Le,Z.color)}},!1),window.addEventListener("touchend",U=>{const J=U.changedTouches,Z=_[0];for(let ae=0;ae<J.length;ae++)Yf(Z)})},[n,e,t,i,r,s,o,a,l,u,c,h,d,f]),p.jsx("div",{className:"fixed top-0 left-0 z-50 pointer-events-none w-full h-full",children:p.jsx("canvas",{ref:y,id:"fluid",className:"w-screen h-screen block"})})}function dhe({username:n,initialCount:e,className:t="",onRefresh:i}){const[r,s]=w.useState(e),[o,a]=w.useState(null),[l,u]=w.useState(!1);return w.useEffect(()=>{e>0&&s(e)},[e]),console.log("InstagramAnalytics username:",n),p.jsxs("div",{className:"relative flex flex-col items-center justify-center mx-auto w-full "+t,style:{minHeight:"220px"},onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[l&&p.jsx("div",{className:"absolute inset-0 z-50 pointer-events-none",children:p.jsx(hhe,{})}),p.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-[180px] w-full bg-white rounded-xl shadow-lg border border-gray-200 p-8",children:[p.jsxs("div",{className:"text-lg font-medium mb-6 tracking-wide w-full flex items-center justify-between pl-2 pt-2 text-gray-700",children:[p.jsx("span",{children:"Live Follower Count"}),i&&p.jsx("button",{onClick:i,className:"p-1.5 rounded-md hover:bg-gray-100 transition-colors text-gray-600 hover:text-gray-900",title:"Refresh follower count",children:p.jsx(I6,{className:"h-4 w-4"})})]}),p.jsx(ey.div,{initial:{scale:1.2,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"text-[clamp(2rem,8vw,3.5rem)] font-extrabold text-center select-none text-gray-900",style:{letterSpacing:2},children:yz(r)},r),p.jsx("div",{className:"text-xl font-light text-gray-500 mt-2 mb-6 text-center",children:"Followers"}),p.jsx(Yse,{children:o&&p.jsx(ey.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-3xl font-bold "+(o>0?"text-green-500":"text-red-500"),style:{pointerEvents:"none"},children:o>0?`+${o}`:o},o)})]})]})}const wc=w.forwardRef(({className:n,type:e,...t},i)=>p.jsx("input",{type:e,className:lt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:i,...t}));wc.displayName="Input";const fhe=({onAnalyze:n})=>{const[e,t]=w.useState(""),{toast:i}=eo(),r=()=>{if(!e.trim()){i({title:"Please enter an Instagram username",variant:"destructive"});return}n(e)},s=o=>{o.key==="Enter"&&r()};return p.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 mb-8",children:[p.jsx(wc,{type:"text",placeholder:"Enter Instagram username",value:e,onChange:o=>t(o.target.value),onKeyDown:s,className:"w-full md:w-1/2"}),p.jsx(Jt,{onClick:r,className:"w-full md:w-auto",children:"Analyze"})]})},bx=async n=>{try{const e=Ig(yn,"users",n,"analyzedUsernames"),t=Oj(e,LX("lastAnalyzedAt","desc")),i=await Vj(t),r=[];return i.forEach(s=>{var a,l,u;const o=s.data();r.push({username:o.username,createdAt:((a=o.createdAt)==null?void 0:a.toDate())||new Date,updatedAt:((l=o.updatedAt)==null?void 0:l.toDate())||new Date,lastAnalyzedAt:(u=o.lastAnalyzedAt)==null?void 0:u.toDate(),analysisCount:o.analysisCount||1})}),r}catch(e){throw console.error(" Error getting analyzed usernames:",e),e}},phe=async n=>{try{const e=await bx(n);return e.length>0?e[0].username:null}catch(e){throw console.error(" Error getting last analyzed username:",e),e}},mhe=async(n,e)=>{try{const t=wi(yn,"users",n,"analyzedUsernames",e),i=wi(yn,"users",n),r=new Date,s=await pa(t),o=!s.exists(),a=s.exists()?s.data():{},l=o?r:a.createdAt||r,c=(a.analysisCount||0)+1,h={username:e,createdAt:l,updatedAt:r,lastAnalyzedAt:r,analysisCount:c},d={selectedInstagramAccount:e,analyticsReady:!1,updatedAt:r};return await Promise.all([Lo(t,h,{merge:!0}),Lo(i,d,{merge:!0})]),o?console.log(" New username saved successfully:",e):console.log(" Existing username updated successfully:",e,`(analysis #${c})`),console.log(" User document updated with selectedInstagramAccount and analyticsReady: false"),!0}catch(t){throw console.error(" Error saving/updating username:",t),t}},ghe=()=>{const[n,e]=w.useState(null),[t,i]=w.useState(null),[r,s]=w.useState([]),[o,a]=w.useState(!0),[l,u]=w.useState(!1);w.useEffect(()=>{const d=Tv(f=>{f?(e(f.uid),c(f.uid)):(e(null),i(null),a(!1))});return()=>d()},[]);const c=async d=>{try{a(!0);const[f,y]=await Promise.all([phe(d),bx(d)]);i(f),s(y.map(g=>g.username))}catch(f){console.error("Error loading usernames:",f)}finally{a(!1)}};return{userId:n,lastAnalyzedUsername:t,analyzedUsernames:r,loading:o,saving:l,saveUsername:async d=>{if(!n)return console.error("No user ID available"),!1;try{u(!0),await mhe(n,d),i(d);const f=await bx(n);return s(f.map(y=>y.username)),!0}catch(f){return console.error("Error saving username:",f),!1}finally{u(!1)}},loadLastAnalyzedUsername:()=>n&&c(n)}},yhe=54e4;async function u5(n,e,t,i){var r;try{const s={userId:n,username:e};t!=null&&t>0&&(s.resultsLimit=Math.min(200,Math.round(t))),i!=null&&String(i).trim()&&(s.onlyPostsNewerThan=String(i).trim()),console.log(" Calling fetchAndStoreInstagramData with:",s);const a=await Vf(Bf,"fetchAndStoreInstagramData",{timeout:yhe})(s);return console.log(" fetchAndStoreInstagramData Response:",a.data),a.data}catch(s){throw console.error(" Error calling fetchAndStoreInstagramData:",s),console.error("   Error details:",{code:s==null?void 0:s.code,message:s==null?void 0:s.message,name:s==null?void 0:s.name,stack:(r=s==null?void 0:s.stack)==null?void 0:r.substring(0,200)}),s}}async function FD(n,e){try{const t=wi(yn,"users",n,"rawInstagramData",e),i=await pa(t);if(i.exists()){const r=i.data();return{profile:r.profile||null,fetchedAt:r.fetchedAt||""}}return null}catch(t){return console.error("Error loading cached analytics:",t),null}}async function vhe(n){try{const e=n.toLowerCase().trim(),t=wi(yn,"instagramAnalytics",e),i=await pa(t);if(i.exists()){const r=i.data();return{followers:r.followers||0,engagementRate:r.engagementRate||0,avgLikes:r.avgLikes||0,avgComments:r.avgComments||0,postingFrequency:r.postingFrequency||0,topHashtags:r.topHashtags||[],lastUpdated:r.lastUpdated||null}}return null}catch(e){return console.error("Error loading Instagram analytics:",e),null}}async function _x(n,e){try{const t=wi(yn,"users",n),i=await pa(t);let r=null;if(i.exists()){const o=i.data();r={selectedInstagramAccount:o.selectedInstagramAccount||null,analyticsReady:o.analyticsReady===!0}}const s=await vhe(e);if(s){const o=e.toLowerCase().trim(),a={selectedInstagramAccount:o,analyticsReady:!0};return(!r||r.selectedInstagramAccount!==o||!r.analyticsReady)&&await Lo(t,{selectedInstagramAccount:o,analyticsReady:!0},{merge:!0}),r=a,{userState:r,analyticsData:s,needsFetch:!1}}return{userState:r,analyticsData:null,needsFetch:!0}}catch(t){return console.error("Error checking and loading analytics:",t),{userState:null,analyticsData:null,needsFetch:!0}}}async function bhe(n,e){try{if(!(await _x(n,e)).needsFetch)return console.log(" Using cached analytics data for",e),!1;console.log(" Fetching fresh analytics data for",e),console.log("   User ID:",n),console.log("   Username:",e);try{return await u5(n,e),console.log(" fetchAndStoreInstagramData completed successfully"),!0}catch(i){throw console.error(" fetchAndStoreInstagramData failed:",i),console.error("   Error code:",i==null?void 0:i.code),console.error("   Error message:",i==null?void 0:i.message),i}}catch(t){throw console.error("Error fetching analytics:",t),t}}const VD=n=>{let e;const t=new Set,i=(u,c)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const d=e;e=c??(typeof h!="object"||h===null)?h:Object.assign({},e,h),t.forEach(f=>f(e,d))}},r=()=>e,a={setState:i,getState:r,getInitialState:()=>l,subscribe:u=>(t.add(u),()=>t.delete(u))},l=e=n(i,r,a);return a},_he=n=>n?VD(n):VD,whe=n=>n;function xhe(n,e=whe){const t=te.useSyncExternalStore(n.subscribe,te.useCallback(()=>e(n.getState()),[n,e]),te.useCallback(()=>e(n.getInitialState()),[n,e]));return te.useDebugValue(t),t}const The=n=>{const e=_he(n),t=i=>xhe(e,i);return Object.assign(t,e),t},Ehe=n=>The;function c5(n,e){let t;try{t=n()}catch{return}return{getItem:r=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=t.getItem(r))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(r,s)=>t.setItem(r,JSON.stringify(s,void 0)),removeItem:r=>t.removeItem(r)}}const wx=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(i){return wx(i)(t)},catch(i){return this}}}catch(t){return{then(i){return this},catch(i){return wx(i)(t)}}}},Phe=(n,e)=>(t,i,r)=>{let s={storage:c5(()=>localStorage),partialize:g=>g,version:0,merge:(g,_)=>({..._,...g}),...e},o=!1;const a=new Set,l=new Set;let u=s.storage;if(!u)return n((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),t(...g)},i,r);const c=()=>{const g=s.partialize({...i()});return u.setItem(s.name,{state:g,version:s.version})},h=r.setState;r.setState=(g,_)=>(h(g,_),c());const d=n((...g)=>(t(...g),c()),i,r);r.getInitialState=()=>d;let f;const y=()=>{var g,_;if(!u)return;o=!1,a.forEach(b=>{var x;return b((x=i())!=null?x:d)});const v=((_=s.onRehydrateStorage)==null?void 0:_.call(s,(g=i())!=null?g:d))||void 0;return wx(u.getItem.bind(u))(s.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==s.version){if(s.migrate){const x=s.migrate(b.state,b.version);return x instanceof Promise?x.then(P=>[!0,P]):[!0,x]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var x;const[P,k]=b;if(f=s.merge(k,(x=i())!=null?x:d),t(f,!0),P)return c()}).then(()=>{v==null||v(f,void 0),f=i(),o=!0,l.forEach(b=>b(f))}).catch(b=>{v==null||v(void 0,b)})};return r.persist={setOptions:g=>{s={...s,...g},g.storage&&(u=g.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},s.skipHydration||y(),f||d},She=Phe,Che=Ehe()(She((n,e)=>({loadedKeys:[],isLoaded:t=>e().loadedKeys.includes(t),markLoaded:t=>{n(i=>i.loadedKeys.includes(t)?i:{loadedKeys:[...i.loadedKeys,t]})},clearForUser:t=>{n(i=>({loadedKeys:i.loadedKeys.filter(s=>!s.startsWith(`${t}:`))}))}}),{name:"instagram-analytics-loaded-keys",storage:c5(()=>localStorage)})),Ahe=()=>{var v;const[n,e]=w.useState(""),[t,i]=w.useState(!1),[r,s,o]=kF(),{userId:a,saveUsername:l,lastAnalyzedUsername:u,saving:c}=ghe(),{toast:h}=eo(),{isLoaded:d,markLoaded:f,clearForUser:y}=Che();w.useEffect(()=>{u&&!n&&e(u)},[u,n]),w.useEffect(()=>{if(!n||n==="demo_user"||!a)return;const b=`${a}:${n}`;if(d(b)){i(!0),(async()=>{var M;try{const A=await _x(a,n);if(!A.needsFetch&&A.analyticsData){let T,E=0;try{const C=await FD(a,n);C!=null&&C.profile&&(T=C.profile.profilePicUrl||C.profile.profilePictureUrl,E=C.profile.mediaCount||((M=C.profile.media)==null?void 0:M.length)||0)}catch{}o(n,{followers:A.analyticsData.followers,engagementRate:A.analyticsData.engagementRate,avgLikes:A.analyticsData.avgLikes,avgComments:A.analyticsData.avgComments,profilePictureUrl:T,mediaCount:E}),i(!1),(!T||E===0)&&s(n)}else i(!1),s(n)}catch{i(!1),s(n)}})();return}const P=async()=>{var k;try{const M=await _x(a,n);if(!M.needsFetch&&M.analyticsData){let A,T=0;try{const E=await FD(a,n);E!=null&&E.profile&&(A=E.profile.profilePicUrl||E.profile.profilePictureUrl,T=E.profile.mediaCount||((k=E.profile.media)==null?void 0:k.length)||0)}catch{}o(n,{followers:M.analyticsData.followers,engagementRate:M.analyticsData.engagementRate,avgLikes:M.analyticsData.avgLikes,avgComments:M.analyticsData.avgComments,profilePictureUrl:A,mediaCount:T}),f(b),(!A||T===0)&&s(n);return}M.needsFetch&&(await bhe(a,n),f(b)),s(n)}catch{s(n),f(b)}};i(!1),P()},[n,a]);const g=async b=>{if(!a){h({title:"Login required",description:"Please login to analyze Instagram accounts.",variant:"destructive"});return}y(a),await l(b)&&(e(b),h({title:"Username saved",description:`@${b} is being analyzed`}))},_=((v=r.insights)==null?void 0:v.dailyMetrics)||[];return p.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[p.jsx(qee,{}),p.jsxs("main",{className:"flex-1 w-full max-w-6xl mx-auto px-4 py-8 md:px-6",children:[p.jsx("h1",{className:"text-4xl font-bold text-center gradient-text mb-10",children:"Instagram Analytics"}),p.jsxs("div",{className:"bg-white rounded-xl shadow p-6 mb-8",children:[p.jsx(fhe,{onAnalyze:g}),c&&p.jsx("p",{className:"text-sm text-gray-500 mt-3 text-center",children:"Saving username"})]}),r.error&&p.jsx("div",{className:"bg-red-50 p-5 rounded-lg text-center mb-6",children:p.jsx("p",{className:"text-red-600",children:r.error})}),r.loading&&!t&&n&&p.jsxs("div",{className:"bg-blue-50 p-5 rounded-lg text-center mb-6",children:["Fetching analytics for @",n,""]}),n&&!r.loading&&!r.error&&p.jsxs(p.Fragment,{children:[p.jsx(rhe,{username:n,profilePictureUrl:r.profile.profile_picture_url,followers:r.profile.followers_count,following:r.profile.follows_count,posts:r.profile.media_count,averageLikes:r.insights.engagement.likes,averageComments:r.insights.engagement.comments,engagementRate:r.insights.engagement.rate}),p.jsx(dhe,{username:n,initialCount:r.currentFollowerCount,onRefresh:()=>s(n)}),_.length>0&&p.jsx(uhe,{data:_}),p.jsx(ihe,{username:n})]})]})]})},khe={background:"linear-gradient(90deg, #f9ce34, #ee2a7b, #6228d7)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},Ihe={background:"linear-gradient(90deg, #f9ce34, #ee2a7b, #6228d7)",color:"white",border:"none"},Dhe=()=>{const{toast:n}=eo(),[e,t]=w.useState(""),[i,r]=w.useState(null),[s,o]=w.useState(null),[a,l]=w.useState([]),[u,c]=w.useState(!0),[h,d]=w.useState(!1),[f,y]=w.useState(null),[g,_]=w.useState(!1),[v,b]=w.useState({});w.useEffect(()=>{const C=Bd();if(!C){r(null),c(!1);return}r(C.uid),(async()=>{try{const q=(await pa(wi(yn,"users",C.uid))).data()||{},ee=q.selectedInstagramAccount;if(y(q.currentPlan||null),!ee){o(null);return}const H=ee.toLowerCase().trim(),F=await pa(wi(yn,"instagramAnalytics",H));if(!F.exists()){o(null);return}const j=F.data();o({username:H,followers:j.followers??0,engagementRate:j.engagementRate??0,avgLikes:j.avgLikes??0,avgComments:j.avgComments??0,postingFrequency:j.postingFrequency??0,posts:Array.isArray(j.posts)?j.posts.map(L=>({postId:L.url||L.shortcode||L.code||String(L.timestamp||Date.now()),type:L.type==="Video"||L.isVideo?"Reel":"Post",likes:L.likesCount??0,comments:L.commentsCount??0,engagement:(L.likesCount??0)+(L.commentsCount??0),timestamp:typeof L.timestamp=="number"?L.timestamp:typeof L.takenAtTimestamp=="number"?L.takenAtTimestamp:Math.floor(Date.now()/1e3),caption:L.caption||"",thumbnailUrl:L.url||null})):[]})}catch{o(null),n({title:"Unable to load analytics",description:"Please refresh the page or try again later.",variant:"destructive"})}})();const N=Ig(yn,"users",C.uid,"competitors"),R=Bj(N,V=>{const q=V.docs.map(ee=>{const H=ee.data();return{username:H.username||ee.id,followers:H.followers??0,engagementRate:H.engagementRate??0,avgLikes:H.avgLikes??0,avgComments:H.avgComments??0,postingFrequency:H.postingFrequency??0,lastUpdated:H.lastUpdated,posts:Array.isArray(H.posts)?H.posts:[]}});l(q),c(!1)},()=>{c(!1)});return()=>R()},[]),w.useEffect(()=>{if(!(s!=null&&s.username)){b({});return}const C=s.username,D=a.slice(0,4).map(q=>q.username.toLowerCase()),N=[C,...D].filter((q,ee,H)=>H.indexOf(q)===ee);if(N.length===0){b({});return}let R=!1;return(async()=>{_(!0);const q=Ig(yn,"followerHistory"),ee={};try{await Promise.all(N.map(async H=>{const F=Oj(q,jX("username","==",H)),L=(await Vj(F)).docs.map($=>{const oe=$.data(),K=oe.date;return{date:K&&typeof K.toDate=="function"?K.toDate():new Date,followers:typeof oe.followers=="number"?oe.followers:0}}),B=new Date;B.setDate(B.getDate()-29),B.setHours(0,0,0,0);const z=L.filter($=>$.date.getTime()>=B.getTime());z.sort(($,oe)=>$.date.getTime()-oe.date.getTime()),ee[H]=z})),R||(b(ee),_(!1))}catch{R||(b({}),_(!1))}})(),()=>{R=!0}},[s==null?void 0:s.username,a]);const x=w.useMemo(()=>{if(!f)return 0;const C=f.toLowerCase();return C.includes("creator")||C.includes("trends+")?2:C.includes("pro  growth accelerator")||C.includes("analytics+")?5:C.includes("pro combo")||C.includes("elite")||C.includes("agency")?10:0},[f]),P=async()=>{const C=e.trim();if(!C||!i)return;const D=x||0;if(D>0&&a.length>=D){n({title:"Limit reached",description:`You can track up to ${D} competitors on your current plan.`,variant:"destructive"});return}d(!0);try{const V=(await Vf(Bf,"addCompetitor")({username:C})).data;V!=null&&V.message?n({title:"Competitor",description:V.message}):n({title:"Competitor added",description:`Now tracking @${C}.`}),t("")}catch(N){const R=(N==null?void 0:N.code)==="failed-precondition"?"Upgrade your plan to track more competitors.":(N==null?void 0:N.message)||"Failed to add competitor.";n({title:"Error",description:R,variant:"destructive"})}finally{d(!1)}},{metrics:k,chartData:M,spikes:A,hasEnoughHistory:T}=w.useMemo(()=>{if(!(s!=null&&s.username))return{metrics:[],chartData:[],spikes:[],hasEnoughHistory:!1};const C=s.username,D=a.slice(0,3).map(L=>L.username.toLowerCase()),N=[C,...D].filter((L,B,z)=>z.indexOf(L)===B);if(N.length===0)return{metrics:[],chartData:[],spikes:[],hasEnoughHistory:!1};const R={};if(N.forEach(L=>{const B=v[L]||[];if(!B.length){R[L]=[];return}const z=[...B].sort((K,ne)=>K.date.getTime()-ne.date.getTime());let $=null;const oe=z.map(K=>{const ne=$===null?0:K.followers-$;return $=K.followers,{date:K.date,followers:K.followers,dailyGain:ne}});R[L]=oe}),(R[C]||[]).length<30)return{metrics:[],chartData:[],spikes:[],hasEnoughHistory:!1};const q=[],ee=new Date;ee.setHours(0,0,0,0);for(let L=29;L>=0;L-=1){const B=new Date(ee);B.setDate(B.getDate()-L),q.push(B)}const H=q.map(L=>({date:L.toLocaleDateString()})),F=[],j=[];return N.forEach((L,B)=>{const z=R[L];if(!z||z.length===0)return;const $=L===C,oe=$?`${L} (you)`:`@${L}`,K=$?"You":`@${L}`;let ne=0,le=z[0].followers,X=z[0].dailyGain;const ce=z[0].followers,me=z[z.length-1].followers;H.forEach((Be,gt)=>{const ft=q[gt],ut=new Date(ft);for(ut.setDate(ut.getDate()+1);ne<z.length&&z[ne].date<ut;)le=z[ne].followers,X=z[ne].dailyGain,ne+=1;Be[K]=le,Be[`${K}_gain`]=X});const fe=me-ce,Pe=ce>0?fe/ce*100:0,xe=fe/30,ge=z.slice(-7);z.slice(0,Math.max(0,z.length-7));const De=Be=>{if(Be.length<2)return xe;let gt=0;for(let ut=1;ut<Be.length;ut+=1)gt+=Be[ut].followers-Be[ut-1].followers;const ft=Be.length-1;return ft>0?gt/ft:xe},Ee=De(ge),Ve=De(z);let Te="Stable";Ee>Ve*1.25&&Ee>0?Te="Accelerating":Ee<Ve*.75&&Ve>0&&(Te="Slowing"),F.push({username:L,displayName:oe,isSelf:$,seriesKey:K,currentFollowers:me,followers30DaysAgo:ce,growthPercent:Pe,netGain:fe,dailyAvg:xe,status:Te});const Se=xe*2;Se>0&&z.forEach(Be=>{Be.dailyGain>Se&&j.push({username:L,displayName:oe,date:Be.date,gain:Be.dailyGain})})}),j.sort((L,B)=>B.date.getTime()-L.date.getTime()),{metrics:F,chartData:H,spikes:j,hasEnoughHistory:!0}},[v,s==null?void 0:s.username,a]),E=w.useMemo(()=>{if(!f)return!1;const C=f.toLowerCase();return!!(C.includes("pro  growth accelerator")||C.includes("analytics+")||C.includes("pro combo")||C.includes("elite")||C.includes("agency")||C.includes("pro")&&!C.includes("creator"))},[f]);return p.jsx("div",{className:"min-h-screen bg-background flex flex-col items-center py-8 px-4 md:pl-16",children:p.jsxs("div",{className:"w-full md:ml-16 md:max-w-6xl space-y-8",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",style:khe,children:"Competitor Intelligence"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Track how your Instagram competitors are growing and how their content performs."})]}),p.jsxs(qi,{children:[p.jsx(Qi,{children:p.jsx(Zi,{children:"Add Competitor"})}),p.jsxs(Ji,{className:"space-y-2",children:[p.jsxs("div",{className:"flex flex-col md:flex-row gap-3 md:items-center",children:[p.jsx(wc,{placeholder:"Enter Instagram username (without @)",value:e,onChange:C=>t(C.target.value),className:"md:max-w-sm"}),p.jsx(Jt,{onClick:P,disabled:h||!e.trim()||!i||x>0&&a.length>=x,style:Ihe,children:h?p.jsx("span",{className:"loading-text-inline",children:["A","D","D","I","N","G"].map((C,D)=>p.jsx("span",{className:"loading-char",children:C},D))}):"Add Competitor"})]}),p.jsx("p",{className:"text-xs text-gray-500",children:x>0?p.jsxs(p.Fragment,{children:["Tracking ",a.length," of ",x," competitors in this workspace."]}):"Upgrade your plan to start tracking competitors."})]})]}),p.jsxs(qi,{children:[p.jsx(Qi,{children:p.jsx(Zi,{children:"Competitor Overview (last 30 days)"})}),p.jsx(Ji,{children:u?p.jsx("p",{className:"text-sm text-gray-500",children:"Loading competitor data"}):p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full text-sm",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"text-left text-gray-500 border-b",children:[p.jsx("th",{className:"py-2 pr-4",children:"Account"}),p.jsx("th",{className:"py-2 pr-4",children:"Followers"}),p.jsx("th",{className:"py-2 pr-4",children:"Engagement Rate"}),p.jsx("th",{className:"py-2 pr-4",children:"Posting Frequency (posts/week)"}),p.jsx("th",{className:"py-2 pr-4",children:"Posts (30d)"}),p.jsx("th",{className:"py-2 pr-4",children:"Actions"})]})}),p.jsxs("tbody",{children:[s&&p.jsxs("tr",{className:"border-b bg-gray-50",children:[p.jsxs("td",{className:"py-2 pr-4 font-semibold",children:["@",s.username," (you)"]}),p.jsx("td",{className:"py-2 pr-4",children:s.followers.toLocaleString()}),p.jsxs("td",{className:"py-2 pr-4",children:[s.engagementRate.toFixed(2),"%"]}),p.jsx("td",{className:"py-2 pr-4",children:s.postingFrequency.toFixed(2)}),p.jsx("td",{className:"py-2 pr-4",children:s.posts.length}),p.jsx("td",{className:"py-2 pr-4 text-xs text-gray-400",children:""})]}),a.map(C=>{var D;return p.jsxs("tr",{className:"border-b",children:[p.jsxs("td",{className:"py-2 pr-4 font-semibold",children:["@",C.username]}),p.jsx("td",{className:"py-2 pr-4",children:C.followers.toLocaleString()}),p.jsxs("td",{className:"py-2 pr-4",children:[C.engagementRate.toFixed(2),"%"]}),p.jsx("td",{className:"py-2 pr-4",children:C.postingFrequency.toFixed(2)}),p.jsx("td",{className:"py-2 pr-4",children:((D=C.posts)==null?void 0:D.length)||0}),p.jsx("td",{className:"py-2 pr-4",children:p.jsx("button",{type:"button",onClick:async()=>{if(!(!i||!window.confirm(`Remove @${C.username} from your competitor list?`)))try{await UX(wi(yn,"users",i,"competitors",C.username)),n({title:"Removed",description:`Stopped tracking @${C.username}.`})}catch{n({title:"Error",description:"Failed to remove competitor. Please try again.",variant:"destructive"})}},className:"text-red-500 text-xs hover:underline",children:"Remove"})})]},C.username)}),!s&&a.length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:6,className:"py-4 text-gray-400",children:"No analytics found yet. Run Instagram Analytics and add a competitor to get started."})})]})]})})})]}),p.jsxs(qi,{children:[p.jsx(Qi,{children:p.jsx(Zi,{children:"Growth Comparison"})}),p.jsxs(Ji,{className:"relative",children:[g?p.jsx("p",{className:"text-sm text-gray-500",children:"Loading follower history"}):T?p.jsxs("div",{className:E?"":"pointer-events-none select-none filter blur-sm",children:[p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:(()=>{if(k.length===0)return null;const C=k.map(V=>V.growthPercent),D=Math.max(...C),N=Math.min(...C),R=k.length>1;return k.map(V=>{const q=R&&V.growthPercent===D,ee=R&&V.growthPercent===N,H="rounded-xl border p-3 bg-white shadow-sm text-xs md:text-sm",F=q?" border-green-500 bg-green-50":ee?" border-red-500 bg-red-50":" border-gray-200",j=V.status==="Accelerating"?"":V.status==="Slowing"?"":"";return p.jsxs("div",{className:H+F,children:[p.jsx("p",{className:"text-[11px] text-gray-500 mb-1",children:V.isSelf?`${V.username} (you)`:`@${V.username}`}),p.jsxs("p",{className:"font-semibold mb-1",children:["30 Day Growth: ",V.growthPercent.toFixed(1),"%"]}),p.jsxs("p",{className:"text-gray-600",children:["Net Gain: ",V.netGain.toLocaleString()]}),p.jsxs("p",{className:"text-gray-600",children:["Daily Avg: ",V.dailyAvg.toFixed(1)," / day"]}),p.jsxs("p",{className:"mt-1 text-gray-700 font-medium",children:[j," ",V.status]})]},V.username)})})()}),p.jsx("div",{className:"rounded-lg bg-gray-50 border border-gray-200 p-3 text-xs md:text-sm",children:(()=>{if(!(s!=null&&s.username))return p.jsx("p",{className:"text-gray-500",children:"Connect an Instagram account to see growth gap insights."});const C=k.find(j=>j.username===s.username),D=k.filter(j=>j.username!==s.username);if(!C||D.length===0)return p.jsx("p",{className:"text-gray-500",children:"Add at least one competitor to see growth gap insights."});const N=D.reduce((j,L)=>L.growthPercent>j.growthPercent?L:j),R=N.growthPercent-C.growthPercent,V=C.dailyAvg,H=(N.dailyAvg-V)*30;if(R>0&&H>0)return p.jsxs(p.Fragment,{children:[p.jsxs("p",{className:"text-gray-700",children:["You are growing ",Math.round(R),"% slower than"," ",N.displayName,"."]}),p.jsxs("p",{className:"text-gray-700 mt-1",children:["If this continues, ",N.displayName," will gain approximately"," ",Math.round(H).toLocaleString()," more followers than you in the next 30 days."]})]});const F=-H;return p.jsxs(p.Fragment,{children:[p.jsxs("p",{className:"text-gray-700",children:["You are growing at a similar or faster rate than"," ",N.displayName,"."]}),F>0&&p.jsxs("p",{className:"text-gray-700 mt-1",children:["If this continues, you could gain approximately"," ",Math.round(F).toLocaleString()," more followers than ",N.displayName," in the next 30 days."]})]})})()})]}):p.jsx("p",{className:"text-sm text-gray-500",children:"Not enough historical data to generate growth comparison."}),!g&&T&&!E&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/70 backdrop-blur-sm rounded-lg",children:p.jsx("p",{className:"text-sm font-medium text-gray-700 text-center max-w-sm",children:"Upgrade to PRO  Growth Accelerator to unlock competitor growth intelligence."})})]})]}),p.jsxs(qi,{children:[p.jsx(Qi,{children:p.jsx(Zi,{children:"Trending Competitor Posts"})}),p.jsx(Ji,{className:"space-y-6",children:a.length===0?p.jsx("p",{className:"text-sm text-gray-500",children:"Add competitors to see their top performing posts."}):a.map(C=>{const D=[...C.posts||[]].sort((N,R)=>R.engagement-N.engagement).slice(0,3);return D.length?p.jsxs("div",{children:[p.jsxs("h3",{className:"font-semibold mb-2",children:["@",C.username]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:D.map(N=>{const R=new Date(N.timestamp*1e3);return p.jsx("div",{className:"rounded-xl border border-gray-200 bg-white shadow-sm overflow-hidden flex flex-col",children:p.jsxs("div",{className:"p-3 space-y-1 flex-1 flex flex-col",children:[p.jsxs("p",{className:"text-xs text-gray-500",children:[R.toLocaleDateString(),"  ",N.type]}),p.jsx("p",{className:"text-xs text-gray-700 line-clamp-3 flex-1",children:N.caption||"No caption"}),p.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 mt-2",children:[p.jsxs("span",{children:[" ",N.likes]}),p.jsxs("span",{children:[" ",N.comments]}),p.jsxs("span",{children:[" ",N.engagement]})]}),p.jsx(Jt,{asChild:!0,className:"mt-3 text-xs w-full bg-[#d72989] hover:bg-[#c0257a] text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:p.jsx("a",{href:N.url&&N.url.startsWith("http")?N.url:`https://www.instagram.com/p/${N.postId}/`,target:"_blank",rel:"noopener noreferrer",children:"View Post"})})]})},N.postId)})})]},C.username):null})})]})]})})};function Rhe(){const[n,e]=w.useState(""),[t,i]=w.useState(""),[r,s]=w.useState("login"),[o,a]=w.useState(!1),{toast:l}=eo(),u=Ta(),c=async()=>{try{l({title:"Signing in with Google...",description:"Please complete the sign-in process in the popup window."}),await OQ(),l({title:" Successfully signed in with Google",description:"Welcome to Insytiq!"}),u("/")}catch(f){console.error("Google sign-in error in login page:",f);const y=f instanceof Error?f.message:"An unknown error occurred";if(y.includes("not authorized")){const g=window.location.hostname,_="https://console.firebase.google.com/project/social-trends-29ac2/authentication/settings";l({title:" Google Sign-in Failed",description:`Domain "${g}" is not authorized. Click the button below to open Firebase Console and add it.`,variant:"destructive",duration:15e3,action:p.jsx(GM,{altText:"Open Firebase Console",onClick:()=>window.open(_,"_blank"),children:"Open Firebase Console"})})}else l({title:" Google Sign-in Failed",description:y,variant:"destructive",duration:5e3})}},h=async f=>{f.preventDefault();const y=FT();try{r==="login"?(await gq(y,n,t),l({title:"Logged in successfully"})):(await mq(y,n,t),l({title:"Account created and signed in"})),u("/")}catch(g){l({title:r==="login"?"Login Failed":"Signup Failed",description:g.message,variant:"destructive"})}},d=()=>{s(f=>f==="login"?"signup":"login")};return p.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:p.jsxs("div",{className:"flex flex-col md:flex-row w-full max-w-5xl mx-auto md:shadow-2xl md:rounded-2xl md:overflow-hidden h-screen md:h-auto",children:[p.jsx("div",{className:"w-full h-2/5 md:h-auto md:w-1/2 p-8 bg-gradient-to-br from-purple-400 to-blue-500 order-1 md:order-2 flex items-center justify-center",children:p.jsx("div",{className:"h-full flex items-center justify-center w-full",children:p.jsxs("div",{className:"text-white text-center",children:[p.jsx("h1",{className:"text-4xl font-bold",children:"Insytiq"}),p.jsx("p",{className:"mt-4 text-lg",children:"Discover what's trending."})]})})}),p.jsxs("div",{className:"w-full h-3/5 md:h-auto md:w-1/2 p-8 sm:p-12 bg-white order-2 md:order-1 flex flex-col justify-center relative rounded-t-3xl md:rounded-t-none -mt-8 md:mt-0",children:[p.jsxs("div",{className:"mb-8 text-center md:text-left",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-bold",children:r==="login"?"Sign In":"Sign Up"}),p.jsxs("p",{className:"mt-2 text-gray-600",children:[r==="login"?"Not a Member? ":"Already a Member? ",p.jsx("button",{onClick:d,className:"text-purple-600 font-semibold hover:underline",children:r==="login"?"Create Account":"Login"})]})]}),p.jsxs("form",{onSubmit:h,className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email"}),p.jsx(wc,{type:"email",placeholder:"Your e-mail",value:n,onChange:f=>e(f.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg bg-gray-100 border-transparent focus:border-purple-500 focus:ring-purple-500"})]}),p.jsxs("div",{className:"space-y-2 relative",children:[p.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Password"}),p.jsx(wc,{type:o?"text":"password",placeholder:"Your password",value:t,onChange:f=>i(f.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg bg-gray-100 border-transparent focus:border-purple-500 focus:ring-purple-500"}),p.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute inset-y-0 right-0 top-7 pr-3 flex items-center text-gray-500",children:o?p.jsx(f6,{size:20}):p.jsx(p6,{size:20})})]}),p.jsxs("div",{className:"flex items-center justify-between text-sm",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{type:"checkbox",id:"remember",className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),p.jsx("label",{htmlFor:"remember",className:"ml-2 text-gray-600",children:"Remember for 30 days"})]}),r==="login"&&p.jsx("a",{href:"#",className:"font-medium text-purple-600 hover:underline",children:"Forgot password?"})]}),p.jsx(Jt,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-4 rounded-lg transition-all duration-300 transform hover:scale-105",children:r==="login"?"Login":"Sign Up"})]}),p.jsxs("div",{className:"mt-8",children:[p.jsxs("div",{className:"flex items-center my-4",children:[p.jsx("div",{className:"flex-grow border-t border-gray-300"}),p.jsx("span",{className:"mx-4 text-gray-500 text-sm",children:"Or sign in with"}),p.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),p.jsxs("div",{className:"flex flex-col space-y-3",children:[p.jsxs(Jt,{variant:"outline",onClick:c,className:"flex items-center justify-center space-x-2 p-3 w-full",children:[p.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/c/c1/Google_%22G%22_logo.svg",alt:"Google",className:"w-5 h-5"}),p.jsx("span",{children:"Sign in with Google"})]}),p.jsx("div",{className:"text-center",children:p.jsx("button",{onClick:async()=>{try{l({title:"Redirecting to Google...",description:"You will be redirected to complete sign-in."}),await jQ()}catch(f){l({title:" Redirect Failed",description:f.message,variant:"destructive"})}},className:"text-sm text-purple-600 hover:underline",children:"Having trouble with popup? Try redirect method"})}),p.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-4",children:[p.jsx(Jt,{variant:"outline",className:"p-3",children:p.jsx(m6,{size:20,className:"text-blue-600"})}),p.jsx(Jt,{variant:"outline",className:"p-3",children:p.jsx(j6,{size:20,className:"text-sky-500"})}),p.jsx(Jt,{variant:"outline",className:"p-3",children:p.jsx(e6,{size:20,className:"text-black"})})]})]})]})]})]})})}const Mhe=()=>p.jsxs("div",{className:"max-w-3xl mx-auto py-12 px-4 bg-white rounded-2xl shadow-md",children:[p.jsx("h1",{className:"text-4xl font-extrabold mb-2 gradient-text",children:"Privacy Policy"}),p.jsxs("p",{className:"text-sm text-muted-foreground mb-8",children:["Effective Date: ",p.jsx("span",{className:"font-semibold",children:"27/June/2025"})]}),p.jsxs("p",{className:"mb-6 text-lg",children:["Welcome to ",p.jsx("span",{className:"font-semibold",children:"Who is Trend"})," (we, our, or us). We are committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website ",p.jsx("span",{className:"text-insta-primary font-semibold",children:"whoistrend.com"}),", use our analytics platform, or subscribe to our services."]}),p.jsx("h2",{className:"text-2xl font-bold mt-10 mb-2",children:"1. Information We Collect"}),p.jsxs("ul",{className:"list-disc list-inside mb-6 text-base space-y-1",children:[p.jsxs("li",{children:[p.jsx("span",{className:"font-semibold",children:"Personal Information:"})," Name, email address, payment details, social media usernames (e.g. Instagram handles) when you sign up or purchase a subscription."]}),p.jsxs("li",{children:[p.jsx("span",{className:"font-semibold",children:"Usage Data:"})," Pages visited, analytics accessed, features used, and interaction patterns."]}),p.jsxs("li",{children:[p.jsx("span",{className:"font-semibold",children:"Cookies & Tracking Technologies:"})," To enhance your experience and measure platform performance."]})]}),p.jsx("h2",{className:"text-2xl font-bold mt-10 mb-2",children:"2. How We Use Your Information"}),p.jsxs("ul",{className:"list-disc list-inside mb-6 text-base space-y-1",children:[p.jsx("li",{children:"Provide and improve our services and features."}),p.jsx("li",{children:"Process your subscription and payments securely."}),p.jsx("li",{children:"Communicate updates, product news, or promotional offers (you can opt out)."}),p.jsx("li",{children:"Monitor usage trends and prevent abuse."})]}),p.jsx("h2",{className:"text-2xl font-bold mt-10 mb-2",children:"3. Sharing Your Information"}),p.jsxs("p",{className:"mb-2",children:["We do ",p.jsx("span",{className:"font-bold text-green-600",children:"not sell"})," your personal data. We may share data with:"]}),p.jsxs("ul",{className:"list-disc list-inside mb-6 text-base space-y-1",children:[p.jsx("li",{children:"Payment Processors (e.g. Paddle, Stripe) for secure billing."}),p.jsx("li",{children:"Analytics Services to improve product performance."}),p.jsx("li",{children:"Legal authorities when required by law."})]}),p.jsx("h2",{className:"text-2xl font-bold mt-10 mb-2",children:"4. Data Security"}),p.jsx("p",{className:"mb-6",children:"We implement industry-standard security measures to protect your data. However, no digital platform is 100% secure. You use our platform at your own risk."}),p.jsx("h2",{className:"text-2xl font-bold mt-10 mb-2",children:"5. Third-Party Links"}),p.jsx("p",{className:"mb-6",children:"Our platform may contain links to third-party services (e.g. Instagram, SocialBlade). We are not responsible for their privacy practices. Please read their policies separately."}),p.jsx("h2",{className:"text-2xl font-bold mt-10 mb-2",children:"6. Your Rights"}),p.jsxs("ul",{className:"list-disc list-inside mb-6 text-base space-y-1",children:[p.jsx("li",{children:"Access or correct your personal data."}),p.jsx("li",{children:"Delete your account and related data."}),p.jsx("li",{children:"Withdraw consent at any time."})]}),p.jsxs("p",{className:"mb-6",children:["To make a request, email us at ",p.jsx("a",{href:"mailto:contact@whoistrend.com",className:"text-insta-primary underline font-semibold",children:"contact@whoistrend.com"}),"."]}),p.jsx("h2",{className:"text-2xl font-bold mt-10 mb-2",children:"7. Children's Privacy"}),p.jsx("p",{className:"mb-6",children:"Our platform is not intended for users under the age of 13. We do not knowingly collect data from children."}),p.jsx("h2",{className:"text-2xl font-bold mt-10 mb-2",children:"8. Changes to This Policy"}),p.jsx("p",{className:"mb-6",children:"We may update this Privacy Policy periodically. We'll notify users of significant changes via email or platform notice."}),p.jsx("h2",{className:"text-2xl font-bold mt-10 mb-2",children:"9. Contact Us"}),p.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[p.jsx("span",{role:"img","aria-label":"email",children:""}),p.jsx("a",{href:"mailto:contact@whoistrend.com",className:"text-insta-primary underline font-semibold",children:"contact@whoistrend.com"})]}),p.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[p.jsx("span",{role:"img","aria-label":"web",children:""}),p.jsx("a",{href:"www.whoistrend.com",className:"text-insta-primary underline font-semibold",children:"www.whoistrend.com"})]})]}),Nhe=()=>p.jsxs("div",{className:"max-w-3xl mx-auto py-12 px-4 bg-white rounded-2xl shadow-md",children:[p.jsx("h1",{className:"text-4xl font-extrabold mb-2 gradient-text",children:"Terms & Conditions"}),p.jsxs("p",{className:"text-sm text-muted-foreground mb-8",children:["Effective Date: ",p.jsx("span",{className:"font-semibold",children:"27/June/2025"})]}),p.jsxs("p",{className:"mb-6 text-lg",children:["Welcome to ",p.jsx("span",{className:"font-semibold",children:"Who is Trend"})," (we, our, or us). These Terms & Conditions (Terms) govern your access to and use of our website and services located at ",p.jsx("span",{className:"text-insta-primary font-semibold",children:"whoistrend.com"})," (the Platform)."]}),p.jsx("p",{className:"mb-6 text-base",children:"By using our platform, you agree to be bound by these Terms. If you do not agree, do not use our services."}),p.jsx("h2",{className:"text-2xl font-bold mt-10 mb-2",children:"1. Eligibility"}),p.jsx("p",{className:"mb-6",children:"You must be at least 13 years old to use this service. By using our services, you represent that you meet this age requirement."}),p.jsx("h2",{className:"text-2xl font-bold mt-10 mb-2",children:"2. Account Registration"}),p.jsxs("ul",{className:"list-disc list-inside mb-6 text-base space-y-1",children:[p.jsx("li",{children:"Provide accurate, complete, and current information."}),p.jsx("li",{children:"Keep your login credentials secure."}),p.jsx("li",{children:"Be responsible for all activities under your account."})]}),p.jsx("h2",{className:"text-2xl font-bold mt-10 mb-2",children:"3. Subscription & Payments"}),p.jsxs("ul",{className:"list-disc list-inside mb-6 text-base space-y-1",children:[p.jsx("li",{children:"We offer both free and paid subscription plans. By subscribing to a paid plan:"}),p.jsx("li",{children:"You authorize us or our payment processor (e.g., Paddle, Stripe) to charge your payment method."}),p.jsx("li",{children:"Subscription fees are billed in advance and are non-refundable."}),p.jsx("li",{children:"Your subscription will auto-renew unless cancelled before the renewal date."})]}),p.jsx("h2",{className:"text-2xl font-bold mt-10 mb-2",children:"4. Use of the Platform"}),p.jsxs("ul",{className:"list-disc list-inside mb-6 text-base space-y-1",children:[p.jsx("li",{children:"You agree not to:"}),p.jsx("li",{children:"Scrape, copy, or reverse engineer our services or content."}),p.jsx("li",{children:"Misuse our data or violate any Instagram or third-party terms."}),p.jsx("li",{children:"Use our services for illegal, misleading, or harmful purposes."})]}),p.jsx("p",{className:"mb-6",children:"We reserve the right to suspend or terminate your access if we suspect misuse."}),p.jsx("h2",{className:"text-2xl font-bold mt-10 mb-2",children:"5. Intellectual Property"}),p.jsxs("p",{className:"mb-6",children:["All content on the platform, including branding, design, data visualizations, and code, is our intellectual property or licensed to us.",p.jsx("br",{}),"You are granted a limited, non-transferable, non-exclusive license to use the platform for personal or business use under your chosen plan."]}),p.jsx("h2",{className:"text-2xl font-bold mt-10 mb-2",children:"6. Third-Party Integrations"}),p.jsx("p",{className:"mb-6",children:"Our platform may use third-party APIs (e.g., SocialBlade, Instagram) to provide data. We are not responsible for inaccuracies or outages from those sources."}),p.jsx("h2",{className:"text-2xl font-bold mt-10 mb-2",children:"7. Limitation of Liability"}),p.jsxs("ul",{className:"list-disc list-inside mb-6 text-base space-y-1",children:[p.jsx("li",{children:"To the fullest extent permitted by law, we are not liable for:"}),p.jsx("li",{children:"Indirect or consequential damages."}),p.jsx("li",{children:"Any data loss or loss of business profits."}),p.jsx("li",{children:"Errors or interruptions in service."})]}),p.jsx("p",{className:"mb-6",children:"Use the platform at your own risk."}),p.jsx("h2",{className:"text-2xl font-bold mt-10 mb-2",children:"8. Cancellation & Termination"}),p.jsxs("ul",{className:"list-disc list-inside mb-6 text-base space-y-1",children:[p.jsx("li",{children:"You may cancel your subscription at any time. Upon cancellation:"}),p.jsx("li",{children:"Your account will remain active until the end of the current billing period."}),p.jsx("li",{children:"No refunds will be issued for partial usage."}),p.jsx("li",{children:"We may terminate your account without notice if you violate these Terms."})]}),p.jsx("h2",{className:"text-2xl font-bold mt-10 mb-2",children:"9. Changes to the Terms"}),p.jsx("p",{className:"mb-6",children:"We may update these Terms at any time. We will notify you of significant changes via email or notice on the platform. Your continued use of the service means you accept the changes."}),p.jsx("h2",{className:"text-2xl font-bold mt-10 mb-2",children:"10. Contact Us"}),p.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[p.jsx("span",{role:"img","aria-label":"email",children:""}),p.jsx("a",{href:"mailto:contact@whoistrend.com",className:"text-insta-primary underline font-semibold",children:"contact@whoistrend.com"})]}),p.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[p.jsx("span",{role:"img","aria-label":"web",children:""}),p.jsx("a",{href:"https://www.whoistrend.com",className:"text-insta-primary underline font-semibold",children:"www.whoistrend.com"})]})]}),Ohe=()=>p.jsxs("div",{className:"max-w-3xl mx-auto py-12 px-4 bg-white rounded-2xl shadow-md",children:[p.jsx("h1",{className:"text-4xl font-extrabold mb-2 gradient-text",children:"Refund Policy"}),p.jsxs("p",{className:"text-sm text-muted-foreground mb-8",children:["Effective Date: ",p.jsx("span",{className:"font-semibold",children:"27/June/2025"})]}),p.jsxs("p",{className:"mb-6 text-lg",children:["Thank you for subscribing to ",p.jsx("span",{className:"font-semibold",children:"Who is Trend"}),". We are committed to delivering value through our trend and influencer analytics tools. However, due to the nature of digital products and data-based services, we have the following refund policy in place:"]}),p.jsx("h2",{className:"text-2xl font-bold mt-10 mb-2",children:"1. Subscription Plans (Free & Paid)"}),p.jsxs("p",{className:"mb-6",children:["Our platform offers both free and paid subscription plans.",p.jsx("br",{}),"When you choose a paid plan, you get immediate access to premium data, insights, and analytics tools."]}),p.jsx("h2",{className:"text-2xl font-bold mt-10 mb-2",children:"2. No Refunds on Paid Subscriptions"}),p.jsxs("ul",{className:"list-disc list-inside mb-6 text-base space-y-1",children:[p.jsx("li",{children:"All payments made for subscription plans (monthly or annually) are non-refundable, including:"}),p.jsx("li",{children:"Partial use of the service during the billing period."}),p.jsx("li",{children:"Downgrades after payment."}),p.jsx("li",{children:"Change of mind or accidental purchase."}),p.jsx("li",{children:"Once a payment is processed, we do not issue refunds, regardless of usage."})]}),p.jsx("h2",{className:"text-2xl font-bold mt-10 mb-2",children:"3. Auto-Renewals and Cancellations"}),p.jsxs("ul",{className:"list-disc list-inside mb-6 text-base space-y-1",children:[p.jsx("li",{children:"Your subscription will automatically renew at the end of each billing cycle unless cancelled in advance."}),p.jsx("li",{children:"You can cancel your plan at any time from your account dashboard. After cancellation, you'll still have access to the service until your billing period ends."}),p.jsx("li",{children:"It is your responsibility to cancel your subscription before the renewal date to avoid charges."})]}),p.jsx("h2",{className:"text-2xl font-bold mt-10 mb-2",children:"4. Exceptions (If Applicable)"}),p.jsxs("ul",{className:"list-disc list-inside mb-6 text-base space-y-1",children:[p.jsx("li",{children:"Refunds may be considered in the following rare cases:"}),p.jsx("li",{children:"If the platform experiences extended downtime (over 72 consecutive hours)."}),p.jsx("li",{children:"If your account was charged due to a technical error on our side."}),p.jsxs("li",{children:["For any such exception, you must contact us at ",p.jsx("a",{href:"mailto:contact@whoistrend.com",className:"text-insta-primary underline font-semibold",children:"contact@whoistrend.com"})," within 7 days of the billing date."]})]}),p.jsx("h2",{className:"text-2xl font-bold mt-10 mb-2",children:"5. Disputed Charges"}),p.jsx("p",{className:"mb-6",children:"If you notice an unrecognized charge, please contact us before disputing it with your payment provider. We're here to resolve issues quickly."}),p.jsx("h2",{className:"text-2xl font-bold mt-10 mb-2",children:"6. How to Contact Us"}),p.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[p.jsx("span",{role:"img","aria-label":"email",children:""}),p.jsx("a",{href:"mailto:contact@whoistrend.com",className:"text-insta-primary underline font-semibold",children:"contact@whoistrend.com"})]}),p.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[p.jsx("span",{role:"img","aria-label":"web",children:""}),p.jsx("a",{href:"https://www.whoistrend.com",className:"text-insta-primary underline font-semibold",children:"www.whoistrend.com"})]})]});function jhe(){const[n,e]=w.useState([]),t=Ta(),i=no(),[r,s]=w.useState(null);w.useEffect(()=>{const l=()=>{try{const c=localStorage.getItem("bb_smartchat_v2_history");if(!c){e([]);return}const h=JSON.parse(c);Array.isArray(h)?e(h):e([])}catch(c){console.error("Failed to load chat history for sidebar:",c)}};l();const u=()=>l();return window.addEventListener("bb-smartchat-history-updated",u),()=>{window.removeEventListener("bb-smartchat-history-updated",u)}},[]);const o=()=>{i.pathname.startsWith("/smart-chat")||t("/smart-chat"),window.dispatchEvent(new Event("bb-smartchat-new-chat"))},a=l=>{try{const u=localStorage.getItem("bb_smartchat_v2_history"),h=(u?JSON.parse(u):[]).filter(d=>d.id!==l);localStorage.setItem("bb_smartchat_v2_history",JSON.stringify(h)),localStorage.removeItem(`bb_smartchat_v2_history-${l}`),s(null),window.dispatchEvent(new Event("bb-smartchat-history-updated"))}catch(u){console.error("Failed to delete Smart Chat history item:",u)}};return p.jsxs("div",{className:"fixed top-0 left-0 h-screen z-30 flex flex-col bg-white border-r shadow-sm min-w-[220px] max-w-[260px] p-4 hidden md:flex",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[p.jsx("img",{src:XT,alt:"whoistrend logo",className:"h-8 w-8"}),p.jsx("span",{className:"font-extrabold text-xl tracking-tight",children:"whoistrend"})]}),p.jsxs("div",{children:[p.jsx("div",{className:"uppercase text-xs font-semibold text-gray-500 tracking-wider mb-2",children:"Main"}),p.jsxs("nav",{className:"flex flex-col gap-1 mb-4",children:[p.jsx(Di,{to:"/",className:({isActive:l})=>l?"text-[#d72989] font-bold bg-gray-100 rounded px-2 py-1 transition-colors":"text-gray-900 font-medium rounded px-2 py-1 hover:bg-gray-50 hover:text-[#d72989] transition-colors",children:"Home"}),p.jsx(Di,{to:"/trending",className:({isActive:l})=>l?"text-[#d72989] font-bold bg-gray-100 rounded px-2 py-1 transition-colors":"text-gray-900 font-medium rounded px-2 py-1 hover:bg-gray-50 hover:text-[#d72989] transition-colors",children:"Trending"}),p.jsx(Di,{to:"/top-influencers",className:({isActive:l})=>l?"text-[#d72989] font-bold bg-gray-100 rounded px-2 py-1 transition-colors":"text-gray-900 font-medium rounded px-2 py-1 hover:bg-gray-50 hover:text-[#d72989] transition-colors",children:"Top Influencers"})]}),p.jsx("div",{className:"border-t border-gray-200 my-2"})]}),p.jsxs("div",{children:[p.jsx("div",{className:"uppercase text-xs font-semibold text-gray-500 tracking-wider mb-2",children:"Analytics"}),p.jsxs("nav",{className:"flex flex-col gap-1 mb-4",children:[p.jsx(Di,{to:"/instagram-analytics",className:({isActive:l})=>l?"text-[#d72989] font-bold bg-gray-100 rounded px-2 py-1 transition-colors":"text-gray-900 font-medium rounded px-2 py-1 hover:bg-gray-50 hover:text-[#d72989] transition-colors",children:"Instagram Analytics"}),p.jsx(Di,{to:"/analytics/competitor-intelligence",className:({isActive:l})=>l?"text-[#d72989] font-bold bg-gray-100 rounded px-2 py-1 transition-colors":"text-gray-900 font-medium rounded px-2 py-1 hover:bg-gray-50 hover:text-[#d72989] transition-colors",children:"Competitor Intelligence"})]}),p.jsx("div",{className:"border-t border-gray-200 my-2"})]}),p.jsxs("div",{children:[p.jsx("div",{className:"uppercase text-xs font-semibold text-gray-500 tracking-wider mb-2",children:"Insights"}),p.jsxs("nav",{className:"flex flex-col gap-1 mb-4",children:[p.jsx(Di,{to:"/subscription",className:({isActive:l})=>l?"text-[#d72989] font-bold bg-gray-100 rounded px-2 py-1 transition-colors":"text-gray-900 font-medium rounded px-2 py-1 hover:bg-gray-50 hover:text-[#d72989] transition-colors",children:"Subscriptions"}),p.jsx(Di,{to:"/smart-chat",className:({isActive:l})=>l?"text-[#d72989] font-bold bg-gray-100 rounded px-2 py-1 transition-colors":"text-gray-900 font-medium rounded px-2 py-1 hover:bg-gray-50 hover:text-[#d72989] transition-colors",children:"Smart Chat"})]}),i.pathname.startsWith("/smart-chat")&&p.jsxs("div",{className:"mt-4 hidden lg:block",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("div",{className:"uppercase text-xs font-semibold text-gray-500 tracking-wider",children:"Chats"}),p.jsx("button",{type:"button",onClick:o,className:"text-[10px] px-2 py-1 rounded-full bg-[#111827] text-white font-semibold shadow hover:shadow-md hover:-translate-y-0.5 transform transition-all",children:"New"})]}),p.jsx("div",{className:"space-y-1 max-h-64 overflow-y-auto pr-1",children:n.length===0?p.jsx("p",{className:"text-[11px] text-gray-400",children:"Your recent Smart Chat conversations will appear here."}):n.map(l=>p.jsxs("div",{className:"w-full flex items-center justify-between gap-1 px-1 py-1 rounded-lg hover:bg-gray-100 group",children:[p.jsx("button",{type:"button",onClick:()=>t(`/smart-chat-v2?chatId=${l.id}`),className:"flex-1 text-left px-1 py-0.5 rounded truncate text-[11px] text-gray-800",title:l.title,children:l.title}),p.jsxs("div",{className:"relative flex-shrink-0",children:[p.jsx("button",{type:"button",onClick:u=>{u.stopPropagation(),s(c=>c===l.id?null:l.id)},className:"p-1 rounded-full text-gray-400 hover:text-gray-700 hover:bg-gray-200",children:p.jsx(h6,{className:"w-3 h-3"})}),r===l.id&&p.jsx("div",{className:"absolute right-0 mt-1 w-28 bg-white border border-gray-200 rounded-md shadow-lg z-50",children:p.jsx("button",{type:"button",onClick:u=>{u.stopPropagation(),window.confirm("Are you sure you want to delete this chat? This action cannot be undone.")&&a(l.id)},className:"w-full text-left px-3 py-1.5 text-[11px] text-red-600 hover:bg-red-50 rounded-md",children:"Delete chat"})})]})]},l.id))})]})]})]})}function Lhe(){const[n,e]=w.useState(!1),[t,i]=w.useState(null),r=Ta(),{toast:s}=eo(),[o,a]=w.useState([]);w.useEffect(()=>{const c=Tv(h=>{i(h)});return i(Bd()),()=>c()},[]),w.useEffect(()=>{const c=()=>{try{const d=localStorage.getItem("bb_smartchat_v2_history");if(!d){a([]);return}const f=JSON.parse(d);Array.isArray(f)?a(f):a([])}catch(d){console.error("Failed to load Smart Chat history for mobile sidebar:",d)}};c();const h=()=>c();return window.addEventListener("bb-smartchat-history-updated",h),()=>{window.removeEventListener("bb-smartchat-history-updated",h)}},[]);const l=async()=>{try{await kL(),s({title:"Signed out"}),e(!1)}catch(c){s({title:"Sign out Failed",description:c.message,variant:"destructive"})}},u=()=>{r("/auth"),e(!1)};return p.jsxs("div",{className:"flex min-h-screen bg-background",children:[p.jsx("div",{className:"hidden md:block",children:p.jsx(jhe,{})}),p.jsx("div",{className:"md:hidden fixed top-4 right-4 z-50",children:p.jsx("button",{onClick:()=>e(!n),className:"p-2 bg-white rounded-lg shadow-lg",children:p.jsx(E6,{className:"w-6 h-6"})})}),n&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"fixed inset-0 bg-black/50 z-[9998] md:hidden",onClick:()=>e(!1)}),p.jsxs("div",{className:"fixed top-0 left-0 w-full h-screen bg-white shadow-2xl z-[9999] flex flex-col md:hidden",children:[p.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[p.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[p.jsx("img",{src:XT,alt:"whoistrend logo",className:"h-8 w-8"}),p.jsx("span",{className:"text-lg",children:"whoistrend"})]}),p.jsx("button",{onClick:()=>e(!1),className:"p-2",children:p.jsx(FM,{className:"w-6 h-6 text-gray-600"})})]}),p.jsxs("div",{className:"flex flex-col flex-grow overflow-y-auto",children:[p.jsx("div",{className:"uppercase text-xs font-semibold text-gray-500 tracking-wider mt-4 mb-2 px-6",children:"Main"}),p.jsx(Di,{to:"/trending",className:({isActive:c})=>c?"bg-[#f9e6f3] text-[#d72989] font-bold rounded px-2 py-2 mx-4 my-1":"text-gray-900 font-medium rounded px-2 py-2 mx-4 my-1 hover:bg-gray-50 hover:text-[#d72989] transition-colors",onClick:()=>e(!1),children:"Trending"}),p.jsx(Di,{to:"/top-influencers",className:({isActive:c})=>c?"bg-[#f9e6f3] text-[#d72989] font-bold rounded px-2 py-2 mx-4 my-1":"text-gray-900 font-medium rounded px-2 py-2 mx-4 my-1 hover:bg-gray-50 hover:text-[#d72989] transition-colors",onClick:()=>e(!1),children:"Top Influencers"}),p.jsx("div",{className:"border-t border-gray-200 my-2 mx-4"}),p.jsx("div",{className:"uppercase text-xs font-semibold text-gray-500 tracking-wider mb-2 px-6",children:"Analytics"}),p.jsx(Di,{to:"/instagram-analytics",className:({isActive:c})=>c?"bg-[#f9e6f3] text-[#d72989] font-bold rounded px-2 py-2 mx-4 my-1":"text-gray-900 font-medium rounded px-2 py-2 mx-4 my-1 hover:bg-gray-50 hover:text-[#d72989] transition-colors",onClick:()=>e(!1),children:"Instagram Analytics"}),p.jsx(Di,{to:"/analytics/competitor-intelligence",className:({isActive:c})=>c?"bg-[#f9e6f3] text-[#d72989] font-bold rounded px-2 py-2 mx-4 my-1":"text-gray-900 font-medium rounded px-2 py-2 mx-4 my-1 hover:bg-gray-50 hover:text-[#d72989] transition-colors",onClick:()=>e(!1),children:"Competitor Intelligence"}),p.jsx("div",{className:"border-t border-gray-200 my-2 mx-4"}),p.jsx("div",{className:"uppercase text-xs font-semibold text-gray-500 tracking-wider mb-2 px-6",children:"Insights"}),p.jsx(Di,{to:"/subscription",className:({isActive:c})=>c?"bg-[#f9e6f3] text-[#d72989] font-bold rounded px-2 py-2 mx-4 my-1":"text-gray-900 font-medium rounded px-2 py-2 mx-4 my-1 hover:bg-gray-50 hover:text-[#d72989] transition-colors",onClick:()=>e(!1),children:"Subscriptions"}),p.jsx(Di,{to:"/smart-chat",className:({isActive:c})=>c?"bg-[#f9e6f3] text-[#d72989] font-bold rounded px-2 py-2 mx-4 my-1":"text-gray-900 font-medium rounded px-2 py-2 mx-4 my-1 hover:bg-gray-50 hover:text-[#d72989] transition-colors",onClick:()=>e(!1),children:"Smart Chat"}),p.jsxs("div",{className:"mt-3 px-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-1",children:[p.jsx("span",{className:"uppercase text-[11px] font-semibold text-gray-500 tracking-wider",children:"Chats"}),p.jsx("button",{type:"button",onClick:()=>{r("/smart-chat"),window.dispatchEvent(new Event("bb-smartchat-new-chat")),e(!1)},className:"text-[10px] px-2 py-1 rounded-full bg-[#111827] text-white font-semibold shadow hover:shadow-md",children:"New"})]}),p.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1 mt-1",children:o.length===0?p.jsx("p",{className:"text-[11px] text-gray-400",children:"Your Smart Chat conversations will appear here."}):o.map(c=>p.jsx("button",{type:"button",onClick:()=>{r(`/smart-chat?chatId=${c.id}`),e(!1)},className:"w-full text-left text-[11px] px-2 py-1.5 rounded-lg bg-gray-50 hover:bg-gray-100 text-gray-800 truncate",title:c.title,children:c.title},c.id))})]}),p.jsx("div",{className:"mt-auto border-t border-gray-200 mx-4 pt-4 pb-6",children:t?p.jsxs("div",{className:"flex flex-col gap-3 px-2",children:[p.jsxs("div",{className:"flex items-center gap-3 px-2",children:[t.photoURL&&p.jsx("img",{src:t.photoURL,alt:"avatar",className:"w-8 h-8 rounded-full border"}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.displayName||t.email}),t.email&&t.displayName&&p.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.email})]})]}),p.jsx(Jt,{variant:"outline",onClick:l,className:"w-full",children:"Sign Out"})]}):p.jsx(Jt,{className:"w-full bg-gradient-to-r from-blue-500 to-blue-700 text-white",onClick:u,children:"Sign In"})})]})]})]}),p.jsx("div",{className:"flex-1 flex flex-col",children:p.jsx(IW,{})})]})}const ff={apiKey:"AIzaSyB7SA-4hAeKzS-1Iw-ei58s0JTdBUf-onM",sheetId:"1PJ4DTnYDBFBWdaEKT2uhIBo-OlNThjFCf0c6tzngXZY",ranges:{hashtags:"Hashtags!A2:F100",audio:"Audio!A2:G100",content:"Content!A2:I100",topInfluencers:"Top Influencers!A2:Z100"}},qE=async n=>{try{const e=`https://sheets.googleapis.com/v4/spreadsheets/${ff.sheetId}/values/${n}?key=${ff.apiKey}`;console.log("Fetching Google Sheets data from URL:",e);const t=await fetch(e);if(!t.ok)throw console.error(`Google Sheets API error: ${t.status} ${t.statusText}`),new Error(`Google Sheets API responded with status: ${t.status}`);const i=await t.json();return console.log("Raw Google Sheets data received:",i),!i.values||i.values.length===0?(console.warn("No values found in the Google Sheets response"),[]):i.values||[]}catch(e){throw console.error("Error fetching Google Sheets data:",e),tr({title:"Google Sheets API Error",description:"Failed to fetch data from Google Sheets. Using fallback data instead.",variant:"destructive"}),e}},Fhe=async()=>{try{console.log("Fetching hashtag data from Google Sheets");try{const e=await qE(ff.ranges.hashtags);if(console.log("Hashtag raw data from sheet:",e),e&&e.length>0)return e.map((t,i)=>({id:i+1,name:t[0]||"unknown",posts:t[1]||"0",growth:parseInt(t[2],10)||0,categories:t[3]?t[3].split(",").map(r=>r.trim()).concat("all"):["all"],lastUpdated:t[4]||new Date().toISOString()}))}catch(e){console.error("Failed to fetch from Google Sheets, using fallback data:",e)}return[["indianfood","5.2M","32","food","2024-04-08T12:00:00Z"],["bollywood","8.7M","45","entertainment","2024-04-08T12:15:00Z"],["yoga","3.6M","25","fitness","2024-04-08T12:30:00Z"],["travel_india","2.9M","18","travel","2024-04-08T12:45:00Z"],["streetfood","4.5M","28","food","2024-04-08T13:00:00Z"],["cricket","9.1M","52","sports","2024-04-08T13:15:00Z"],["diwali","6.3M","40","culture","2024-04-08T13:30:00Z"],["mumbailife","3.8M","22","lifestyle","2024-04-08T13:45:00Z"],["techindia","2.7M","35","tech","2024-04-08T14:00:00Z"],["saree","4.1M","20","fashion","2024-04-08T14:15:00Z"]].map((e,t)=>({id:t+1,name:e[0]||"unknown",posts:e[1]||"0",growth:parseInt(e[2],10)||0,categories:e[3]?[e[3],"all"]:["all"],lastUpdated:e[4]||new Date().toISOString()}))}catch(n){throw console.error("Error transforming hashtag data:",n),n}},Vhe=async()=>{try{console.log("Fetching audio data from Google Sheets");try{const e=await qE(ff.ranges.audio);if(console.log("Audio raw data from sheet:",e),e&&e.length>0)return e.map((t,i)=>({id:i+1,title:t[0]||"Unknown Track",artist:t[1]||"Unknown Artist",usage:parseInt(t[2],10)||50,reels:t[3]||"0",categories:t[4]?t[4].split(",").map(r=>r.trim()).concat("all"):["all"],keywords:t[5]?t[5].split(",").map(r=>r.trim()):[],lastUpdated:t[6]||new Date().toISOString(),type:"audio",thumbnailColor:"bg-purple-500",creator:t[1]||"Unknown Artist",mediaUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",contentId:`audio_${i+1}`}))}catch(e){console.error("Failed to fetch audio from Google Sheets, using fallback data:",e)}return[["As It Was","Harry Styles","85","2.3M","music,bollywood","love,romantic","2025-04-08T12:00:00Z"],["Chaleya","Arijit Singh","78","1.9M","music,bollywood","love,trending","2025-04-08T12:15:00Z"],["Dil Diyan Gallan","Atif Aslam","72","1.5M","music,romantic","love,punjabi","2025-04-08T12:30:00Z"],["Masakali","A.R. Rahman","65","1.2M","music,independent","slow,romantic","2025-04-08T12:45:00Z"],["Maa Tujhe Salaam","A.R. Rahman","58","980K","patriotic,music","national,classic","2025-04-08T13:00:00Z"]].map((e,t)=>({id:t+1,title:e[0]||"Unknown Track",artist:e[1]||"Unknown Artist",usage:parseInt(e[2],10)||50,reels:e[3]||"0",categories:e[4]?e[4].split(",").map(i=>i.trim()).concat("all"):["all"],keywords:e[5]?e[5].split(",").map(i=>i.trim()):[],lastUpdated:e[6]||new Date().toISOString(),type:"audio",thumbnailColor:"bg-purple-500",creator:e[1]||"Unknown Artist",mediaUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",contentId:`audio_${t+1e3}`}))}catch(n){throw console.error("Error transforming audio data:",n),n}},Bhe=async()=>{try{console.log("Fetching content data from Google Sheets");try{const n=await qE(ff.ranges.content);return console.log("Content raw data from sheet:",n),n&&n.length>0?n.map((e,t)=>{console.log(`Processing content row ${t}:`,e);const i=e[0]||"Untitled Content",r=e[1]||"@unknown",s=e[2]||"bg-blue-500";let o=[];e[3]&&(typeof e[3]=="string"?o=e[3].split(",").map(d=>d.trim()):Array.isArray(e[3])&&(o=e[3])),o.includes("all")||o.push("all");let a=[];e[4]&&(typeof e[4]=="string"?a=e[4].split(",").map(d=>d.trim()):Array.isArray(e[4])&&(a=e[4]));let l="post";if(e[5]){const d=String(e[5]).toLowerCase();d==="reel"||d.includes("reel")?l="reel":(d==="audio"||d.includes("audio"))&&(l="audio")}const u=e[6]||"";console.log(`Instagram URL for content ${t}:`,u);const c=e[8]||"";console.log(`Thumbnail URL for content ${t}:`,c);const h=e[7]||`content_${t}`;return{id:t+1,title:i,creator:r,thumbnailColor:s,categories:o,keywords:a,type:l,mediaUrl:c,originalUrl:u,contentId:h,lastUpdated:new Date().toISOString()}}):(console.warn("No content data found in sheet, returning empty array"),[])}catch(n){throw console.error("Failed to fetch content from Google Sheets:",n),n}}catch(n){throw console.error("Error transforming content data:",n),n}},Uhe=async(n,e="all")=>{try{console.log("Fetching Trending Hashtags"),console.log("Search Term:",n),console.log("Category:",e);let t=[];try{t=await Fhe(),console.log("Hashtags from Google Sheets:",t),t.length===0&&tr({title:"No Data Found",description:"No hashtag data was found in Google Sheets.",variant:"destructive"})}catch(r){throw console.error("Error fetching from Google Sheets:",r),tr({title:"Data Fetch Error",description:"Error fetching data from Google Sheets. Check your sheet format.",variant:"destructive"}),r}let i=t.filter(r=>{console.log(`Filtering hashtag: ${r.name}, categories:`,r.categories);const s=e==="all"||r.categories.includes(e)||r.categories.includes("all"),o=!n||r.name.toLowerCase().includes(n.toLowerCase());return s&&o});return console.log("Filtered Hashtags:",i),i}catch(t){throw console.error("Error in fetchTrendingHashtags:",t),t}},$he=async(n,e="all")=>{try{console.log(`Fetching trending content for category: ${e}, search: ${n||"none"}`);let t=[];try{console.log("Attempting to fetch content from Google Sheets");const r=await Bhe();console.log("Content from Google Sheets:",r),r&&Array.isArray(r)&&r.length>0?(t=await Promise.all(r.map(async s=>{try{let o=null;if(s.type==="reel"||s.type==="post")if(s.mediaUrl&&(s.mediaUrl.includes("instagram.com/p/")||s.mediaUrl.includes("instagram.com/reel/")))try{o=await zhe(s.mediaUrl)}catch{console.warn(`Skipping embed fetch for invalid Instagram URL: ${s.mediaUrl}`),o=null}else o=null;return{id:s.id,title:s.title||"Untitled",creator:s.creator||"@unknown",thumbnailColor:s.thumbnailColor||"bg-blue-500",categories:Array.isArray(s.categories)?s.categories:["all"],keywords:Array.isArray(s.keywords)?s.keywords:[],type:s.type,mediaUrl:s.mediaUrl||"",originalUrl:s.originalUrl||s.mediaUrl||"",contentId:s.contentId||`content_${s.id}`,lastUpdated:s.lastUpdated||new Date().toISOString(),embedHtml:o==null?void 0:o.embedHtml,thumbnailUrl:o==null?void 0:o.thumbnailUrl}}catch(o){return console.error(`Error processing content item ${s.id}:`,o),{...s,embedHtml:void 0,thumbnailUrl:void 0}}})),console.log("Processed content from Google Sheets:",t)):console.warn("No content found in Google Sheets or invalid data format");try{console.log("Attempting to fetch audio data");const s=await Vhe();if(console.log("Audio data for content:",s),s&&Array.isArray(s)&&s.length>0){const o=s.map(a=>({id:a.id+1e3,title:a.title,creator:a.creator||a.artist,thumbnailColor:a.thumbnailColor||"bg-purple-500",categories:a.categories,keywords:a.keywords,type:"audio",mediaUrl:a.mediaUrl||"https://storage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",originalUrl:a.originalUrl||a.mediaUrl,contentId:a.contentId||`audio_${a.id}`,lastUpdated:a.lastUpdated||new Date().toISOString()}));t=[...t,...o],console.log("Combined content after adding audio:",t)}}catch(s){console.error("Error fetching audio data:",s)}t.length===0&&(console.warn("No content found in Google Sheets, using fallback data"),t=rm(),tr({title:"Using Sample Content Data",description:"No content data found in Google Sheets. Using sample data instead.",variant:"default"}))}catch(r){console.error("Error fetching content from Google Sheets:",r),tr({title:"Content Data Fetch Error",description:"Error fetching content data. Using fallback data instead.",variant:"default"}),t=rm()}console.log("Combined content before filtering:",t),console.log("Filtering by category:",e),console.log("Filtering by search term:",n||"none");const i=t.filter(r=>{console.log(`Item ${r.id} (${r.title}) categories:`,r.categories);const s=e==="all"||r.categories&&Array.isArray(r.categories)&&(r.categories.includes(e)||r.categories.includes("all")),o=!n||r.title.toLowerCase().includes(n.toLowerCase())||r.creator.toLowerCase().includes(n.toLowerCase())||r.keywords&&Array.isArray(r.keywords)&&r.keywords.length>0&&r.keywords.some(a=>a&&a.toLowerCase().includes((n==null?void 0:n.toLowerCase())||""));return console.log(`Item ${r.id} - Category match: ${s}, Search match: ${o}`),s&&o});return console.log(`Found ${i.length} content items after filtering`),console.log("Posts:",i.filter(r=>r.type==="post")),console.log("Reels:",i.filter(r=>r.type==="reel")),console.log("Audio:",i.filter(r=>r.type==="audio")),i.length===0?(console.warn("No content found after filtering, using unfiltered fallback data"),rm()):i}catch(t){console.error("Error in fetchTrendingContent:",t);const i=rm();return console.log("Using fallback content due to error:",i),i}};new LN({defaultOptions:{queries:{staleTime:1e3*60*5,refetchOnWindowFocus:!1}}});const rm=()=>{const n=[{id:1,title:"Mumbai Street Food Tour",creator:"@mumbai_foodie",thumbnailColor:"bg-orange-500",categories:["food","travel","all"],keywords:["street food","mumbai"],type:"post",mediaUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",contentId:"post_23576"},{id:2,title:"Yoga Sunrise Session",creator:"@yogaguru",thumbnailColor:"bg-green-500",categories:["fitness","lifestyle","all"],keywords:["yoga","wellness"],type:"reel",mediaUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4",contentId:"reel_78954"},{id:3,title:"IPL Cricket Highlights",creator:"@cricketmania",thumbnailColor:"bg-blue-500",categories:["sports","all"],keywords:["cricket","ipl"],type:"reel",mediaUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",contentId:"reel_12398"},{id:4,title:"Diwali Decoration Ideas",creator:"@homemaker",thumbnailColor:"bg-amber-500",categories:["culture","lifestyle","all"],keywords:["diwali","decoration"],type:"post",mediaUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",contentId:"post_45672"},{id:5,title:"Bollywood Beats Mix",creator:"@djbollywood",thumbnailColor:"bg-yellow-500",categories:["music","entertainment","all"],keywords:["bollywood","mix"],type:"audio",mediaUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4",contentId:"audio_12345"},{id:6,title:"Punjabi Party Anthem",creator:"@punjabihits",thumbnailColor:"bg-orange-500",categories:["music","all"],keywords:["punjabi","party"],type:"audio",mediaUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4",contentId:"audio_23456"},{id:7,title:"Classic Bollywood Hits",creator:"@bollywoodlegacy",thumbnailColor:"bg-red-500",categories:["music","all"],keywords:["bollywood","classic"],type:"audio",mediaUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",contentId:"audio_34567"},{id:8,title:"Trending DJ Remix",creator:"@djmixmaster",thumbnailColor:"bg-purple-500",categories:["music","all"],keywords:["remix","dj"],type:"audio",mediaUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4",contentId:"audio_45678"},{id:10001,title:"Test Public Reel (Native Video)",creator:"@publicvideo",thumbnailColor:"bg-pink-500",categories:["all","test"],keywords:["test","public","video"],type:"reel",mediaUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",contentId:"reel_test_public_1"}];for(let e=0;e<5;e++)n.push({id:9+e,title:`Sample Post ${e+1}`,creator:`@creator${e+1}`,thumbnailColor:"bg-purple-500",categories:["all"],keywords:["sample"],type:"post",mediaUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",contentId:`post_${5e3+e}`}),n.push({id:14+e,title:`Sample Reel ${e+1}`,creator:`@reelcreator${e+1}`,thumbnailColor:"bg-blue-400",categories:["all"],keywords:["sample"],type:"reel",mediaUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4",contentId:`reel_${6e3+e}`}),n.push({id:19+e,title:`Sample Audio ${e+1}`,creator:`@audiocreator${e+1}`,thumbnailColor:"bg-green-400",categories:["all"],keywords:["sample"],type:"audio",mediaUrl:"https://storage.googleapis.com/gtv-videos-bucket/sample/SubaruOutbackOnStreetAndDirt.mp4",contentId:`audio_${7e3+e}`});return n},zhe=async n=>{var e;try{if(!((e=n.split("/").filter(Boolean).pop())==null?void 0:e.split("?")[0]))throw new Error("Invalid Instagram URL");const r=await(await fetch(`https://api.instagram.com/oembed/?url=${encodeURIComponent(n)}`)).json();return{embedHtml:r.html,mediaUrl:n,thumbnailUrl:r.thumbnail_url}}catch(t){throw console.error("Error getting Instagram embed data:",t),t}};function Vo({className:n,...e}){return p.jsx("div",{className:lt("animate-pulse rounded-md bg-muted",n),...e})}const Hhe=T1("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",warning:"border-amber-500/50 bg-amber-50/50 text-amber-700 dark:border-amber-500/30 dark:bg-amber-900/20 dark:text-amber-400 [&>svg]:text-amber-500"}},defaultVariants:{variant:"default"}}),QE=w.forwardRef(({className:n,variant:e,...t},i)=>p.jsx("div",{ref:i,role:"alert",className:lt(Hhe({variant:e}),n),...t}));QE.displayName="Alert";const Whe=w.forwardRef(({className:n,...e},t)=>p.jsx("h5",{ref:t,className:lt("mb-1 font-medium leading-none tracking-tight",n),...e}));Whe.displayName="AlertTitle";const ZE=w.forwardRef(({className:n,...e},t)=>p.jsx("div",{ref:t,className:lt("text-sm [&_p]:leading-relaxed",n),...e}));ZE.displayName="AlertDescription";const gy=({selectedCategory:n="all"})=>{const[e,t]=w.useState(""),[i,r]=w.useState([]),[s,o]=w.useState(!0),[a,l]=w.useState(null),[u,c]=w.useState(new Date);w.useEffect(()=>{const d=f=>{t(f.detail.searchTerm)};return window.addEventListener("insta-search",d),()=>{window.removeEventListener("insta-search",d)}},[]);const h=async()=>{o(!0),l(null);try{console.log(`Fetching hashtags with category: ${n} and search: ${e||"none"}`);const d=await Uhe(e,n);console.log("Fetched Hashtags:",d),r(d),c(new Date),tr({title:"Hashtags Loaded",description:`Loaded ${d.length} trending hashtags`,variant:"default"})}catch(d){console.error("Error fetching hashtags:",d),l("Could not fetch hashtag data. Please check your Google Sheet format."),tr({title:"Error fetching data",description:"Please check your Google Sheet format and API connection.",variant:"destructive"})}finally{o(!1)}};return w.useEffect(()=>{h()},[n,e]),p.jsxs(qi,{className:"animate-fade-in",children:[p.jsx(Qi,{className:"pb-2",children:p.jsxs(Zi,{className:"text-lg font-medium flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(N6,{className:"mr-2 h-5 w-5 text-insta-primary"}),"Trending Hashtags ",e&&`for "${e}"`]}),p.jsx(Jt,{variant:"ghost",size:"icon",onClick:h,disabled:s,children:p.jsx(k6,{className:`h-4 w-4 ${s?"animate-spin":""}`})})]})}),p.jsxs(Ji,{children:[a&&p.jsx(QE,{variant:"destructive",className:"mb-4",children:p.jsx(ZE,{children:a})}),p.jsx("div",{className:"space-y-4",children:s?Array.from({length:5}).map((d,f)=>p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Vo,{className:"h-4 w-[120px]"}),p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsx(Vo,{className:"h-4 w-[60px]"}),p.jsx(Vo,{className:"h-4 w-[40px]"})]})]},f)):i.length>0?i.map(d=>p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("div",{className:"flex items-center",children:p.jsxs("span",{className:"text-insta-primary font-medium",children:["#",d.name]})}),p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("span",{className:"text-sm text-muted-foreground",children:[d.posts," posts"]}),p.jsxs("span",{className:"text-xs text-emerald-500 flex items-center min-w-[36px] justify-end",style:{fontSize:"0.85rem",minWidth:"32px"},children:["+",d.growth,"%"]})]})]},d.id)):p.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No trending hashtags found for your search."})})]}),p.jsxs(KT,{className:"text-xs text-muted-foreground pt-0",children:["Last refreshed: ",u.toLocaleTimeString()]})]})},Ghe=({className:n="h-8 w-8"})=>p.jsx("img",{src:"/postlogo.png",alt:"Instagram Logo",className:n,style:{display:"block"}}),Yhe=()=>p.jsx("svg",{width:"0",height:"0",children:p.jsx("defs",{children:p.jsxs("linearGradient",{id:"audio-gradient",x1:"0%",y1:"100%",x2:"100%",y2:"0%",children:[p.jsx("stop",{offset:"0%",stopColor:"#f9ce34"}),p.jsx("stop",{offset:"50%",stopColor:"#ee2a7b"}),p.jsx("stop",{offset:"100%",stopColor:"#6228d7"})]})})}),yy=({selectedCategory:n="all",isPremium:e=!1,userPlan:t=xr.FREE})=>{const[i,r]=w.useState(""),[s,o]=w.useState([]),[a,l]=w.useState(!0),[u,c]=w.useState(null),[h,d]=w.useState("posts"),f=BT("trendingContentLimit",t||xr.FREE)||5;w.useEffect(()=>{(async()=>{l(!0),c(null);try{const x=await $he(i,n);if(!Array.isArray(x))throw new Error("Invalid content data received");o(x)}catch{c("Could not fetch content data. Please check your Google Sheet format.")}finally{l(!1)}})()},[n,i]);const y=s.filter(b=>b.type==="post").slice(0,10),g=s.filter(b=>b.type==="reel").slice(0,10),_=s.filter(b=>b.type==="audio").slice(0,10),v=(b,x)=>{if(a)return p.jsx("div",{className:"flex overflow-x-auto gap-4 pb-4",children:Array.from({length:5}).map((M,A)=>p.jsx("div",{className:"flex-shrink-0",children:p.jsx(Vo,{className:"w-[200px] h-[300px] rounded-md"})},A))});if(b.length===0)return p.jsxs("p",{className:"text-muted-foreground text-center py-4",children:["No trending ",x," found."]});const P=b.slice(0,10),k=M=>t===xr.FREE&&M>=f;return!e&&b.length>5,p.jsx("div",{className:"w-full overflow-x-auto relative",children:p.jsx("div",{className:"flex flex-row gap-4 pb-4 snap-x snap-mandatory",children:P.map((M,A)=>{let T="",E="";M.type==="reel"?(T="aspect-[9/16] w-[85vw] max-w-xs sm:w-[180px] md:w-[216px] lg:w-[260px]",E="w-[85vw] max-w-xs sm:w-[180px] md:w-[216px] lg:w-[260px]"):M.type==="post"?(T="aspect-[4/5] w-[85vw] max-w-xs sm:w-[162px] md:w-[172px] lg:w-[210px]",E="w-[85vw] max-w-xs sm:w-[162px] md:w-[172px] lg:w-[210px]"):(T="aspect-square w-[85vw] max-w-xs sm:w-[180px] md:w-[216px] lg:w-[260px]",E="w-[85vw] max-w-xs sm:w-[180px] md:w-[216px] lg:w-[260px]");const C=k(A);return p.jsxs("div",{className:`relative border-2 border-muted rounded-lg p-1 flex flex-col items-center bg-white flex-shrink-0 ${E} snap-start`,children:[p.jsx("div",{className:`bg-gray-200 rounded-lg my-2 flex items-center justify-center overflow-hidden ${T} ${C?"blur-lg pointer-events-none select-none":""}`,children:M.mediaUrl?p.jsx("img",{src:M.mediaUrl,alt:M.title,className:"object-cover w-full h-full",loading:"lazy",onError:D=>{const N=D.target;N.style.display="none";const R=N.parentElement;if(R&&!R.querySelector(".media-placeholder")){const V=document.createElement("div");V.className="media-placeholder w-full h-full bg-gray-300 flex items-center justify-center",V.innerHTML='<span class="text-gray-400 text-sm">Image unavailable</span>',R.appendChild(V)}},crossOrigin:"anonymous"}):p.jsx("span",{className:"text-gray-400",children:"No Image"})}),p.jsxs("div",{className:`w-full text-center ${C?"blur-md pointer-events-none select-none":""}`,children:[p.jsx("div",{className:"font-semibold text-sm truncate mb-1",children:M.title||"Untitled"}),p.jsx("div",{className:"text-gray-500 text-xs mb-2",children:M.creator||"unknown"})]}),p.jsx(Jt,{size:"sm",className:`w-full text-xs ${C?"pointer-events-none opacity-60":""}`,onClick:()=>{const D=M.originalUrl||M.mediaUrl;D&&window.open(D,"_blank")},disabled:C,children:"View Content"}),C&&A===f&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20",children:p.jsx("div",{className:"p-[2px] rounded-full bg-gradient-to-r from-[#f9ce34] via-[#ee2a7b] to-[#6228d7]",children:p.jsx("a",{href:"/subscription",className:"rounded-full px-6 py-2 font-bold text-base shadow-lg bg-white bg-opacity-95 flex items-center justify-center whitespace-nowrap min-w-[180px]",style:{display:"inline-block",fontWeight:700,letterSpacing:"0.01em",backgroundClip:"padding-box",minWidth:"fit-content",maxWidth:"90%"},children:p.jsx("span",{style:{background:"linear-gradient(90deg, #f9ce34, #ee2a7b, #6228d7)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontWeight:700,fontSize:"1.1rem",whiteSpace:"nowrap"},children:"Upgrade for Full Access"})})})})]},M.id)})})})};return p.jsxs("div",{children:[p.jsx(Yhe,{}),p.jsx("div",{className:"pb-2",children:p.jsx("div",{className:"text-lg font-medium flex items-center justify-between",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(Ghe,{className:"mr-2 h-5 w-5"}),"Trending Content ",i&&`for "${i}"`]})})}),p.jsxs(l5,{defaultValue:"posts",value:h,onValueChange:d,className:"w-full",children:[p.jsxs(KE,{className:"grid w-full grid-cols-3 mb-4",children:[p.jsx(id,{value:"posts",children:"Posts"}),p.jsx(id,{value:"reels",children:"Reels"}),p.jsx(id,{value:"audio",children:"Audio"})]}),p.jsx(Vm,{value:"posts",children:v(y,"post")}),p.jsx(Vm,{value:"reels",children:v(g,"reel")}),p.jsx(Vm,{value:"audio",children:v(_,"audio")})]})]})},Xhe=async()=>{try{console.log("Fetching Instagram news");try{const n=await fetch("https://gnews.io/api/v4/search?q=instagram&lang=en&max=10&apikey=7d38e3399e7c456544f5e94b6a34ecee");if(!n.ok)throw console.error(`News API error: ${n.status} ${n.statusText}`),new Error("Failed to fetch news from API");const e=await n.json();if(console.log("Fetched news data:",e),e.articles&&e.articles.length>0){const t=new Map;return e.articles.forEach(i=>{const r=i.title;t.has(r)||t.set(r,i)}),Array.from(t.values()).map((i,r)=>{var s;return{id:`news-${r}`,title:i.title,description:i.description,source:((s=i.source)==null?void 0:s.name)||"Unknown Source",url:i.url,publishedAt:i.publishedAt,imageUrl:i.image}})}else console.warn("No articles found in news API response")}catch(n){console.error("Error fetching news from API:",n)}return console.log("Using sample news data"),BD()}catch(n){return console.error("Error in fetchInstagramNews:",n),tr({title:"Error fetching news",description:"Using sample news data instead",variant:"destructive"}),BD()}},BD=()=>(console.log("Generating sample news data"),[{id:"sample-1",title:"Instagram Launches New Reels Feature for Creators",description:"Instagram has introduced a powerful new set of tools for Reels creators, aiming to boost engagement and discoverability.",source:"Tech Today",url:"https://example.com/instagram-news-1",publishedAt:new Date().toISOString(),imageUrl:"https://picsum.photos/seed/instagram1/300/200"},{id:"sample-2",title:"Instagram Shopping Updates: What You Need to Know",description:"The platform is rolling out significant changes to its shopping features, making it easier for businesses to sell products directly.",source:"Business Insider",url:"https://example.com/instagram-news-2",publishedAt:new Date().toISOString(),imageUrl:"https://picsum.photos/seed/instagram2/300/200"},{id:"sample-3",title:"Top Instagram Influencers of 2025 Revealed",description:"A new report shows surprising shifts in the Instagram influencer landscape, with new creators dominating engagement metrics.",source:"Social Media Today",url:"https://example.com/instagram-news-3",publishedAt:new Date().toISOString(),imageUrl:"https://picsum.photos/seed/instagram3/300/200"}]),jb="instagram_news_cache",Lb=24*60*60*1e3,vy=()=>{const[n,e]=w.useState([]),[t,i]=w.useState(!0),[r,s]=w.useState(null),[o,a]=w.useState(new Date),l=async(d=!1)=>{i(!0),s(null);try{const f=localStorage.getItem(jb);if(!d&&f){const{data:_,timestamp:v}=JSON.parse(f),b=new Date(v);if(new Date().getTime()-b.getTime()<Lb){console.log("Using cached news data from",b.toLocaleString()),e(_),a(b),i(!1);return}else console.log("Cache expired, fetching fresh news data")}const y=await Xhe();localStorage.setItem(jb,JSON.stringify({data:y,timestamp:new Date().toISOString()})),e(y);const g=new Date;a(g),d&&tr({title:"News updated",description:`Successfully refreshed Instagram news at ${g.toLocaleTimeString()}`})}catch(f){console.error("Error fetching news:",f),s("Could not fetch news. Please try again later.");const y=localStorage.getItem(jb);if(y){const{data:g,timestamp:_}=JSON.parse(y);e(g),a(new Date(_)),tr({title:"Using cached news",description:"Could not fetch fresh news data. Using cached results instead.",variant:"default"})}}finally{i(!1)}};w.useEffect(()=>{l()},[]);const u=()=>{const d=new Date().getTime()-o.getTime();if(d<Lb){const f=Math.ceil((Lb-d)/36e5);tr({title:"Refresh limited",description:`You can refresh again in ${f} hours to conserve API credits.`,variant:"default"});return}l(!0)},c=(d,f,y)=>p.jsxs("div",{className:"flex space-x-4 p-4 border rounded-lg transition-colors border-gray-200 hover:border-insta-primary/50",children:[d.imageUrl?p.jsx("img",{src:d.imageUrl,alt:d.title,className:"h-24 w-24 object-cover rounded-lg flex-shrink-0",onError:g=>{const _=g.target;_.style.display="none"},crossOrigin:"anonymous"}):p.jsx("div",{className:"h-24 w-24 bg-gray-200 flex items-center justify-center rounded-lg flex-shrink-0",children:p.jsx(w6,{className:"h-6 w-6 text-gray-400"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h4",{className:"font-medium text-gray-900",children:d.title}),p.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:d.description}),p.jsx("div",{className:"flex items-center justify-between mt-2",children:p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between w-full gap-1",children:[p.jsx("span",{className:"text-xs text-muted-foreground",children:d.source}),p.jsxs(Jt,{variant:"ghost",size:"sm",className:"text-xs hover:text-insta-primary w-full sm:w-auto mt-2 sm:mt-0",onClick:()=>window.open(d.url,"_blank"),children:["Read More ",p.jsx(d6,{className:"ml-1 h-3 w-3"})]})]})})]})]}),h=()=>t?p.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((d,f)=>p.jsxs("div",{className:"flex space-x-4 p-4 border rounded-lg",children:[p.jsx(Vo,{className:"h-24 w-24 rounded-lg flex-shrink-0"}),p.jsxs("div",{className:"flex-1 space-y-2",children:[p.jsx(Vo,{className:"h-4 w-3/4"}),p.jsx(Vo,{className:"h-4 w-full"}),p.jsx(Vo,{className:"h-4 w-1/2"})]})]},f))}):n.length===0?p.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No news articles found."}):p.jsx("div",{className:"overflow-y-auto space-y-4 pr-2 custom-scrollbar",style:{maxHeight:"620px",minHeight:"620px"},children:n.map((d,f)=>p.jsx("div",{children:c(d)},d.id))});return p.jsxs(qi,{className:"animate-fade-in w-full",children:[p.jsx(Qi,{className:"pb-2",children:p.jsxs(Zi,{className:"text-lg font-medium flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(C6,{className:"mr-2 h-5 w-5 text-insta-primary"}),"Instagram News"]}),p.jsx(Jt,{variant:"ghost",size:"icon",onClick:u,disabled:t,title:"Refresh only available every 24 hours",children:p.jsx(l6,{className:`h-4 w-4 ${t?"animate-spin":""}`})})]})}),p.jsxs(Ji,{className:"w-full",children:[r&&p.jsx(QE,{variant:"destructive",className:"mb-4",children:p.jsx(ZE,{children:r})}),h()]}),p.jsxs(KT,{className:"text-xs text-muted-foreground pt-0 flex justify-between items-center",children:[p.jsxs("span",{children:["Last refreshed: ",o.toLocaleString()]}),p.jsx("span",{className:"text-xs italic",children:"Updates every 24 hours"})]})]})};function Khe(n){const[e,t]=w.useState(0);return w.useLayoutEffect(()=>{function i(){n.current&&t(n.current.offsetWidth)}return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[n]),e}const Bo=({scrollContainerRef:n,texts:e=[],velocity:t=100,className:i="",damping:r=50,stiffness:s=400,numCopies:o=6,velocityMapping:a={input:[0,1e3],output:[0,5]},parallaxClassName:l="parallax",scrollerClassName:u="scroller",parallaxStyle:c,scrollerStyle:h})=>{function d({children:f,baseVelocity:y=t,scrollContainerRef:g,className:_="",damping:v,stiffness:b,numCopies:x,velocityMapping:P,parallaxClassName:k,scrollerClassName:M,parallaxStyle:A,scrollerStyle:T}){const E=Uv(0),C=g?{container:g}:{},{scrollY:D}=Kle(C),N=Jle(D),R=Qle(N,{damping:v??50,stiffness:b??400}),V=nx(R,(P==null?void 0:P.input)||[0,1e3],(P==null?void 0:P.output)||[0,5],{clamp:!1}),q=w.useRef(null),ee=Khe(q);function H(B,z,$){const oe=z-B;return(($-B)%oe+oe)%oe+B}const F=nx(E,B=>ee===0?"0px":`${H(-ee,0,B)}px`),j=w.useRef(1);Zle((B,z)=>{let $=j.current*y*(z/1e3);V.get()<0?j.current=-1:V.get()>0&&(j.current=1),$+=j.current*$*V.get(),E.set(E.get()+$)});const L=[];for(let B=0;B<x;B++)L.push(p.jsx("span",{className:_,ref:B===0?q:null,children:f},B));return p.jsx("div",{className:k,style:A,children:p.jsx(ey.div,{className:M,style:{x:F,...T},children:L})})}return p.jsx("section",{children:e.map((f,y)=>p.jsxs(d,{className:i,baseVelocity:y%2!==0?-t:t,scrollContainerRef:n,damping:r,stiffness:s,numCopies:o,velocityMapping:a,parallaxClassName:l,scrollerClassName:u,parallaxStyle:c,scrollerStyle:h,children:[f,""]},y))})};function by(){return p.jsxs("div",{className:"bg-white rounded-xl shadow border p-6",children:[p.jsx("h3",{className:"text-lg font-bold text-center mb-4",children:"Top Performers of the Week"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"flex items-center gap-3 border-l-4 border-orange-400 pl-3",children:[p.jsx(g6,{className:"text-orange-400"}),p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-gray-500",children:"Trending Hashtag"}),p.jsxs("div",{className:"font-bold text-sm text-orange-500",children:["#spiderman ",p.jsx("span",{className:"text-green-500",children:" +120%"})]})]})]}),p.jsxs("div",{className:"flex items-center gap-3 border-l-4 border-yellow-400 pl-3",children:[p.jsx(L6,{className:"text-yellow-400"}),p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-gray-500",children:"Top Creator"}),p.jsxs("div",{className:"font-bold text-sm text-yellow-500",children:["@reelqueen ",p.jsx("span",{className:"text-green-500",children:" +45K followers"})]})]})]}),p.jsxs("div",{className:"flex items-center gap-3 border-l-4 border-pink-400 pl-3",children:[p.jsx(_6,{className:"text-pink-400"}),p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-gray-500",children:"Most Liked Post"}),p.jsxs("div",{className:"font-bold text-sm text-pink-500",children:['"Summer Glow" ',p.jsx("span",{className:"text-gray-700",children:"823K likes"})]})]})]}),p.jsxs("div",{className:"flex items-center gap-3 border-l-4 border-blue-400 pl-3",children:[p.jsx(S6,{className:"text-blue-400"}),p.jsxs("div",{children:[p.jsx("div",{className:"text-xs text-gray-500",children:"Most Used Audio"}),p.jsxs("div",{className:"font-bold text-sm text-blue-500",children:['"Calm Down" ',p.jsx("span",{className:"text-gray-700",children:"112K uses"})]})]})]})]})]})}const qhe=()=>{const[n,e]=w.useState("all");return p.jsxs("div",{className:"relative min-h-screen flex flex-col bg-background",children:[p.jsxs("div",{className:"relative w-full",children:[p.jsxs("div",{className:"block lg:hidden w-full max-w-xl mx-auto px-2 py-4 mb-2",children:[p.jsx(Bo,{texts:["Discover what's trending on Instagram"],velocity:100,className:"gradient-text custom-scroll-text text-2xl font-bold bg-gradient-to-r from-pink-500 via-purple-500 to-orange-400 text-transparent bg-clip-text text-center"}),p.jsx(Bo,{texts:["across different categories"],velocity:-100,className:"gradient-text custom-scroll-text text-2xl font-bold bg-gradient-to-r from-pink-500 via-purple-500 to-orange-400 text-transparent bg-clip-text text-center"})]}),p.jsxs("div",{className:"hidden lg:block w-screen absolute left-0 right-0 mt-8 mb-8 z-10 pointer-events-none",children:[p.jsx(Bo,{texts:["Discover what's trending on Instagram"],velocity:100,className:"gradient-text custom-scroll-text text-4xl xl:text-6xl font-bold bg-gradient-to-r from-pink-500 via-purple-500 to-orange-400 text-transparent bg-clip-text text-center"}),p.jsx(Bo,{texts:["across different categories"],velocity:-100,className:"gradient-text custom-scroll-text text-4xl xl:text-6xl font-bold bg-gradient-to-r from-pink-500 via-purple-500 to-orange-400 text-transparent bg-clip-text text-center"})]})]}),p.jsxs("div",{className:"block md:hidden w-full max-w-xl mx-auto px-2",children:[p.jsx("section",{className:"w-full bg-white rounded-2xl shadow p-5 mb-6",children:p.jsx(by,{})}),p.jsxs("section",{className:"w-full bg-white rounded-2xl shadow p-5 mb-6",children:[p.jsxs("h2",{className:"font-bold text-lg mb-3 text-center text-[#a259e6] flex items-center justify-center gap-2",children:[p.jsx("span",{className:"text-2xl",children:""})," Trending Hashtags"]}),p.jsx(gy,{selectedCategory:n})]}),p.jsxs("section",{className:"w-full bg-white rounded-2xl shadow p-5 mb-6",children:[p.jsxs("h2",{className:"font-bold text-lg mb-3 text-center text-[#ee2a7b] flex items-center justify-center gap-2",children:[p.jsx("span",{className:"text-2xl",children:""})," Trending Content"]}),p.jsx(yy,{selectedCategory:n})]}),p.jsxs("section",{className:"w-full bg-white rounded-2xl shadow p-5 mb-6",children:[p.jsxs("h2",{className:"font-bold text-lg mb-3 text-center text-[#6228d7] flex items-center justify-center gap-2",children:[p.jsx("span",{className:"text-2xl",children:""})," Instagram News"]}),p.jsx(vy,{})]})]}),p.jsx("div",{className:"hidden md:block relative w-full max-w-full mx-auto md:max-w-[1440px] md:w-full md:mx-auto px-4 md:px-6 flex-1 mt-0 lg:mt-56 lg:ml-[260px]",children:p.jsx("main",{className:"py-8 sm:py-12",children:p.jsxs("div",{className:"flex flex-col md:grid md:grid-cols-12 gap-6 lg:gap-12 w-full max-w-screen px-0 md:px-4",children:[p.jsxs("div",{className:"w-full md:col-span-3 flex flex-col gap-6 mb-6 md:mb-0",children:[p.jsx("div",{className:"bg-white rounded-2xl shadow p-4 my-4 w-full px-2 md:bg-transparent md:rounded-none md:shadow-none md:p-0 md:my-0",children:p.jsx(by,{})}),p.jsx("div",{className:"bg-white rounded-2xl shadow p-4 my-4 w-full px-2 md:bg-transparent md:rounded-none md:shadow-none md:p-0 md:my-0",children:p.jsx(gy,{selectedCategory:n})})]}),p.jsxs("div",{className:"w-full md:col-span-9 space-y-8",children:[p.jsx("div",{className:"bg-white rounded-2xl shadow p-4 my-4 w-full px-2 md:bg-transparent md:rounded-none md:shadow-none md:p-0 md:my-0",children:p.jsx(yy,{selectedCategory:n})}),p.jsx("div",{className:"bg-white rounded-2xl shadow p-4 my-4 w-full px-2 md:bg-transparent md:rounded-none md:shadow-none md:p-0 md:my-0 mt-0 w-full",children:p.jsx(vy,{})})]})]})})})]})},Qhe=()=>{const[n,e]=w.useState("all");return p.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center px-2 py-4 md:px-0 md:items-stretch",children:[p.jsxs("div",{className:"w-full max-w-xl mx-auto mb-2 md:max-w-[1440px] md:px-4 md:mx-auto md:mb-2",children:[p.jsxs("div",{className:"block lg:hidden",children:[p.jsx(Bo,{texts:["Discover what's trending on Instagram"],velocity:100,className:"gradient-text custom-scroll-text text-2xl font-bold bg-gradient-to-r from-pink-500 via-purple-500 to-orange-400 text-transparent bg-clip-text text-center"}),p.jsx(Bo,{texts:["across different categories"],velocity:-100,className:"gradient-text custom-scroll-text text-2xl font-bold bg-gradient-to-r from-pink-500 via-purple-500 to-orange-400 text-transparent bg-clip-text text-center"})]}),p.jsx("div",{className:"hidden lg:block w-full",children:p.jsxs("div",{className:"w-full max-w-[1440px] mx-auto px-4",children:[p.jsx(Bo,{texts:["Discover what's trending on Instagram"],velocity:100,className:"gradient-text custom-scroll-text text-4xl xl:text-6xl font-bold bg-gradient-to-r from-pink-500 via-purple-500 to-orange-400 text-transparent bg-clip-text text-center"}),p.jsx(Bo,{texts:["across different categories"],velocity:-100,className:"gradient-text custom-scroll-text text-4xl xl:text-6xl font-bold bg-gradient-to-r from-pink-500 via-purple-500 to-orange-400 text-transparent bg-clip-text text-center"})]})})]}),p.jsxs("div",{className:"block md:hidden w-full max-w-xl mx-auto",children:[p.jsx("section",{className:"w-full bg-white rounded-2xl shadow p-5 mb-6",children:p.jsx(by,{})}),p.jsxs("section",{className:"w-full bg-white rounded-2xl shadow p-5 mb-6",children:[p.jsxs("h2",{className:"font-bold text-lg mb-3 text-center text-[#a259e6] flex items-center justify-center gap-2",children:[p.jsx("span",{className:"text-2xl",children:""})," Trending Hashtags"]}),p.jsx(gy,{selectedCategory:n})]}),p.jsxs("section",{className:"w-full bg-white rounded-2xl shadow p-5 mb-6",children:[p.jsxs("h2",{className:"font-bold text-lg mb-3 text-center text-[#ee2a7b] flex items-center justify-center gap-2",children:[p.jsx("span",{className:"text-2xl",children:""})," Trending Content"]}),p.jsx(yy,{selectedCategory:n})]}),p.jsxs("section",{className:"w-full bg-white rounded-2xl shadow p-5 mb-6",children:[p.jsxs("h2",{className:"font-bold text-lg mb-3 text-center text-[#6228d7] flex items-center justify-center gap-2",children:[p.jsx("span",{className:"text-2xl",children:""})," Instagram News"]}),p.jsx(vy,{})]})]}),p.jsx("div",{className:"hidden md:block relative w-full max-w-[1440px] mx-auto px-4 md:px-6 flex-1 mt-0 lg:mt-56 lg:ml-[260px]",children:p.jsx("main",{className:"py-8 sm:py-12",children:p.jsxs("div",{className:"flex flex-col md:grid md:grid-cols-12 gap-6 lg:gap-12 w-full max-w-screen px-4",children:[p.jsxs("div",{className:"w-full md:col-span-3 flex flex-col gap-6 mb-6 md:mb-0",children:[p.jsx("div",{className:"md:bg-transparent md:rounded-none md:shadow-none md:p-0 md:my-0",children:p.jsx(by,{})}),p.jsx("div",{className:"md:bg-transparent md:rounded-none md:shadow-none md:p-0 md:my-0",children:p.jsx(gy,{selectedCategory:n})})]}),p.jsxs("div",{className:"w-full md:col-span-9 space-y-8",children:[p.jsx("div",{className:"md:bg-transparent md:rounded-none md:shadow-none md:p-0 md:my-0",children:p.jsx(yy,{selectedCategory:n})}),p.jsx("div",{className:"md:bg-transparent md:rounded-none md:shadow-none md:p-0 md:my-0 mt-0 w-full",children:p.jsx(vy,{})})]})]})})})]})};function Zhe(n){return n.replace(/\n\d+\.\s*(DATA ANALYZED)(\s*:)?/gi,`
$1$2`).replace(/\n\d+\.\s*(FACTS \(numbers only\)|FACTS)(\s*:)?/gi,`
$1$2`).replace(/\n\d+\.\s*(WHAT CANNOT BE CONCLUDED)(\s*:)?/gi,`
$1$2`).replace(/\n\d+\.\s*(NEXT STEP)(\s*\([^)]*\))?(\s*:)?/gi,`
$1$2$3`)}function Jhe({text:n}){const e=n.split(`
`),t=[];let i=[],r=null;const s="inline-flex items-center px-3 py-1.5 rounded-full bg-[#d72989] text-white font-semibold shadow-md hover:shadow-lg hover:-translate-y-0.5 transform transition-all text-xs md:text-sm whitespace-nowrap",o=c=>{const h=/(https?:\/\/[^\s<>"{}|\\^`[\]]+)/g,d=[];let f=0,y,g=0;for(;(y=h.exec(c))!==null;)y.index>f&&d.push(c.substring(f,y.index)),d.push(p.jsx("a",{href:y[1],target:"_blank",rel:"noopener noreferrer",className:s,children:y[1]},`link-${g++}`)),f=h.lastIndex;return f<c.length&&d.push(c.substring(f)),d.length>0?d:[c]},a=c=>{const h=/\[([^\]]*)\]\((https?:\/\/[^)\s]+)\)/g,d=[];let f=0,y,g=0;for(;(y=h.exec(c))!==null;)y.index>f&&d.push(...o(c.substring(f,y.index))),d.push(p.jsx("a",{href:y[2],target:"_blank",rel:"noopener noreferrer",className:s,children:y[1]||y[2]},`mdlink-${g++}`)),f=h.lastIndex;return f<c.length&&d.push(...o(c.substring(f))),d.length>0?d:[c]},l=c=>{const h=[],d=/\*\*(.*?)\*\*/g;let f=0,y,g=0;for(;(y=d.exec(c))!==null;)y.index>f&&h.push(...a(c.substring(f,y.index))),h.push(p.jsx("strong",{className:"font-bold text-gray-900",children:y[1]},`bold-${g++}`)),f=d.lastIndex;return f<c.length&&h.push(...a(c.substring(f))),h.length>0?h:[c]},u=()=>{i.length>0&&r&&(r==="ul"?t.push(p.jsx("ul",{className:"list-disc list-inside my-2 space-y-1 ml-2",children:i.map((c,h)=>p.jsx("li",{className:"ml-2",children:l(c)},h))},`list-${t.length}`)):t.push(p.jsx("ol",{className:"list-decimal list-inside my-2 space-y-1 ml-2",children:i.map((c,h)=>p.jsx("li",{className:"ml-2",children:l(c)},h))},`list-${t.length}`)),i=[],r=null)};return e.forEach((c,h)=>{const d=c.trim(),f=d.match(/^[-*]\s+(.+)$/),y=d.match(/^\d+\.\s+(.+)$/);f?(r!=="ul"&&(u(),r="ul"),i.push(f[1])):y?(r!=="ol"&&(u(),r="ol"),i.push(y[1])):(u(),d===""?t.push(p.jsx("br",{className:"my-1"},`br-${h}`)):t.push(p.jsx("p",{className:"mb-2 last:mb-0",children:l(d)},`p-${h}`)))}),u(),p.jsx("div",{className:"text-sm md:text-base break-words",children:t})}function UD({size:n="lg"}){const e={sm:"w-10 h-10",md:"w-12 h-12",lg:"w-16 h-16"},i={sm:24,md:28,lg:40}[n],r=e[n],s=`ai-avatar-gradient-${n}`;return p.jsxs("div",{className:"relative flex-shrink-0",children:[p.jsx("div",{className:`${r} rounded-full flex items-center justify-center shadow-lg`,style:{background:"linear-gradient(135deg, #f9ce34, #ee2a7b, #6228d7)"},children:p.jsxs("svg",{width:i,height:i,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:[p.jsx("rect",{x:"8",y:"10",width:"24",height:"20",rx:"3",fill:"white",opacity:"0.9"}),p.jsx("circle",{cx:"16",cy:"18",r:"2.5",fill:`url(#${s})`}),p.jsx("circle",{cx:"24",cy:"18",r:"2.5",fill:`url(#${s})`}),p.jsx("path",{d:"M16 24 Q20 26 24 24",stroke:`url(#${s})`,strokeWidth:"2",strokeLinecap:"round",fill:"none"}),p.jsx("circle",{cx:"20",cy:"8",r:"2",fill:`url(#${s})`}),p.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"10",stroke:`url(#${s})`,strokeWidth:"2"}),p.jsx("defs",{children:p.jsxs("linearGradient",{id:s,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[p.jsx("stop",{offset:"0%",stopColor:"#6228d7"}),p.jsx("stop",{offset:"50%",stopColor:"#ee2a7b"}),p.jsx("stop",{offset:"100%",stopColor:"#f9ce34"})]})})]})}),p.jsx("div",{className:`absolute inset-0 ${r} rounded-full blur-md opacity-30 -z-10`,style:{background:"linear-gradient(135deg, #f9ce34, #ee2a7b, #6228d7)"}})]})}const ede=({useV2:n=!1})=>{const[e,t]=w.useState(""),[i,r]=w.useState(!1),s=w.useRef(null),o=w.useRef(null),a=w.useRef(null),{toast:l}=eo(),u=w.useRef(0),[c,h]=w.useState(null),[d,f]=w.useState(null),y=w.useRef(null),[g,_]=YW(),[v,b]=w.useState(!1),x=()=>(u.current+=1,`msg-${Date.now()}-${u.current}-${Math.random().toString(36).substring(2,9)}`),P=L=>{const B=n?"smart-chat-v2-messages":"smart-chat-messages";return L?`${B}-${L.toLowerCase()}`:`${B}-default`},k=()=>n?"bb_smartchat_v2_history":"bb_smartchat_history",M=L=>`${k()}-${L}`,A=L=>{try{const B=P(L),z=localStorage.getItem(B);if(z)return JSON.parse(z).map(oe=>({...oe,timestamp:new Date(oe.timestamp)}))}catch(B){console.error("Error loading messages from localStorage:",B)}return[{id:x(),text:"Welcome to Big Brain! How can I help you with your social media strategy today?",sender:"assistant",timestamp:new Date}]},[T,E]=w.useState(()=>A(null)),C=()=>{const L={id:x(),text:"Welcome to Big Brain! How can I help you with your social media strategy today?",sender:"assistant",timestamp:new Date};E([L]);try{const B=P(d);localStorage.setItem(B,JSON.stringify([L]))}catch(B){console.error("Error resetting chat messages in localStorage:",B)}},D=()=>{try{if(T.length===0)return;const L=k(),B=localStorage.getItem(L),z=B?JSON.parse(B):[],$=T.find(X=>X.sender==="user"),oe=(($==null?void 0:$.text)||"Conversation").slice(0,80),K=`chat-${Date.now()}-${Math.random().toString(36).substring(2,8)}`,ne=new Date().toISOString();localStorage.setItem(M(K),JSON.stringify(T));const le=[{id:K,title:oe,createdAt:ne,updatedAt:ne},...z].slice(0,50);localStorage.setItem(L,JSON.stringify(le)),window.dispatchEvent(new Event("bb-smartchat-history-updated"))}catch(L){console.error("Error saving Smart Chat history snapshot:",L)}},N=L=>{try{const B=localStorage.getItem(M(L));if(!B)return;const z=JSON.parse(B);if(!Array.isArray(z)||z.length===0)return;const $=z.map(oe=>({...oe,timestamp:new Date(oe.timestamp)}));E($);try{const oe=P(d);localStorage.setItem(oe,JSON.stringify($))}catch(oe){console.error("Error caching restored history thread to localStorage:",oe)}}catch(B){console.error("Error loading Smart Chat history thread:",B)}};w.useEffect(()=>{const L=Tv(z=>{z?h(z.uid):(h(null),f(null))}),B=Bd();return B&&h(B.uid),()=>L()},[]),w.useEffect(()=>{if(!n)return;const L=g.get("chatId");if(L){N(L);const B=new URLSearchParams(g.toString());B.delete("chatId"),_(B,{replace:!0})}},[n,g]),w.useEffect(()=>{if(!n)return;const L=()=>{T.some(z=>z.sender==="user")&&D(),C()};return window.addEventListener("bb-smartchat-new-chat",L),()=>{window.removeEventListener("bb-smartchat-new-chat",L)}},[n,T]),w.useEffect(()=>{if(!c){f(null);return}const L=wi(yn,"users",c),B=Bj(L,z=>{if(z.exists()){const $=z.data(),oe=($==null?void 0:$.selectedInstagramAccount)||null;f(oe)}else f(null)},z=>{console.error("Error listening to user document:",z)});return()=>B()},[c]),w.useEffect(()=>{if(y.current===null){if(y.current=d,d){const L=A(d);E(L)}return}if(y.current!==d){if(console.log("Username changed from",y.current,"to",d),console.log("Clearing old chat messages and starting fresh"),E([{id:x(),text:"Welcome to Big Brain! How can I help you with your social media strategy today?",sender:"assistant",timestamp:new Date}]),d){const L=A(d);E(L)}y.current=d}},[d]),w.useEffect(()=>{if(d)try{const L=P(d);localStorage.setItem(L,JSON.stringify(T))}catch(L){if(console.error("Error saving messages to localStorage:",L),(L==null?void 0:L.name)==="QuotaExceededError"&&T.length>50)try{const B=T.slice(-50),z=P(d);localStorage.setItem(z,JSON.stringify(B)),E(B)}catch(B){console.error("Error saving reduced message set:",B)}}},[T,d]);const R=Vf(Bf,n?"smartChatV2":"smartChat");w.useEffect(()=>{var L;(L=o.current)==null||L.scrollIntoView({behavior:"smooth"})},[T]);const V=()=>{const L=a.current;if(!L)return;const{scrollTop:B,scrollHeight:z,clientHeight:$}=L,K=z-(B+$)>50;K!==v&&b(K)},q=()=>{var L;(L=o.current)==null||L.scrollIntoView({behavior:"smooth"})},ee=async()=>{var ne,le;const L=e.trim();if(!L||i)return;if(!Bd()){l({title:"Authentication Required",description:"Please sign in to use Smart Chat",variant:"destructive"});const X={id:x(),text:"Please sign in to use Smart Chat. Click the sign in button in the menu.",sender:"assistant",timestamp:new Date};E(ce=>[...ce,X]);return}console.log("handleSend: Sending message to Firebase:",L);const z={id:x(),text:L,sender:"user",timestamp:new Date};E(X=>[...X,z]),t(""),r(!0);const $=L.match(/\banalyze\s*(\d+)\s*posts?\b/i),oe=L.match(/\banalyze\s*(\d+)\s*days?\b/i);if(($||oe)&&c){if(!d){const Pe={id:x(),text:"Please add an Instagram account in the Analytics section first, then say 'analyze 50 posts' or 'analyze 30 days' (or any number) to fetch more data.",sender:"assistant",timestamp:new Date};E(xe=>[...xe,Pe]),r(!1);return}let X=30,ce,me="";if(oe){const Pe=Math.min(365,Math.max(1,parseInt(oe[1],10)));ce=`${Pe} days`,X=200,me=`posts from the last ${Pe} days`}else $&&(X=Math.min(200,Math.max(10,parseInt($[1],10))),me=`${X} posts`);const fe=X>50||ce?"510 minutes":"25 minutes";try{const Pe={id:x(),text:`Fetching and analyzing ${me} for @${d}... This may take ${fe}.`,sender:"assistant",timestamp:new Date};E(ge=>[...ge,Pe]),await u5(c,d,X,ce);const xe={id:x(),text:`Done! I've analyzed ${me} for @${d}. Ask your question for insights.`,sender:"assistant",timestamp:new Date};E(ge=>[...ge,xe]),l({title:"Analysis complete",description:`${me} analyzed.`})}catch(Pe){const xe={id:x(),text:`Failed to fetch ${me}: ${(Pe==null?void 0:Pe.message)||"Please try again."} Larger requests may take longertry again or use a smaller number.`,sender:"assistant",timestamp:new Date};E(ge=>[...ge,xe]),l({title:"Analysis failed",description:Pe==null?void 0:Pe.message,variant:"destructive"})}finally{r(!1)}return}try{let X;if(c&&d)try{const Ve=async Te=>{var gt;const Se=wi(yn,"users",c,"rawInstagramData",Te),Be=await pa(Se);if(Be.exists()){const ft=Be.data(),ut=(gt=ft==null?void 0:ft.profile)==null?void 0:gt.media;if(Array.isArray(ut)&&ut.length>0)return{profile:{media:ut}}}};X=await Ve(d)??await Ve(d.toLowerCase().trim())}catch{}const ce=(ne=X==null?void 0:X.profile)!=null&&ne.media&&Array.isArray(X.profile.media)?X.profile.media.length:0;fetch("http://127.0.0.1:7242/ingest/dcca6a12-25ed-423d-9a0e-4081990ce7f0",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"smart-chat.tsx:beforeCall",message:"Client analyticsContext before smartChat call",data:{currentUsername:d,userId:c,hasAnalyticsContext:!!X,ctxProfileMediaLen:ce},timestamp:Date.now(),sessionId:"debug-session",hypothesisId:"H2"})}).catch(()=>{});const Pe=T.slice(-8).map(Ve=>({role:Ve.sender==="user"?"user":"assistant",content:Ve.text}));console.log("handleSend: Calling Firebase smartChat function...");const xe=n?{message:L,conversationHistory:Pe}:{message:L,username:d||void 0,conversationHistory:Pe,...X&&{analyticsContext:X}},ge=await R(xe);console.log("handleSend: Firebase function response received:",ge.data);const De=(le=ge.data)==null?void 0:le.reply;if(!De||typeof De!="string")throw new Error("Invalid response format from AI service");const Ee={id:x(),text:De,sender:"assistant",timestamp:new Date};E(Ve=>[...Ve,Ee]),console.log("handleSend: Assistant response added to messages")}catch(X){console.error("handleSend: Error calling Firebase function:",X),console.error("Error details:",{code:X==null?void 0:X.code,message:X==null?void 0:X.message,name:X==null?void 0:X.name});let ce="Failed to get response. Please try again.";if((X==null?void 0:X.code)==="failed-precondition")ce=(X==null?void 0:X.message)||"Analytics are still processing. Please wait a moment and try again.";else if((X==null?void 0:X.code)==="unavailable"||(X==null?void 0:X.code)==="deadline-exceeded")ce="The service is temporarily unavailable. Please check your connection and try again.";else if((X==null?void 0:X.code)==="not-found")ce="The smart chat service is not available. Please ensure the function is deployed.";else if((X==null?void 0:X.code)==="permission-denied"||(X==null?void 0:X.code)==="unauthenticated")ce="Please sign in to use Smart Chat. Click the sign in button in the menu.";else if(X!=null&&X.message){const fe=X.message.toLowerCase();fe.includes("cors")||fe.includes("network")||fe.includes("fetch")?ce="Network error. Please check your connection and ensure the service is deployed.":fe.includes("analytics")&&fe.includes("processing")?ce="Analytics are still processing. Please wait a moment and try again.":ce=X.message}l({title:"Error",description:ce,variant:"destructive"});const me={id:x(),text:`Sorry, I encountered an error: ${ce}`,sender:"assistant",timestamp:new Date};E(fe=>[...fe,me])}finally{r(!1)}},H=L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),console.log("handleKeyPress: Enter key pressed, calling handleSend"),ee())},F=L=>{console.log("handleQuestionClick: Question clicked, prefilling input:",L),t(L),setTimeout(()=>{var B;(B=s.current)==null||B.focus()},50)},j=[{id:"1",title:"How to increase engagement rate?",description:"Learn strategies to boost your Instagram engagement and connect better with your audience.",icon:O6,color:"text-blue-500"},{id:"2",title:"Best time to post content?",description:"Discover optimal posting times based on your audience demographics and activity patterns.",icon:s6,color:"text-purple-500"},{id:"3",title:"Growing follower base effectively",description:"Get insights on organic growth tactics and content strategies that attract real followers.",icon:LM,color:"text-pink-500"}];return p.jsxs("div",{className:"h-screen bg-background flex flex-col overflow-hidden",children:[p.jsxs("div",{className:"flex-1 flex flex-col max-w-6xl w-full mx-auto px-4 md:px-6 md:pl-16 overflow-hidden",children:[p.jsxs("div",{className:"sticky top-0 z-20 bg-background pt-3 md:pt-8 pb-2 md:pb-6 border-b border-gray-200",children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between md:gap-6",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h1",{className:"text-2xl md:text-4xl font-bold mb-1 md:mb-2",style:{background:"linear-gradient(90deg, #f9ce34, #ee2a7b, #6228d7)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Big Brain"}),p.jsx("p",{className:"text-gray-600 text-xs md:text-base",children:"Get instant answers to your social media and brand questions"})]}),p.jsxs("div",{className:"hidden md:flex items-start gap-3 mt-2 flex-shrink-0 relative z-0",children:[p.jsxs("div",{className:"relative bg-white rounded-2xl shadow-md border border-gray-200 px-4 py-3 max-w-[220px] z-10",children:[p.jsx("p",{className:"text-sm font-semibold gradient-text",children:"Hey  Ask me anything about Instagram growth."}),p.jsx("div",{className:"absolute -right-2 top-6 w-0 h-0 border-t-[8px] border-t-transparent border-l-[12px] border-l-white border-b-[8px] border-b-transparent z-10"}),p.jsx("div",{className:"absolute -right-3 top-[23px] w-0 h-0 border-t-[9px] border-t-transparent border-l-[13px] border-l-gray-200 border-b-[9px] border-b-transparent z-0"})]}),p.jsx("div",{className:"relative z-10",children:p.jsx(UD,{})})]})]}),p.jsxs("div",{className:"md:hidden flex items-center gap-2 mt-2 pt-2 border-t border-gray-200",children:[p.jsx(UD,{size:"sm"}),p.jsx("div",{className:"flex-1 bg-white rounded-lg shadow-sm border border-gray-200 px-2 py-1.5",children:p.jsx("p",{className:"text-xs font-semibold gradient-text",children:"Hey  Ask me anything"})})]})]}),p.jsxs("div",{ref:a,className:"flex-1 overflow-y-auto min-h-0 py-2 md:py-6",onScroll:V,children:[p.jsxs("div",{className:"mb-3 md:mb-8",children:[p.jsx("h2",{className:"text-base md:text-xl font-semibold text-gray-800 mb-2 md:mb-4",children:"Most Asked Questions of the Day"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 md:gap-4 mb-3 md:mb-8",children:j.map(L=>{const B=L.icon;return p.jsxs(qi,{className:"hover:shadow-lg transition-all cursor-pointer border-gray-200 hover:border-[#d72989] active:scale-[0.98]",onClick:()=>F(L.title),children:[p.jsx(Qi,{className:"pb-2 md:pb-3 px-3 md:px-6 pt-3 md:pt-6",children:p.jsxs("div",{className:"flex items-start gap-2 md:gap-3",children:[p.jsx("div",{className:`p-1.5 md:p-2 rounded-lg bg-gray-50 ${L.color} flex-shrink-0`,children:p.jsx(B,{className:"h-4 w-4 md:h-5 md:w-5"})}),p.jsx(Zi,{className:"text-sm md:text-lg font-semibold text-gray-900 leading-tight",children:L.title})]})}),p.jsx(Ji,{className:"pt-0 px-3 md:px-6 pb-3 md:pb-6",children:p.jsx(Nu,{className:"text-xs md:text-sm text-gray-600 hidden md:block",children:L.description})})]},L.id)})})]}),p.jsx("div",{className:"space-y-4 max-w-3xl mx-auto px-1 md:px-0",children:T.length===0?p.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:p.jsx("p",{className:"text-sm",children:"Start a conversation by asking a question or clicking on a card above"})}):p.jsxs(p.Fragment,{children:[T.map(L=>p.jsx("div",{className:`flex ${L.sender==="user"?"justify-end":"justify-start"}`,children:p.jsxs("div",{className:`max-w-[85%] md:max-w-[70%] px-4 py-3 rounded-3xl ${L.sender==="user"?"bg-[#d72989]/90 text-white shadow-lg border border-white/20 backdrop-blur-md":"bg-white/70 text-gray-800 border border-white/60 shadow-lg backdrop-blur-md"}`,children:[L.sender==="assistant"?p.jsx(Jhe,{text:Zhe(L.text)}):p.jsx("p",{className:"text-sm md:text-base whitespace-pre-wrap break-words",children:L.text}),p.jsx("p",{className:`text-xs mt-1 ${L.sender==="user"?"text-white/70":"text-gray-500"}`,children:L.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},L.id)),p.jsx("div",{ref:o})]})})]}),p.jsx("div",{className:"sticky bottom-0 z-20 bg-background/80 backdrop-blur-md pt-2 md:pt-4 pb-3 md:pb-8 border-t border-gray-200",children:p.jsxs("div",{className:"flex gap-2 max-w-3xl mx-auto",children:[p.jsxs("div",{className:"flex-1 relative",children:[p.jsx(wc,{ref:s,type:"text",placeholder:"Ask a question about social media, branding, or analytics...",value:e,onChange:L=>t(L.target.value),onKeyPress:H,className:"pr-12 rounded-3xl border border-white/60 bg-white/70 backdrop-blur-md shadow-lg focus:border-[#d72989] focus:ring-[#d72989] transition-all"}),p.jsx(P6,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"})]}),p.jsx(Jt,{onClick:ee,disabled:!e.trim()||i,className:"bg-[#d72989] hover:bg-[#c0257a] text-white rounded-lg px-4 md:px-6 disabled:opacity-50 disabled:cursor-not-allowed",children:i?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),p.jsx("span",{className:"hidden md:inline ml-2",children:"Sending..."})]}):p.jsxs(p.Fragment,{children:[p.jsx(R6,{className:"h-4 w-4"}),p.jsx("span",{className:"hidden md:inline ml-2",children:"Send"})]})})]})})]}),n&&v&&p.jsx("button",{type:"button",onClick:q,className:"fixed z-30 flex items-center justify-center w-10 h-10 rounded-full bg-[#d72989] text-white shadow-md hover:shadow-lg hover:bg-[#c0257a] transition-all",style:{bottom:"80px",right:"20px"},"aria-label":"Scroll to latest message",children:p.jsx(t6,{className:"w-4 h-4"})})]})},tde=new LN({defaultOptions:{queries:{staleTime:1e3*60*5,refetchOnWindowFocus:!1}}});function nde(){const{toast:n}=eo(),e=XN();return w.useEffect(()=>{(async()=>{try{const i=await LQ();i&&n({title:" Welcome back!",description:`Successfully signed in as ${i.email}`})}catch(i){console.error("Error handling redirect result:",i),n({title:" Sign-in Error",description:"There was an issue with the sign-in process. Please try again.",variant:"destructive"})}})()},[n]),p.jsx(UH,{client:tde,children:p.jsxs(yH,{children:[e&&p.jsxs(p.Fragment,{children:[p.jsx("style",{children:`
              /* Disable all .blur-overlay containers and overlays in Dev Mode */
              .blur-overlay-container { filter: none !important; -webkit-filter: none !important; }
              .blur-overlay { display: none !important; }
            `}),p.jsx("div",{style:{position:"fixed",bottom:"12px",right:"12px",zIndex:9999,background:"rgba(17, 24, 39, 0.9)",color:"white",padding:"6px 10px",borderRadius:"8px",fontSize:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.25)"},children:" Developer Mode Active"})]}),p.jsx(_z,{}),p.jsx(Kz,{}),p.jsx(UW,{children:p.jsxs(RW,{children:[p.jsxs(Nt,{element:p.jsx(Lhe,{}),children:[p.jsx(Nt,{path:"/",element:p.jsx(VQ,{})}),p.jsx(Nt,{path:"/instagram-analytics",element:p.jsx(Ahe,{})}),p.jsx(Nt,{path:"/analytics/competitor-intelligence",element:p.jsx(Dhe,{})}),p.jsx(Nt,{path:"/top-influencers",element:p.jsx(ZQ,{})}),p.jsx(Nt,{path:"/top-influencers/:category",element:p.jsx(Gee,{})}),p.jsx(Nt,{path:"/subscription",element:p.jsx(Xee,{})}),p.jsx(Nt,{path:"/smart-chat",element:p.jsx(ede,{useV2:!0})}),p.jsx(Nt,{path:"/privacy",element:p.jsx(Mhe,{})}),p.jsx(Nt,{path:"/terms-and-conditions",element:p.jsx(Nhe,{})}),p.jsx(Nt,{path:"/refund",element:p.jsx(Ohe,{})}),p.jsx(Nt,{path:"/trending",element:p.jsx(qhe,{})}),p.jsx(Nt,{path:"/trending-now",element:p.jsx(Qhe,{})}),p.jsx(Nt,{path:"/growth-ai/follower-journey-map",element:p.jsx(Hl,{to:"/subscription",replace:!0})}),p.jsx(Nt,{path:"/growth-ai/brand-collab-readiness-score",element:p.jsx(Hl,{to:"/subscription",replace:!0})}),p.jsx(Nt,{path:"/growth-ai/engagement-funnel-breakdown",element:p.jsx(Hl,{to:"/subscription",replace:!0})}),p.jsx(Nt,{path:"/growth-ai/hashtag-saturation-meter",element:p.jsx(Hl,{to:"/subscription",replace:!0})}),p.jsx(Nt,{path:"/growth-ai/ai-powered-daily-growth-tips",element:p.jsx(Hl,{to:"/subscription",replace:!0})}),p.jsx(Nt,{path:"/growth-ai/competitor-content-heatmap",element:p.jsx(Hl,{to:"/subscription",replace:!0})})]}),p.jsx(Nt,{path:"/auth",element:p.jsx(Rhe,{})}),p.jsx(Nt,{path:"*",element:p.jsx(BQ,{})})]})})]})})}const ide=console.error;console.error=(...n)=>{var i;const e=((i=n[0])==null?void 0:i.toString())||"",t=n.join(" ").toLowerCase();e.includes("403")&&(e.includes("scontent")||e.includes("cdninstagram")||e.includes("instagram"))||t.includes("cross-origin-opener-policy")||t.includes("window.closed")||e.includes("firebase_auth")&&t.includes("policy")||ide.apply(console,n)};window.addEventListener("error",n=>{var i,r;const e=((i=n.message)==null?void 0:i.toLowerCase())||"",t=((r=n.filename)==null?void 0:r.toLowerCase())||"";if(e.includes("403")&&(t.includes("scontent")||t.includes("cdninstagram")||t.includes("instagram"))||e.includes("cross-origin-opener-policy")||e.includes("window.closed")||t.includes("firebase_auth")&&e.includes("policy"))return n.preventDefault(),!1},!0);const h5=document.getElementById("root");if(!h5)throw new Error("Failed to find the root element");const rde=cM(h5);rde.render(p.jsx(w.StrictMode,{children:p.jsx(nde,{})}));
